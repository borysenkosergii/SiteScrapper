

		
		<script type="text/x-template" id="showcase-gallery-v2-template">
            <div ref="showcaseRef" class="showcase" :class="'media-' + addGalleryLayoutClass()">
                <template v-for="(img, index) in showcaseimages">
                    
                    <a v-if="index <= 5"
                        class="showcase--media"
                        :class="[
                            
                            img.mediatype == 'video' ? 'video' : ''
                        ]"
                        @click="openSelectedImage(index)"
                        :title="img.featureTitleText"
                        :data-imageindex="index">

                        
                        <template v-if="showcaseimages.length >= 4">
                            <img width="242" height="182" :alt="img.exhibitor" :src="img.thumbnailSrc" v-if="index >= 1" />
                            <img width="506" height="380" :alt="img.exhibitor" :src="img.thumbnailSrc2" v-else />
                        </template>
                        
                        <template v-else>
                            <img width="506" height="380" :alt="img.exhibitor" :src="img.thumbnailSrc2" />
                        </template>
                        
                        <div v-if="img.mediatype == 'video' && !isSmallDisplay" class="label">
                            <svg xmlns="http://www.w3.org/2000/svg" width="54" height="54" viewBox="0 0 54 54" fill="none">
                                <circle cx="27" cy="27" r="27" fill="white"/>
                                <path d="M20.9375 37.625L37.625 27L20.9375 16.375V37.625ZM27 52C23.5833 52 20.3542 51.3438 17.3125 50.0312C14.2708 48.7188 11.6146 46.9271 9.34375 44.6562C7.07292 42.3854 5.28125 39.7292 3.96875 36.6875C2.65625 33.6458 2 30.4167 2 27C2 23.5417 2.65625 20.2917 3.96875 17.25C5.28125 14.2083 7.07292 11.5625 9.34375 9.3125C11.6146 7.0625 14.2708 5.28125 17.3125 3.96875C20.3542 2.65625 23.5833 2 27 2C30.4583 2 33.7083 2.65625 36.75 3.96875C39.7917 5.28125 42.4375 7.0625 44.6875 9.3125C46.9375 11.5625 48.7188 14.2083 50.0312 17.25C51.3438 20.2917 52 23.5417 52 27C52 30.4167 51.3438 33.6458 50.0312 36.6875C48.7188 39.7292 46.9375 42.3854 44.6875 44.6562C42.4375 46.9271 39.7917 48.7188 36.75 50.0312C33.7083 51.3438 30.4583 52 27 52Z" fill="black"/>
                            </svg>
                        </div>
                        
                        
                        
                        <button v-if="displayGalleryBtn(img, index)" class="btn-transparent-blk gallery-btn" @click.stop="viewAllImages()">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                                <path d="M6.80766 10.3846H13.8172L11.4894 7.32692L9.70667 9.60578L8.52975 8.14903L6.80766 10.3846ZM6.04324 13.125C5.66439 13.125 5.34372 12.9937 5.08123 12.7312C4.81873 12.4687 4.68748 12.148 4.68748 11.7692V3.23078C4.68748 2.85193 4.81873 2.53125 5.08123 2.26875C5.34372 2.00625 5.66439 1.875 6.04324 1.875H14.5817C14.9605 1.875 15.2812 2.00625 15.5437 2.26875C15.8062 2.53125 15.9374 2.85193 15.9374 3.23078V11.7692C15.9374 12.148 15.8062 12.4687 15.5437 12.7312C15.2812 12.9937 14.9605 13.125 14.5817 13.125H6.04324ZM6.04324 12H14.5817C14.6394 12 14.6922 11.9759 14.7403 11.9279C14.7884 11.8798 14.8124 11.8269 14.8124 11.7692V3.23078C14.8124 3.17308 14.7884 3.12018 14.7403 3.07209C14.6922 3.02402 14.6394 2.99998 14.5817 2.99998H6.04324C5.98554 2.99998 5.93265 3.02402 5.88458 3.07209C5.83649 3.12018 5.81244 3.17308 5.81244 3.23078V11.7692C5.81244 11.8269 5.83649 11.8798 5.88458 11.9279C5.93265 11.9759 5.98554 12 6.04324 12ZM3.41826 15.7499C3.03942 15.7499 2.71875 15.6187 2.45625 15.3562C2.19375 15.0937 2.0625 14.773 2.0625 14.3942V4.73078H3.18748V14.3942C3.18748 14.4519 3.21152 14.5048 3.25959 14.5528C3.30768 14.6009 3.36057 14.625 3.41826 14.625H13.0817V15.7499H3.41826Z"/>
                            </svg>
                            <span>{{content.viewDetailsBtn}} ({{showcaseimages.length}})</span>
                            
                        </button>
                    </a>
                </template>
                
                <div v-if="showcaseimages.length == 1" class="showcase-text">
                    <div class="title">
                        <h2>{{showcaseimages[0].featureTitleText}}</h2>
                        <toggle-favorite
                            :type="'showfeature'"
                            :exhid="showcaseimages[0].exhid"
                            :keys="showcaseimages[0].togglekeys"
                            :addedtoplanner="showcaseimages[0].addedtoplanner"
                            v-on:toggle-favorite="$emit('toggle-favorite', $event); handleAdd();"
                            class="mt2">
                        </toggle-favorite>
                    </div>
                    <div class="flex flex-column gap-4" v-html="showcaseimages[0].description">
                    </div>
                </div>
                
                <button v-if="isSmallDisplay" class="btn-transparent-blk gallery-btn" @click.stop="viewAllImages()">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18" fill="none">
                        <path d="M6.80766 10.3846H13.8172L11.4894 7.32692L9.70667 9.60578L8.52975 8.14903L6.80766 10.3846ZM6.04324 13.125C5.66439 13.125 5.34372 12.9937 5.08123 12.7312C4.81873 12.4687 4.68748 12.148 4.68748 11.7692V3.23078C4.68748 2.85193 4.81873 2.53125 5.08123 2.26875C5.34372 2.00625 5.66439 1.875 6.04324 1.875H14.5817C14.9605 1.875 15.2812 2.00625 15.5437 2.26875C15.8062 2.53125 15.9374 2.85193 15.9374 3.23078V11.7692C15.9374 12.148 15.8062 12.4687 15.5437 12.7312C15.2812 12.9937 14.9605 13.125 14.5817 13.125H6.04324ZM6.04324 12H14.5817C14.6394 12 14.6922 11.9759 14.7403 11.9279C14.7884 11.8798 14.8124 11.8269 14.8124 11.7692V3.23078C14.8124 3.17308 14.7884 3.12018 14.7403 3.07209C14.6922 3.02402 14.6394 2.99998 14.5817 2.99998H6.04324C5.98554 2.99998 5.93265 3.02402 5.88458 3.07209C5.83649 3.12018 5.81244 3.17308 5.81244 3.23078V11.7692C5.81244 11.8269 5.83649 11.8798 5.88458 11.9279C5.93265 11.9759 5.98554 12 6.04324 12ZM3.41826 15.7499C3.03942 15.7499 2.71875 15.6187 2.45625 15.3562C2.19375 15.0937 2.0625 14.773 2.0625 14.3942V4.73078H3.18748V14.3942C3.18748 14.4519 3.21152 14.5048 3.25959 14.5528C3.30768 14.6009 3.36057 14.625 3.41826 14.625H13.0817V15.7499H3.41826Z"/>
                    </svg>
                    <span>{{content.viewDetailsBtn}} ({{showcaseimages.length}})</span>
                    
                </button>
            </div>
		</script>
	

	<script>
		var showcaseGalleryv2 = Vue.component('showcase-gallery-v2', {
			data: function() {
                return {
                    compincludepath: "includes/vue/exhibitor/showcase-gallery-v2.cfm",
                    lastVisibleImageIndex: 0,
                    isSmallDisplay: false,
                    showcaseWrapperEl: null,
                    observer: null
                }
			},
			template:"#showcase-gallery-v2-template",
			props: ['showcaseimages', 'defaultselectedindex'],
			mounted: function() {
                this.checkSmallDisplay();

                // wackkk
                if (Number.isInteger(this.defaultselectedindex) && this.defaultselectedindex >= 0) {
                    var vObj = this;
                    setTimeout(function() {
                        vObj.openSelectedImage(vObj.defaultselectedindex);
                    }, 1000);
                }
            },
            computed: {
                content: function() {
                    return this.getContentObject(this.compincludepath);
                }
            },
			methods: {
                /* Get index of the last visible image in the showcase gallery and set lastVisibleImageIndex */
                checkLastVisibleImg: function() {
                    const showcaseEl = this.$refs.showcaseRef
                    const numberOfImages = this.showcaseimages.length;

                    
                    if(numberOfImages <= 5 && numberOfImages != 0) {
                        lastVisibleImageIndex = numberOfImages - 1;
                    
                    } else if (numberOfImages >= 6) {
                        
                        lastVisibleImageIndex = 5;
                    } else {
                        lastVisibleImageIndex = 0;
                    }

                    return lastVisibleImageIndex;
                },
                /* Resize Observer to toggle mobile 'view all/view details' button and set isSmallDisplay */
                checkSmallDisplay: function() {
                    this.showcaseWrapperEl = document.querySelector('.showcase--wrapper');
                    this.observer = new ResizeObserver ((showcaseWrappers) => {
                        showcaseWrappers.forEach((wrapper) => {
                            if(wrapper.contentRect.width <= 743) {
                                this.isSmallDisplay = true;
                                return;
                            }
                            this.isSmallDisplay = false;
                        })
                    })

                    this.observer.observe(this.showcaseWrapperEl);
                },
                /* Add layout class for gallery based on number of images in the gallery */
                addGalleryLayoutClass: function() {
                    const numberOfImages = this.showcaseimages.length;

                    
                    if(numberOfImages <= 5 && numberOfImages != 0) {
                        return numberOfImages;
                    
                    } else if (numberOfImages >= 6) {
                        
                        return 6;
                    } else {
                        return 1;
                    }
                },
                viewAllImages: function() {
                    this.$root.$emit('showcase-gallery-open');
                },
                openSelectedImage: function(index) {
                    this.$root.$emit('showcase-gallery-open-selected', index);
                },
                isOverlayImage: function(index) {
                    return (index == this.checkLastVisibleImg() && this.showcaseimages.length > 3);
                },

                //function to display the view all gallery button (not overlay) when only 2 or 3 images are in the showcase gallery;
                displayGalleryBtn: function (img, index) {
                    if(this.showcaseimages.length > 1) {
                        if(index == this.checkLastVisibleImg()) {
                            return true;
                        }
                    }
                    return false;
                }
			}
		});
	</script>


		
		<script type="text/x-template" id="exhibitor-card-contact-v2-template">
			<article class="card-v2 shadow contact">
				<div class="card-section_top">
					<div class="image-bio_wrapper">
						
						<img v-if="thumbnail" :src="thumbnail" :title="name" class="headshot" width="80" height="80" />
						<div>
							<p v-if="name" class="name">{{name}}</p>
							<p v-if="title" class="job-title is-shown_desktop">{{title}}</p>
						</div>
					</div>
					<toggle-favorite
						:type="'onlinecontact'"
						v-bind:keys="contactid"
						v-bind:addedtoplanner="bitToBool(hasplanner)"
						v-on:toggle-favorite="$emit('toggle-favorite', $event)"
						v-bind:exhid="exhid"
						v-if="loggedin"
					></toggle-favorite>
				</div>
				<p v-if="title" class="job-title is-shown_mobile">{{title}}</p>
				<div class="card-section_middle">
					<p ref="biotext" class="bio" :class="(showfullbio ? 'animated fadeIn' : 'line-clamp  line-clamp__5')" v-html="bio"></p>
				</div>

				
				<div v-if="loggedin && hasvalidation && validated && hasexhibitorchat && isoptedin" class="center  mb3  tc">
					<button title="Chat" :class="(isavailable ? 'btn-primary' : 'btn-tertiary') + '  pl5  pr5'" @click="initiateChat(contactid, exhid, chatid, name, email, hasplanner)">Message</button>
				</div>
				<div v-else-if="loggedin && hasvalidation && !validated && isavailable" class="tc">
					<button class="btn-secondary  pl5  pr5" @click="sendEmailVerfication()">Confirm your email to chat</button>
				</div>

				<div class="card-section_bottom">
					<div class="readmore_container">
						<span v-if="bioClamped" class="is-link button-readmore" @click="toggleReadMore">{{readMoreText}}</span>
					</div>

					
					<div v-if="email || twitter || linkedin || facebook || instagram" class="column social-media_container">
						
							<button v-if="email && loggedin && hasmyshow" :title="'Email ' + name" @click="sendEmail" class="btn_Icon_Square emailbtn">
								<svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
									<path d="M3.92243 16.25C3.50149 16.25 3.14518 16.1041 2.85352 15.8125C2.56185 15.5208 2.41602 15.1645 2.41602 14.7435V5.25642C2.41602 4.83547 2.56185 4.47917 2.85352 4.1875C3.14518 3.89583 3.50149 3.75 3.92243 3.75H16.7429C17.1638 3.75 17.5201 3.89583 17.8118 4.1875C18.1035 4.47917 18.2493 4.83547 18.2493 5.25642V14.7435C18.2493 15.1645 18.1035 15.5208 17.8118 15.8125C17.5201 16.1041 17.1638 16.25 16.7429 16.25H3.92243ZM10.3327 10.4647L3.666 6.20188V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H16.7429C16.8177 15 16.8791 14.9759 16.9272 14.9279C16.9753 14.8798 16.9993 14.8183 16.9993 14.7435V6.20188L10.3327 10.4647ZM10.3327 9.16665L16.8711 4.99998H3.7942L10.3327 9.16665ZM3.666 6.20188V4.99998V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H3.666V6.20188Z" />
								</svg>
							</button>
							
							<a class="btn_Icon_Square emailbtn" v-if="email && !loggedin && hasmyshow" :href="path2approot + '/login/login.cfm?redirect_to=' + customURIEncode(thispageurl)" :title="'Login to email ' + name">
								<svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
									<path d="M3.92243 16.25C3.50149 16.25 3.14518 16.1041 2.85352 15.8125C2.56185 15.5208 2.41602 15.1645 2.41602 14.7435V5.25642C2.41602 4.83547 2.56185 4.47917 2.85352 4.1875C3.14518 3.89583 3.50149 3.75 3.92243 3.75H16.7429C17.1638 3.75 17.5201 3.89583 17.8118 4.1875C18.1035 4.47917 18.2493 4.83547 18.2493 5.25642V14.7435C18.2493 15.1645 18.1035 15.5208 17.8118 15.8125C17.5201 16.1041 17.1638 16.25 16.7429 16.25H3.92243ZM10.3327 10.4647L3.666 6.20188V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H16.7429C16.8177 15 16.8791 14.9759 16.9272 14.9279C16.9753 14.8798 16.9993 14.8183 16.9993 14.7435V6.20188L10.3327 10.4647ZM10.3327 9.16665L16.8711 4.99998H3.7942L10.3327 9.16665ZM3.666 6.20188V4.99998V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H3.666V6.20188Z" />
								</svg>
							</a>
						
						<a v-if="twitter" :href="twitter" target="_blank" title="X"  class="btn_Icon_Square xbtn">
							<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
								<path d="M14.0681 10.3515L19.5321 4H18.2373L13.4929 9.5149L9.70356 4H5.33301L11.0632 12.3395L5.33301 19H6.62788L11.6381 13.1761L15.6399 19H20.0105L14.0678 10.3515H14.0681ZM12.2946 12.413L11.714 11.5825L7.09444 4.97476H9.08328L12.8113 10.3075L13.3919 11.1379L18.2379 18.0696H16.2491L12.2946 12.4133V12.413Z" />
							</svg>
						</a>
						<a v-if="linkedin" :href="linkedin" target="_blank" title="Linked In"  class="btn_Icon_Square linkedinbtn">
							<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
								<path d="M7.10723 5C5.99825 5 5.33301 5.66664 5.33301 6.55434C5.33301 7.44204 5.99834 8.10615 6.99602 8.10615C8.105 8.10615 8.77024 7.44204 8.77024 6.55434C8.77024 5.66664 8.10492 5 7.10723 5ZM5.42147 9.76664V18.8248H8.68684V9.76664H5.42147ZM11.381 9.76664V18.8248H14.6464V13.8736C14.6464 12.3997 15.698 12.1879 16.0137 12.1879C16.3295 12.1879 17.1738 12.5046 17.1738 13.8736V18.8248H20.333V13.8736C20.333 11.0307 19.0697 9.76664 17.4897 9.76664C15.9097 9.76664 15.067 10.2927 14.6464 11.0303V9.76664H11.381Z"/>
							</svg>
						</a>
						<a v-if="facebook" :href="facebook" target="_blank" title="Facebook" class="btn_Icon_Square facebookbtn">
							<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
								<path d="M16.2267 9.25003H13.583V7.75003C13.583 6.97604 13.646 6.48854 14.7552 6.48854H16.1562V4.10355C15.4745 4.03305 14.789 3.99855 14.1027 4.00005C12.068 4.00005 10.583 5.24279 10.583 7.52429V9.25003H8.33301V12.25L10.583 12.2493V19H13.583V12.2478L15.8825 12.247L16.2267 9.25003Z"/>
							</svg>
						</a>
						<a v-if="instagram" :href="instagram" target="_blank" title="Instagram" class="btn_Icon_Square instagrambtn">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
								<path d="M8.273 3.319c-.958.045-1.612.198-2.184.422-.591.231-1.093.54-1.592 1.041a4.409 4.409 0 0 0-1.035 1.595c-.222.573-.372 1.228-.414 2.186-.042.958-.052 1.266-.047 3.71.005 2.444.016 2.75.062 3.71.046.958.198 1.612.423 2.184.23.591.54 1.093 1.04 1.592.502.499 1.003.805 1.597 1.035.572.221 1.227.372 2.185.414.958.042 1.266.052 3.71.047 2.443-.005 2.75-.016 3.71-.061.96-.046 1.61-.2 2.183-.423a4.411 4.411 0 0 0 1.592-1.04 4.41 4.41 0 0 0 1.035-1.597c.221-.573.372-1.227.414-2.184.042-.961.051-1.268.047-3.711-.005-2.444-.016-2.75-.061-3.71-.046-.96-.198-1.612-.423-2.184a4.418 4.418 0 0 0-1.04-1.592c-.501-.5-1.004-.807-1.597-1.035-.572-.221-1.227-.372-2.185-.414-.958-.041-1.266-.052-3.71-.047-2.444.005-2.75.015-3.71.062Zm.105 16.27c-.878-.038-1.354-.184-1.672-.306a2.802 2.802 0 0 1-1.036-.672 2.772 2.772 0 0 1-.675-1.033c-.124-.318-.272-.793-.313-1.671-.045-.948-.054-1.233-.06-3.636-.005-2.403.005-2.687.046-3.636.038-.877.184-1.354.306-1.671.162-.421.357-.72.671-1.036a2.778 2.778 0 0 1 1.034-.676c.317-.123.793-.27 1.67-.312.95-.045 1.234-.054 3.636-.06 2.403-.005 2.688.004 3.638.046.876.038 1.354.183 1.67.306.421.162.72.356 1.037.671.316.315.511.613.675 1.034.124.316.271.792.313 1.67.045.949.055 1.234.06 3.636.004 2.402-.005 2.688-.046 3.636-.038.877-.184 1.354-.306 1.672a2.79 2.79 0 0 1-.672 1.036 2.78 2.78 0 0 1-1.034.675c-.316.124-.793.271-1.67.313-.948.045-1.233.054-3.636.06-2.403.005-2.687-.005-3.636-.046m7.337-12.143a1.08 1.08 0 1 0 2.16-.004 1.08 1.08 0 0 0-2.16.004Zm-8.336 4.819a4.62 4.62 0 1 0 9.242-.018 4.62 4.62 0 0 0-9.242.018ZM9 12.262a3 3 0 1 1 6-.012 3 3 0 0 1-6 .012Z"/>
							</svg>
						</a>
					</div>
				</div>

			</article>
		</script>
	

	<script>
		var myshowCardv2 = Vue.component('exhibitor-card-contact-v2', {
			data: function() {
				return {
					compincludepath: "includes/vue/generic/exhibitor-card-contact-v2.cfm",
					showfullbio: false,
					bioClamped: false
				}
			},
			template:"#exhibitor-card-contact-v2-template",
			// props: ['name', 'title', 'bio', 'contactimage', 'favorite', 'email', 'linkedin', 'instagram', 'twitter'],
			props: ["name", "title", "isavailable", "bio", "email", "twitter", "facebook", "linkedin", "instagram", "thumbnail", "loggedin", "exhid", "hasplanner", "contactid", "chatid", "isoptedin"],
			mounted: function() {
				this.isBioClamped();
			},
			created: function() {
				window.addEventListener("resize", this.isBioClamped);
			},
			destroyed: function() {
				window.removeEventListener("resize", this.isBioClamped);
			},
			computed: {
				content: function() {
					return  {
						loginToContact: this.displaycontent(this.compincludepath, 'loginToContact')
					}
				},
				readMoreText: function() {
					if(this.showfullbio) {
						return 'Read Less';
					} else {
						return 'Read More';
					}
				}
			},
			methods: {
				loadDefaultImage: function(e) {
					e.target.src = 'http://fpoimg.com/100x47?text=Preview'
				},
				toggleReadMore: function() {
					this.showfullbio = !this.showfullbio;
				},
				isBioClamped: function(e) {
					if(typeof(this.$refs.biotext.scrollHeight) == 'number' && this.$refs.biotext.scrollHeight > this.$refs.biotext.clientHeight) {
						this.bioClamped = true;
					} else {
						this.bioClamped = false;
					}
				},
				sendEmail: function(e){
					var vObj = this;

					if(this.loggedin)
					{
						this.$emit('email-contact', {
							contactid: this.contactid,
							fullname: this.name,
							contactemail: this.email
						});
					}
					else
					{
						this.$emit('email-contact');
					}
				},
				initiateChat: function(contactid, exhid, userid, fullname, email, addedtoplanner, contactindex)
				{
					if(!addedtoplanner)
					{
						var myshowfunction = "AddFavorite"
						, requestObj = {"keys": contactid, "tablename": "additionalcontacts", "exhid": exhid}
						, vObj = this
						, callback = function(){ vObj.addedtoplannerfinal = true; }
						, errormessage = "Error adding online contact to planner",
						return_to = encodeURIComponent(vObj.getCurrentURL());

						vObj.ajaxGet(
							vObj.path2approot + '/myshow/myshow-actions.cfm?action=' + myshowfunction + "&" + vObj.objectToURLValues(requestObj) + "&return_to=" + return_to,	// ajaxGet() defined in _global-mixin
							function(response)
							{
								// success
								callback();
							},
							function(response)
							{
								// error
								if ("ERRORCODE" in response && response.ERRORCODE == "12345")
								{
									location.href = vObj.path2approot + '/login/login.cfm';
								}
								else
								{
									vObj.showMessage("error", "Error favoriting item");
								}
							}
						);		// end ajaxGet

						this.$emit('contact-favorited');
					}

					this.$emit('chat-initiated', {userid: userid, fullname: fullname, email: email});
				}
			}
		});
	</script>


		
		<script type="text/x-template" id="exh-show-event-template">
			<div class="cards-v2-wrapper grid-gap-50 fill col-3 mt5">
				<article class="card-v2 shadow scheduled-event">
					<div class="card-outer">
						<div class="card-section_top">
							<img class="w-100"
							height="324"
							width="324"
							:src="imgsrc"
							:alt="title"
							:srcset="imgsrcset"
							:onError="'this.onerror=null;this.srcset=\'\';this.src=\'' + path2approot + '/assets/imgs/error-broken-image.png\''">
						</div>
						<div class="card-section_bottom">
							<div class="title-favorite_wrapper">
								<div v-if="category || title">
									<span v-if="category" class="tag">{{category}}</span>
									<h4 v-if="title" class="title">
										<a v-if="url && url.trim() !== ''" v-on:click="urlClicked(url)" :href="url" :title="title">{{title}}</a>
										<span v-else>{{title}}</span>
									</h4>
								</div>
								<div class="ma0  ml3  mw3">
									<toggle-favorite
										:tablename="tablename"
										:type="type"
										v-bind:keys="keyvalue"
										v-bind:addedtoplanner="addedtoplanner"
										v-bind:exhid="exhid"
										v-on:toggle-favorite="$emit('toggle-favorite', $event)"
									>
									</toggle-favorite>
								</div>
							</div>
							<h4 v-if="startdate == enddate" class="date">{{startdate}} {{starttime}} - {{endtime}} <span v-if="showtimezone">{{timezone}}</span></h4>
							<h4 v-if="startdate != enddate" class="date">{{starttime}} {{startdate}} - {{endtime}} {{enddate}} <span v-if="showtimezone">{{timezone}}</span></h4>
							<p ref="eventdescription" class="event-description line-clamp__7 animated" :class="[ readMoreOpen ? 'fadeIn' : 'line-clamp']" v-html="description"></p>
							<button
								v-if="needLineClamp"
								id="js-sectionToggleBtn"
								:title="[ readMoreOpen ? content.readLessText : content.readMoreText]"
								class="flow btn-v2 link mt3 descriptionBtn"
								@click="toggleReadMore">
								{{readMoreOpen ? content.readLessText : content.readMoreText}}
							</button>
						</div>
					</div>
				</article>
			</div>
		</script>
	

	<script>
		var ShowEvent = Vue.component('exh-show-event-v2', {
			data: function(){
				return {
					compincludepath: "includes/vue/exhibitor/exh-show-event-v2.cfm",
					needLineClamp: false,
					readMoreOpen: false,
					eventDescriptionObserver: null
				}
			},
			template:"#exh-show-event-template",
			props: ["addedtoplanner", "exhid", "title", "description", "category", "keyvalue", "starttime", "startdate", "endtime", "enddate", "url", "imgsrc", "imgsrcset", "showtimezone", "timezone", "tablename", "type"],
			computed: {
				content: function() {
					return this.getContentObject(this.compincludepath);
				}
			},
			mounted: function() {
				this.eventDescriptionObserver = new ResizeObserver(() => {
					this.checkNeedLineClamp();
				});
				this.eventDescriptionObserver.observe(this.$refs.eventdescription);
			},
			methods: {
				urlClicked: function(url){
					var urlString = (url+'').toLowerCase();

					if (urlString.includes('http')) {
						this.logStats('URL Link', '', this.exhid, urlString, 'Scheduled Event Link');
					}
				},
				toggleReadMore: function() {
					this.readMoreOpen = !this.readMoreOpen;
				},
				checkNeedLineClamp: function() {
					if(this.$refs.eventdescription) {
						if(this.$refs.eventdescription.scrollHeight > this.$refs.eventdescription.clientHeight) {
							this.needLineClamp = true;
						}
					}
				}
			}
		});

		function imageLoadError(element, thumbList, mediaList) {
			var image = new Image();
			image.onload = function() {
				element.src = this.src;
			}
			image.onerror = function() {
				if (thumbList.length) {
					imageLoadError(element, thumbList, mediaList);
				}
			}
			image.src = thumbList.shift();
		}
	</script>

		
		<script type="text/x-template" id="showcase-modal-template"> <transition name="modal" v-if="showmodal"><div class="exh-showcase-modal exh-showcase-modal-mask" @keyup.esc="onEscape" tabindex="0" ref="modalparent"><div class="exh-showcase-modal-wrapper" v-on:click.self="closeModal(true);"><div class="exh-showcase-modal-container"><div class="modal-container-inner"><div class="close-button-wrapper_mobile"><button v-if="allowclose" v-on:click.stop.prevent="closeModal(false);" class="button-close-showcase-modal bb-0 btn btn-reset" aria-label="Close this Window"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M0.882988 20L0 19.117L9.11701 10L0 0.882988L0.882988 0L10 9.11701L19.117 0L20 0.882988L10.883 10L20 19.117L19.117 20L10 10.883L0.882988 20Z" fill="white"/></svg></button></div><div class="modal-thumbnails-wrapper"><a v-for="(gallerythumb, index) in showcaseimages" @click="openImage(index)"><img:src="gallerythumb.thumbnailSrc" :key="index" :data-imagenumber="index"class="image-thumbnail" :class="index + 1 == currentlySelectedIndex ? 'is-selected' : ''" /></a></div><div class="modal-content-wrapper"><div class="modal-content-featureimage-wrapper"><img :src="currentlySelected.previewSrc" class="modal-content-featureimage animated fadeIn" v-if="currentlySelected.mediatype == 'image'" /><video ref="videodisplay" controls v-if="currentlySelected.mediatype == 'video'" class="modal-content-featureimage animated fadeIn" :src="currentlySelected.previewSrc"></video></div><div class="modal-content-info-wrapper"><div class="modal-content-info-top"><span class="index-number animated fadeIn">{{currentlySelectedIndex}} / {{showcaseImagesCount}}</span><toggle-favorite:fullbuttondisplay="true":type="'showfeature'":exhid="currentlySelected.exhid":keys="currentlySelected.togglekeys":addedtoplanner="currentlySelected.addedtoplanner"v-on:toggle-favorite="$emit('toggle-favorite', $event); onToggleFavorite();"></toggle-favorite></div><div class="modal-content-info-bottom"><p class="title animated fadeIn">{{currentlySelected.featureTitleText}}</p><p v-html="currentlySelected.description" class="description animated fadeIn"></p></div></div></div><div class="close-button-wrapper_desktop"><button v-if="allowclose" v-on:click.stop.prevent="closeModal(false);" class="button-close-showcase-modal bb-0 btn btn-reset" aria-label="Close this Window"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><path d="M0.882988 20L0 19.117L9.11701 10L0 0.882988L0.882988 0L10 9.11701L19.117 0L20 0.882988L10.883 10L20 19.117L19.117 20L10 10.883L0.882988 20Z" fill="white"/></svg></button></div></div></div></div></div></transition></script>
	

	<script>
		var exhShowcaseDisplay = Vue.component('exh-showcase-modal', {
	        template:"#showcase-modal-template",
	        props: {
	        	showmodal: {
	        		default: false,
	        		type: Boolean
	        	},
	        	title: {
	        		default: "",
	        		type: String
	        	},
				small: {
					default: false,
					type: Boolean
				},
				closeonoutsideclick:
				{
					default: true,
					type: Boolean
				},
				allowcloseonesc:
				{
					default: true,
					type: Boolean
				},
				allowclose:
				{
					default: true,
					type: Boolean
				},
				showcaseimages:
				{
					type: Array
				},
				addedtoplanner:
				{
					type: Boolean
				},
				providedselectedindex:
				{
					type: [Number,String]
				}
			},
			data: function(){
				return {
					compincludepath: "includes/vue/generic/exh-showcase-modal.cfm",
					currentlySelected: this.showcaseimages[0],
					currentlySelectedIndex: 1,
					showcaseImagesCount: this.showcaseimages.length
				}
			},
			mounted: function() {
				var vObj = this;


				this.$root.$on('showcase-gallery-open', function(data) {
					vObj.openImage(0);
				});
				this.$root.$on('showcase-gallery-open-selected', function(data) {
					vObj.openImage(data);
				});

				if (Number.isInteger(this.providedselectedindex)) {
					this.openImage(this.providedselectedindex);
					this.$root.$emit('showcase-gallery-open-selected', this.providedselectedindex);
					this.openModal();
				}
			},
			watch: {
				showmodal: function() {
					var vObj = this;
					if (vObj.showmodal == true){
						Vue.nextTick(function(){
							vObj.$refs.modalparent.focus();
						});
					}
					this.handleBackgroundScroll();
				}
			},
			computed:{
				content: function(){
					return  {
						closeText: this.displaycontent(this.compincludepath, 'closeText')
					};
				}
			},
			methods: {
				closeDisplay:function(){
					vObj.hideerror = true;
				},
				openModal: function(){
					this.$emit("open-modal-showcase");
				},
				closeModal: function(outsideclicked)
				{
					if (this.allowclose && !outsideclicked || (outsideclicked && this.closeOnOutsideClick)) {
						this.$emit("close-modal-showcase");
					}
				},
				onEscape: function(){
					if (this.allowcloseonesc){
						this.closeModal();
					}
				},
				openImage: function(index) {
					var vObj = this;

					vObj.currentlySelected = vObj.showcaseimages[index];
					vObj.currentlySelectedIndex = index + 1;
					vObj.$root.$emit('item-selected', vObj.showcaseimages[index]);
					
					if (vObj.currentlySelected && vObj.currentlySelected.mediatype == 'video') {
						Vue.nextTick(async function () {
							setTimeout(function(){
								vObj.$refs.videodisplay.play();
							}, 500);
						});
					}
					return false;
				},
				handleBackgroundScroll: function() {
                	const html = document.querySelector('html');
					if (html) {
						if (this.showmodal === true) {
							html.classList.add('scrolling-disabled')
						} else {
							html.classList.remove('scrolling-disabled')
						}
					}
				},
				onToggleFavorite: function() {
					if(this.showcaseimages[this.currentlySelectedIndex-1].addedtoplanner == false) {
						this.showcaseimages[this.currentlySelectedIndex-1].addedtoplanner = true;
					} else if(this.showcaseimages[this.currentlySelectedIndex-1].addedtoplanner == true) {
						this.showcaseimages[this.currentlySelectedIndex-1].addedtoplanner = false;
					}
				}
			}

		});
	</script>


		
		<script type="text/x-template" id="error-template"> <div v-if="showmessage && animationClass" v-bind:class="[alertclass, animationClass, 'o-Alert', 'animated']" v-bind:style="{ zIndex: zindex }" v-cloak><div class="centermw9flexjustify-betweenitems-center"><div class="mb0center" v-for="(e, index) in messages"><span v-html="e"></span></div><a href="" class="bb-0pa1ml2" @click.prevent="closeDisplay()" title="Close this message"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" role="img" aria-hidden="true"><path fill="#000" fill-rule="nonzero" d="M23.954 21.03l-9.184-9.095 9.092-9.174L21.03-.046l-9.09 9.179L2.764.045l-2.81 2.81L9.14 11.96.045 21.144l2.81 2.81 9.112-9.192 9.18 9.1z"/></svg></a></div></div></script>
	
	<script>
		var MessageDisplay = Vue.component('message-display', {
	        template:"#error-template",
	        props: {
	        	showmessage:{
	        		type: Boolean,
	        		default: false
	        	},
	        	messages: {
	        		type: Array,
	        		default: []
	        	},
	        	type:{
	        		type:String,
	        		default: "info"			// warning, info, error, or success
	        	},
	        	timeout:{
	        		type: Number,
	        		default: 20
	        	}
	        },
			data: function(){
				return {
					hidemessage: null,
					alertclass: "o-Alert_Info",
					headertext: "",
					zindex: 9999,
					dateseed: 0,
					timeoutid: null
				}
			},
			created: function(){
				this.dateseed = Vue.MYS.getShowDateTime().getTime();		
			},
			watch:{
				stuff: function(e){
					var vObj = this;
					
					if (vObj.hidemessage == false){
						vObj.hidemessage = true;
					}

					
					setTimeout(function(){
						vObj.hidemessage = false;		
						vObj.zindex = 10000 + Vue.MYS.getShowDateTime().getTime() - vObj.dateseed;		

						
						if (vObj.timeoutid){
							clearTimeout(vObj.timeoutid);
						}

			  			switch(vObj.type){
			  				case "warning":
			  					vObj.alertclass = "o-Alert_Warning";
			  					vObj.headertext = "Warning";
			  					break;
			  				case "info":
				  				vObj.alertclass = "o-Alert_Info";
			  					vObj.headertext = "Note";
			  					break;
			  				case "error":
				  				vObj.alertclass = "o-Alert_Error";
			  					vObj.headertext = "Error";
			  					break;
			  				case "success":
			  					vObj.alertclass = "o-Alert_Success";
			  					vObj.headertext = "Success";
			  					break;
			  				default:
			  					vObj.alertclass = "o-Alert_Info";
			  					vObj.headertext = "";
			  					break;
			  			}

			  			
						if (e){
							vObj.timeoutid = setTimeout(function(){
								vObj.hidemessage = true;
							}, vObj.timeout * 1000);
						}
					}, 500);

				}
			},
			computed: {
				stuff: function(){
					return {
						showmessage: this.showmessage,
						messages: this.messages,
						type: this.type
					}
				},
				animationClass: function(){
					if (this.hidemessage == true){
						return 'fadeOutUp';
					} else if (this.hidemessage == false){
						return 'fadeInDown';
					} else {
						return '';
					}
				}
	        },
		  	methods: {
		  		closeDisplay:function(){
		  			this.hidemessage = true;
		  		}
		  	}
		});

		// this is a helper mixin to assist with display and ssuch
		var messagedisplayMixin = {
			data: function() {
				return {
					messagetype: "",
					messages: [],
					showmessage: false
				};
			},
			methods: {
				showMessage: function(type, msg){
					this.messagetype = type;

					if (msg.constructor === Array){
						this.messages = [];
						this.messages.push.apply(this.messages,msg);
					} else {
						this.messages = [];
						this.messages.push(msg);
					}
					this.showmessage = true;
				}
			}
		};
	</script>

	<style>
		.slide-fade-enter-active {
		  transition: all .3s ease;
		}
		.slide-fade-leave-active {
		 /* transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);*/
		 transition: all .3s ease;
		}
		.slide-fade-enter, .slide-fade-leave-to
		/* .slide-fade-leave-active below version 2.1.8 */ {
		  transform: translateX(10px);
		  opacity: 0;
		}
	</style>


		<script>
			/*
			Set global variable to determine printing state to adjust necesessary styles,
			such as removing IntersectionObserver() so content is rendered when printing
			*/
			window.idsIsPrinting = false;

			window.addEventListener('beforeprint', function(){
				window.idsIsPrinting = true;
			});

			window.addEventListener('afterprint', function(){
				window.idsIsPrinting = false;
			});
		</script>

		
		 
		 <script>
			 var VueMYS = {};
			 VueMYS.install = function(Vue, options){
			 	Vue.MYS = {};
			 	Vue.MYS.exhibitorTags = [];
			 	Vue.MYS.trackcss = {"For Makers":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Retail":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Foodservice":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Social Media":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Special Event":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Data and Tech":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Keynote":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"},"Trends and Research":{"textcolorhex":"#222222","backgroundcolorhex":"#d7ebfc"}};
			 	Vue.MYS.isValidURL = function(str){		// https://stackoverflow.com/questions/5717093/check-if-a-javascript-string-is-a-url
			 		var pattern = new RegExp('^(https?:\\/\\/)'+ // protocol
			 		    '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // domain name
			 		    '((\\d{1,3}\\.){3}\\d{1,3}))'+ // OR ip (v4) address
			 		    '(\\:\\d+)?(\\/[-a-z\\d@#%_.~+]*)*'+ // port and path
			 		    '(\\?[;&a-z\\d%_.~+=-]*)?'+ // query string
			 		    '(\\#[-a-z\\d_]*)?$','i'); // fragment locator
			 		  return !!pattern.test(str);
			 	};

			 	Vue.MYS.productsVoting = [];
				Vue.MYS.showTimeFormat = "h:mm tt";
			 	Vue.MYS.settingsConfig = {"timesettings":{"timezonelabel":"Eastern Time (US & Canada)","showtimezone":false},"spotlightsettings":{"spotlightcount":3},"detailsettings":{"detailspagesupgradedtov3":false},"generalsettings":{"stagingactive":true,"prodrequireplannerforaccess":false,"stagingrequireplannerforaccess":false,"prodactive":true},"exhibitorsettings":{"sendemail":[]},"numconcurrentmeetings":5,"schedulepage":{"topsection":"disabled","rotatetop":[],"days":"7","searchtypes":["Sessions","Guest Appearances"],"topdisplay":"date","rotatetime":"7","happeningtoday":"daily","hours":"2","livestreamoption":"youtube","sessions":{"display":"freetext","secondaryfilter":"disabled","texten":"Sessions","text":"Sessions"},"guestappearances":{"display":"freetext","secondaryfilter":"disabled","texten":"Exhibitor Scheduled Event","text":"Scheduled Appearance"},"homepage":"false","liveevents":{"display":"freetext","secondaryfilter":"disabled","texten":"Exhibitor Interactive Demo","text":"Interactive Demos"},"restricttop":[]},"alertsettings":{"liveeventalerts":"none","sessionalerts":"none"},"sessionsettings":{"seatcountrestriction":false,"showresources":"default"},"searchsettings":{"hidechildsessions":false,"showspeakerphoto":false,"hideoriginaltimes":false,"defaultsearchview":"list","hidesessionlocations":false,"speakernamedisplay":"[FIRSTNAME] [LASTNAME]","hidesessiontimes":false,"myshowincludesessionexhibitors":false,"hideallresults":false}};
			 	Vue.MYS.useExhSubVersion3 = true;
			 	Vue.MYS.useExhSubVersion2 = true;
				Vue.MYS.exhSubVersion = 03;
				Vue.MYS.sessionSubVersion = 03;
			 	Vue.MYS.validRooms = ["Buyer Lounge","Main Stage","Big Idea Stage","Maker Classroom","Clean Up Station","North America's Pastry Competition","Pastry Judges","Clean Up Station","Clean Up Station.","Clean Up Station..",".IV Prep Area","Show Info Desk","Speaker 1:1 Meetings","IV Prep Area","..",".","Spotlight Showcases",".Spotlight Showcases","Social Media Moment","Clean Up Station 100","Clean Up Station.","Clean Up Station..",".Clean Up Station","Clean Up Station...",".Clean Up Station.","Press Office","sofi"];
			 	Vue.MYS.validHalls = ["A","B","R"];
			 	Vue.MYS.altregid = "";
				Vue.MYS.regtype = "";
				Vue.MYS.genericKey = "production/sff2025";
				Vue.MYS.seatrestriction = false;
				Vue.MYS.useNoSpeakerThumbnail = true;

				
					Vue.MYS.allowedschedules = [];
				
				Vue.MYS.lockdown = false;

			 	Vue.MYS.getTimezoneDisplay = function(){
			 		if ("timesettings" in Vue.MYS.settingsConfig && "showtimezone" in Vue.MYS.settingsConfig.timesettings && Vue.MYS.settingsConfig.timesettings.showtimezone) {
			 			if ("timezonelabelen" in Vue.MYS.settingsConfig.timesettings) {
			 				return Vue.MYS.settingsConfig.timesettings["timezonelabelen"];
			 			} else {
			 				return "";
			 			}
			 		} else {
			 			return "";
			 		}
			 	};

				Vue.MYS.getActiveVotingRound = function(showtime){
					

					return false;
				};

				Vue.MYS.getShowDateTime = function(){
					var dt = new Date();
					var returnDate = new Date(dt.getTime() + Vue.MYS.compareToShowDate(dt));		

					return returnDate;
				};

				Vue.MYS.compareToShowDate = function(datetocompare)
				{
					// Get the current date for the user, JS gets the date in the user's time zone
					var currentdate = new Date();

					// Get the offset for the current user based on where they are and add it back in. This will calculate their time in UTC time
					// currentdate.getTimezoneOffset() will return how far off the user is from UTC time

					// Add in the show's offset and that will calculate the user's time from UTC in the show's timezone
					// this.timezoneoffset will be the show's offset value
					var currentdateinshowtimezone = new Date(currentdate.getTime() + (-240 + currentdate.getTimezoneOffset()) * 60000);


					var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
					var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
					var getVersion = navigator.userAgent.replace(/(.*)Version\//,"")
					var version = getVersion.substr(0, getVersion.indexOf(" "));

					if((isSafari && parseFloat(version) < 14) || (isIOS && (window.navigator.userAgent.search('OS 13') > -1 || window.navigator.userAgent.search('OS X 10') > -1 || window.navigator.userAgent.search('OS 12') > -1 || window.navigator.userAgent.search('OS 11') > -1)))
					{
						var datetocompare = new Date(datetocompare.getTime() + (datetocompare.getTimezoneOffset() * 60000));
					}

					return currentdateinshowtimezone.getTime() - datetocompare.getTime();
				};

			 	Vue.MYS.isAjaxSuccess = function(response){
			 		if ("SUCCESS" in response && response.SUCCESS){
			 			return true;
			 		} else {
			 			return false;
			 		}
			 	};
			 	Vue.MYS.getAjaxErrors = function(response){
			 		if ("ERRORS" in response && response.ERRORS.length > 0) {
			 			return response.ERRORS;
			 		} else {
			 			return response;
			 		}
			 	};
			 	Vue.MYS.ajaxPost = function(url, formData, successCallback, errorCallback, keepalive){
			 			keepalive = typeof keepalive !== 'undefined' ? keepalive : false;
			 			fetch(url,
			 				{
			 				method: "POST",
			 				body: formData,
			 				headers: { "X-Requested-With": "XMLHttpRequest" },
			 				credentials:'include',
			 				redirect: "manual",
			 				keepalive: keepalive
			 			})
			 			.then(function(fetchResponse) {
			 				fetchResponse.json()
			 					.then(function(response){
				 					if (Vue.MYS.isAjaxSuccess(response)){
				 						successCallback(response);
				 					} else {
				 						errorCallback(response);
				 					}
				 				})
				 				.catch(function(error){
				 					errorCallback(error);
				 				});
			 			})
			 			.catch(function (error) {
			 				console.log(error);
			 				errorCallback(error);
			 			});
			 	};
				
				Vue.MYS.formatSpeakerName = function(result, keynote) {
					var speakerName = Vue.MYS.settingsConfig.searchsettings.speakernamedisplay;

					if(keynote) {
						var replacements = {
							PREFIX: result.prefix || '',
							SUFFIX: result.suffix || '',
							FIRSTNAME: result.firstname || '',
							LASTNAME: result.lastname || '',
							MIDDLENAME: result.middlename || '',
						};
					} else {
						var replacements = {
							PREFIX: result.fields.speakerprefix_t || '',
							SUFFIX: result.fields.speakersuffix_t || '',
							FIRSTNAME: result.fields.speakerfname_t || '',
							LASTNAME: result.fields.speakerlname_t || '',
							MIDDLENAME: result.fields.speakermname_t || '',

						};
					}

					for (var [key, value] of Object.entries(replacements)) {
						if((key == 'SUFFIX' || key == 'LASTNAME') && value.length == 0) {
							speakerName = speakerName.replaceAll(`[${key}],`, '');
							if(key == 'SUFFIX') {
								speakerName = speakerName.replaceAll(`[LASTNAME],`, '[LASTNAME]');
							}
						}

						speakerName = speakerName.replaceAll(`[${key}]`, value);
					}
					return speakerName.trim();

				};

			 	
			 	Vue.MYS.sendBeacon = function(url, data) {
			 		if (navigator.sendBeacon){
			 			navigator.sendBeacon(url, data);
			 		} else {
			 			Vue.MYS.ajaxPost(url, data, function(){
			 				/* do nothing */
			 			},
			 			function(){
			 				/* do nothing */
			 			});
			 		}
			 	};

			 	Vue.MYS.getServerlessURL = function(s3bucket, s3key, width, height, fit) {
			 		var returnurl = "https://d3fv3oe83qat1b.cloudfront.net/";
			 		var sharpparams = {};
			 		sharpparams["bucket"] = s3bucket;
			 		sharpparams["key"] = s3key;
			 		sharpparams["edits"] = {
			 			resize: {
			 				width: width,
			 				height: height,
			 				fit: fit || "contain",
			 				quality:"70"
			 			}
			 		};
			 		returnurl += btoa(JSON.stringify(sharpparams));


			 		return returnurl;
			 	};

			 	Vue.MYS.environment = 'production';
			 };
			 Vue.use(VueMYS);			
		</script>

		<script>
			// https://stackoverflow.com/questions/36170425/detect-click-outside-element
			Vue.directive('click-outside', {
			  bind: function (el, binding, vnode) {
			    el.clickOutsideEvent = function (event) {
			      // here I check that click was outside the el and his childrens
			      if (!(el == event.target || el.contains(event.target))) {
			        // and if it did, call method provided in attribute value
			        vnode.context[binding.expression](event);
			      }
			    };
			    document.body.addEventListener('click', el.clickOutsideEvent)
			  },
			  unbind: function (el) {
			    document.body.removeEventListener('click', el.clickOutsideEvent)
			  },
			});

			// global mixin
			Vue.mixin({
				data: function() {
					return {
						get hasmyshow(){
							return true;
						},
						get globalcompincludepath(){
							return "includes/vue/mixin/global-mixin.cfm";
						},
						get hasvalidation()
						{
							return true;
						},
						get validated()
						{
							return false;
						},
						get showid() {
							return "SFF2025";
						},
						get showidlowercase() {
							return ("SFF2025").toLowerCase();
						},
						get thispageurl(){
							var temppath = ""  + '?exhid\x3D321755';

							if (temppath === this.path2approot + '/index.cfm'){
								return this.path2approot
							} else {
								return temppath;
							}
						},
						get path2approot(){
							return "/8_0"
						},
						get httphost(){
							return "https://sff2025.mapyourshow.com"
						},
						get exhibitorrecommendationstatus(){
							return "A"
						},
						get sessionrecommendationstatus(){
							return "A"
						},
						get regemail(){
							return ""
						},
						get availableforchat()
						{
							return false
						},
						get hasattendeechat()
						{
							return true
						},
						get hasexhibitorchat()
						{
							return true
						},
						get hassessiongroupchat()
						{
							return false
						},
						get removefilterbyrole()
						{
							return false
						},
						get isexhibitor()
						{
							return false
						},
						get showbooths(){
							return true
						},
						get maxshowbooths(){
							return 3
						},
						get requireboothsfordisplay(){
							return true
						},
						get speakernamedisplay(){
							return false
						},
						get modules(){
							return ["Boothsales","Chat","Conferences","Directory","ExhChecklist","ExhibitorInvitations","Exhibitors","Floorplan","groups","MobileApp","regintegrationstandard","Surveying"]
						},
						get hasexhicons(){
							return true
						},
						get hasnetworking(){
							return true
						},
						get legendcontent(){
							return {"COLUMNS":["ICONID","ICONFILE","DISPLAYID","TYPE","COLUMNNAME","DATESTART","DAYSPAN","DISPLAYTEXT","USEFORNEWEXHIBITORFILTER","USEFORGREENFILTER","DISPLAYLABEL"],"DATA":[[1,"mys-icons25_first-timer-1604f5bc-d3ea-1016-f186c6a8f6026555.png",708,"bit","newexhibitor",null,null,"First Time Exhibitor",false,false,true],[2,"mys-icons25_new-product-1606ba50-ba95-452a-2f172f4e2f0fa0c1.png",18050,"bit","new_product",null,null,"New Product",false,false,true],[3,"mys-icons25_distributor-1608002e-d043-046e-11a5e28c347ad5df.png",39111,"bit","distributor",null,null,"Distributor",false,false,true],[5,"mys-icons25_natural-organic-160ab7de-ade2-abcf-3bc0552b5be64fe2.png",83448,"bit","plant_based_exhibitor",null,null,"Natural Organic",false,false,true]]}
						},
						get floorplanactive(){
							return true
						},
						get advancedsearchmaxparameters(){
							return 10
						},
						get hassessionconferences(){
							return true
						},
						get showsessionconferences(){
							return false
						},
						get usefriendlyexhibitorurl(){
							return false
						},
						get virtualtradeshow()
						{
							return false;
						},
						get timezoneoffset()
						{
							return -240;
						},
						get httpreferer()
						{
							return "https\x3A\x2F\x2Fsff2025.mapyourshow.com\x2F8_0\x2F";
						}
					}
				},
				computed:{
					exhibitorrecommendationsactive: function(){
						var hasExhModule = false;
						for (var i = 0 ; i < this.modules.length; i++){
							if (this.modules[i] == "Exhibitors"){
								hasExhModule = true;
								break;
							}
						}

						return (this.exhibitorrecommendationstatus != "I" && this.exhibitorrecommendationstatus != "X" && hasExhModule) ? true : false;
					},
					sessionrecommendationsactive: function(){
						var hasSessModule = false;
						for (var i = 0 ; i < this.modules.length; i++){
							if ((this.modules[i] == "Sessions") || (this.modules[i] == "Conferences")){
								hasSessModule = true;
							}
						}
						return (this.sessionrecommendationstatus != "I" && this.sessionrecommendationstatus != "X" && hasSessModule) ? true : false;
					},
					recommendationsactive: function(){
						return this.exhibitorrecommendationsactive || this.sessionrecommendationsactive;
					},
					globalcontent: function(){
						return this.getContentObject(this.globalcompincludepath);
					}
				},
				methods: {
					// this is a function to check if one of the MYS formatted ajax responses is a valid one
					isAjaxSuccess: function(response){
						if ("SUCCESS" in response && response.SUCCESS){
							return true;
						} else {
							return false;
						}
					},
					getAjaxErrors: function(response){
						if ("ERRORS" in response && response.ERRORS.length > 0) {
							return response.ERRORS;
						} else {
							return response;
						}
					},
					ajaxGet: function(url, successCallback, errorCallback){
						var vObj = this;
						const controller = new AbortController();
						setTimeout(() => controller.abort(), 60000);
						fetch(url,
							{
								headers: {"X-Requested-With": "XMLHttpRequest", "cache-control":"no-cache", "pragma":"no-cache"},
								credentials:'include',
								cache: "no-store",
								signal: controller.signal
							})
							.then(function(fetchResponse) {
								fetchResponse.json()
									.then(function(response){
										if (vObj.isAjaxSuccess(response)){
											successCallback(response);
										} else {
											errorCallback(response);
										}
									})
									.catch(function(error){
										console.log(error);
										errorCallback(error);
									});
							})
							.catch(function (error) {
								console.log(error);
								errorCallback(error);
							});
					},
					ajaxJsonPost: function(url, jsonString, successCallback, errorCallback){
						var vObj = this;
						const controller = new AbortController();
						setTimeout(() => controller.abort(), 60000);
						fetch(url,
							{
							method: "POST",
							body: jsonString,
							headers: {
					            "Content-Type": "application/json; charset=utf-8",
					            "X-Requested-With": "XMLHttpRequest"
					        },
					        credentials:'include',
							signal: controller.signal
						})
						.then(function(fetchResponse) {
							fetchResponse.json().then(function(response){
								if (vObj.isAjaxSuccess(response)){
									successCallback(response);
								} else {
									errorCallback(response);
								}
							});
						})
						.catch(function (error) {
							console.log(error);
							errorCallback(error);
						});
					},
					ajaxPost: function(url, formData, successCallback, errorCallback){
							var vObj = this;
							const controller = new AbortController();
							setTimeout(() => controller.abort(), 60000);
							fetch(url,
								{
								method: "POST",
								body: formData,
								headers: { "X-Requested-With": "XMLHttpRequest" },
								credentials:'include',
								signal: controller.signal
							})
							.then(function(fetchResponse) {
								fetchResponse.json().then(function(response){
									if (vObj.isAjaxSuccess(response)){
										successCallback(response);
									} else {
										errorCallback(response);
									}
								});
							})
							.catch(function (error) {
								console.log(error);
								errorCallback(error);
							});
					},
					getCurrentURL: function(){
						return window.location.href.replace(this.httphost, "");
					},
					displayLogoURL: function(logo){
						if (typeof logo !== 'undefined') {
							return '/mys_shared/' + this.showid + '/logos/' + logo;
						} else {
							return "";
						}
					},
					displayBannerURL: function(mediafile){
						if (typeof mediafile !== 'undefined') {
							return '/mys_shared/' + this.showid + '/banners/' + mediafile;
						} else {
							return "";
						}
					},
					goToURL: function(url, newtab){
						if(newtab && url) {
							window.open(url, '_blank');
						} else if (url){
							window.location = url;
						}
					},
					displaySearchURL: function(searchtype, search, show){
						if (searchtype && search){
							return this.httphost + this.path2approot + "/#/searchtype/" + encodeURI(searchtype) + "/search/" + encodeURI(search) + "/show/" + encodeURI(show);
						} else {
							return "";
						}
					},
					createSummary: function(htmldescription, maxLength){
						var text = htmldescription;

						if (!text || typeof text !== 'string'){
							text = "";
						} else {
							// https://stackoverflow.com/questions/45816265/remove-style-tags-globally-using-regex-in-javascript
							text = text.replace( /((<style>)|(<style type=.+))((\s+)|(\S+)|(\r+)|(\n+))(.+)((\s+)|(\S+)|(\r+)|(\n+))(<\/style>)/g,'');
							var doc = new DOMParser().parseFromString(text, 'text/html');
							text = doc.body.textContent || "";
						}

						if (text && text.length > maxLength){ text = text.substring(0, maxLength) + "..."; }
						return text;
					},
					scrollToTop: function(){
						if (typeof VueScrollTo !== 'undefined' && "scrollTo" in VueScrollTo){
							VueScrollTo.scrollTo('#jq-keywordSearchForm');
						}
					},
					getScrollPosition: function(){
						return window.scrollY || window.scrollTop || document.getElementsByTagName("html")[0].scrollTop;
					},
					saveScrollPosition: function(){
						var scrollPos = this.getScrollPosition();
						var scrollURL = this.getCurrentURL();

						if (this.hasSessionStorage()){
							sessionStorage.setItem("scrollPosition", scrollPos);
							sessionStorage.setItem("scrollURL", scrollURL);
						}
					},
					storageAvailable: function(type) {
					    try {
					        var storage = window[type],
					            x = '__storage_test__';
					        storage.setItem(x, x);
					        storage.removeItem(x);
					        return true;
					    }
					    catch(e) {
					        return e instanceof DOMException && (
					            // everything except Firefox
					            e.code === 22 ||
					            // Firefox
					            e.code === 1014 ||
					            // test name field too, because code might not be present
					            // everything except Firefox
					            e.name === 'QuotaExceededError' ||
					            // Firefox
					            e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&
					            // acknowledge QuotaExceededError only if there's something already stored
					            storage.length !== 0;
					    }
					},
					hasLocalStorage: function(){
						var hasLocalStorage = this.storageAvailable('localStorage');
						return hasLocalStorage;
					},
					hasSessionStorage: function(){
						var hasSessionStorage = this.storageAvailable('sessionStorage');
						return hasSessionStorage;
					},
					objectToURLValues: function(obj){
						var queryString = Object.keys(obj).map(function(key){
						    return key + '=' + obj[key]
						}).join('&');

						return queryString;
					},
					// Pass 'log' as second argument to log returned offsets{} (including element)
					getElementOffset: function(element, log){
						var rect = element.getBoundingClientRect(),
							scrollTop = window.pageYOffset || document.documentElement.scrollTop,
							scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;

						var offsets = {
							element: element,
							rect: rect,
							top: rect.top,
							right: rect.right,
							bottom: rect.top,
							left: rect.left,
							topRelative: rect.top + scrollTop,
							leftRelative: rect.left + scrollLeft,
							scrollTop: scrollTop,
							scrollLeft: scrollLeft,
							height: rect.height,
							width: rect.width
						};
						if ((arguments[1] !== undefined) && (arguments[1].toLowerCase() === 'log')) {
							console.log(offsets);
						}
						return offsets;
					},
					toDate: function(date){
						var date2;

						if (date instanceof Date) {
							date2 = date;
						}
						else if (date){
							var datePart = (date+"").split('T')[0];
							var timePart = (date+"").split('T')[1].replace("Z", "");

							if (this.detectIE()){
								date2 = new Date(datePart + "T" + timePart);
							} else if (this.detectSafari()){
								date2 = new Date(datePart + "T" + timePart);

								var myyear = datePart.substring(0, 4)+"";
								var mymonth = datePart.substring(5, 7)+"";
								var myday = datePart.substring(8, 10)+"";

								var newdate = new Date(mymonth + "/" + myday + "/" + myyear + " " + timePart);

								if (newdate && newdate != 'Invalid Date'){
									date2 = newdate;
								}
							}
							else {
								date2 = new Date(datePart + " " + timePart);
							}
						}
						else {
							date2 = new Date();
						}
						return date2;
					},
					formatSessionMonth: function(date){
						if (!(typeof date.getMonth === 'function')) {
							date = this.toDate(date);
						}

						// var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
						var monthNames = [
							 this.globalcontent.januaryAbbrText
							, this.globalcontent.februaryAbbrText
							, this.globalcontent.marchAbbrText
							, this.globalcontent.aprilAbbrText
							, this.globalcontent.mayAbbrText
							, this.globalcontent.juneAbbrText
							, this.globalcontent.julyAbbrText
							, this.globalcontent.augustAbbrText
							, this.globalcontent.septemberAbbrText
							, this.globalcontent.octoberAbbrText
							, this.globalcontent.novemberAbbrText
							, this.globalcontent.decemberAbbrText
						];

						return monthNames[date.getMonth()];
					},
					bitToBool: function(bit){
						if (bit == 1){
							return true;
						} else {
							return false;
						}
					},
					logStats: function(useraction, useractiontype, actionvalue, altvalue, optionvalue) {
						var optionvalue = optionvalue || '';
						var referrer = 'https\x3A\x2F\x2Fsff2025.mapyourshow.com\x2F8_0\x2F';
						var AjaxURL = this.path2approot + '/includes/stats.cfm';


						this.ajaxGet(AjaxURL + '?useraction=' + useraction + '&useractiontype=' + useractiontype + '&actionvalue=' + encodeURIComponent(actionvalue) + '&altvalue=' + altvalue + '&optionvalue=' + optionvalue + '&referrer=' + referrer,
							function(response){		// success
							},
							function(response){ 	// error
							});		// end ajaxGet
					},
					logAttendance: function(tablename, tablekey, subtablename, subtablekey, meetingkey, action, duringevent, requireplanner)
					{
						var AjaxURL = this.path2approot + '/includes/attendancelogs.cfm';

						this.ajaxGet(AjaxURL + '?tablename=' + tablename + '&tablekey=' + tablekey + '&subtablename=' + subtablename + '&subtablekey=' + subtablekey + '&meetingkey=' + meetingkey + '&action=' + action + '&duringevent=' + duringevent + '&requireplanner=' + requireplanner,
							function(response){		// success

							},
							function(response){ 	// error
								if(!response.success) {
									location.reload(true);
								}
							});		// end ajaxGet
					},
					formatSessionDay: function(date){
						if (!(typeof date.getMonth === 'function')) {
							date = this.toDate(date);
						}
						var weekday = [];
							weekday[0] = this.globalcontent.sundayText;
							weekday[1] = this.globalcontent.mondayText;
							weekday[2] = this.globalcontent.tuesdayText;
							weekday[3] = this.globalcontent.wednesdayText;
							weekday[4] = this.globalcontent.thursdayText;
							weekday[5] = this.globalcontent.fridayText;
							weekday[6] = this.globalcontent.saturdayText;

							return weekday[date.getDay()];
					},
					formatSessionDate: function(date){
						if (!(typeof date.getMonth === 'function')) {
							date = this.toDate(date);
						}

						var month = new Array();
						month[0] = this.globalcontent.januaryAbbrText;
						month[1] = this.globalcontent.februaryAbbrText;
						month[2] = this.globalcontent.marchAbbrText;
						month[3] = this.globalcontent.aprilAbbrText;
						month[4] = this.globalcontent.mayAbbrText;
						month[5] = this.globalcontent.juneAbbrText;
						month[6] = this.globalcontent.julyAbbrText;
						month[7] = this.globalcontent.augustAbbrText;
						month[8] = this.globalcontent.septemberAbbrText;
						month[9] = this.globalcontent.octoberAbbrText;
						month[10] = this.globalcontent.novemberAbbrText;
						month[11] = this.globalcontent.decemberAbbrText;

						if('us' == 'us') {
							return this.formatSessionDay(date) + ", " + month[date.getMonth()] + " " + date.getDate()+ " ";
						} else {
							return this.formatSessionDay(date) + ", " + date.getDate() + " " + month[date.getMonth()] + " ";
						}
					},
					getMonthAsString: function(date){
						if (!(typeof date.getMonth === 'function')) { date = this.toDate(date); }
						// var month = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
						var month = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];
						var monthcontent = {
							"Jan": this.globalcontent.januaryAbbrText,
							"Feb": this.globalcontent.februaryAbbrText,
							"Mar": this.globalcontent.marchAbbrText,
							"Apr": this.globalcontent.aprilAbbrText,
							"May": this.globalcontent.mayAbbrText,
							"Jun": this.globalcontent.juneAbbrText,
							"Jul": this.globalcontent.julyAbbrText,
							"Aug": this.globalcontent.augustAbbrText,
							"Sep": this.globalcontent.septemberAbbrText,
							"Oct": this.globalcontent.octoberAbbrText,
							"Nov": this.globalcontent.novemberAbbrText,
							"Dec": this.globalcontent.decemberAbbrText
						};

						var monthreturn = monthcontent[month[date.getMonth()]];
						return monthreturn;
					},

					formatSessionTime: function(date){
						if (!(typeof date.getMonth === 'function')) {
							date = this.toDate(date);
						}

						var weekday = [];
							weekday[0] =  this.globalcontent.sundayAbbrText;
							weekday[1] = this.globalcontent.mondayAbbrText;
							weekday[2] = this.globalcontent.tuesdayAbbrText;
							weekday[3] = this.globalcontent.wednesdayAbbrText;
							weekday[4] = this.globalcontent.thursdayAbbrText;
							weekday[5] = this.globalcontent.fridayAbbrText;
							weekday[6] = this.globalcontent.saturdayAbbrText;
						var Time = [];
							Time[0] = "12";
							Time[1] = "1";
							Time[2] = "2";
							Time[3] = "3";
							Time[4] = "4";
							Time[5] = "5";
							Time[6] = "6";
							Time[7] = "7";
							Time[8] = "8";
							Time[9] = "9";
							Time[10] = "10";
							Time[11] = "11";
							Time[12] = "12";
							Time[13] = "1";
							Time[14] = "2";
							Time[15] = "3";
							Time[16] = "4";
							Time[17] = "5";
							Time[18] = "6";
							Time[19] = "7";
							Time[20] = "8";
							Time[21] = "9";
							Time[22] = "10";
							Time[23] = "11";

							var leadingZero = ''

							if(date.getMinutes() < 10){
								leadingZero = '0';
							}

							if (Vue.MYS.showTimeFormat == 'h:mm tt'){
                                if(date.getHours() < 12){
                                    newStartTime = Time[date.getHours()] + ':' + leadingZero + date.getMinutes() + ' AM';
                                } else{
                                    newStartTime = Time[date.getHours()] + ':' + leadingZero + date.getMinutes() + ' PM';
                                }
							} else {
									newStartTime = date.getHours().toString().padStart(2, '0') + ':' + date.getMinutes().toString().padStart(2, '0');
							}


							return newStartTime;
					},
					isJsonString: function (str) {
					    try {
					        JSON.parse(str);
					    } catch (e) {
					        return false;
					    }
					    return true;
					},
					saveViewState: function(path, section, value){
						if (this.hasSessionStorage()){
							var requestString = sessionStorage.getItem("resultviewstate");

							if (requestString && (this.isJsonString(requestString))){
								var viewStateObj = JSON.parse(sessionStorage.getItem("resultviewstate"));
							} else {
								var viewStateObj = {};
							}

							if (!(path in viewStateObj)) {
								viewStateObj[path] = {};
							}

							if (!(section in viewStateObj[path])) {
								viewStateObj[path][section] = {};
							}
							viewStateObj[path][section] = value;
							sessionStorage.setItem("resultviewstate", JSON.stringify(viewStateObj));
						}
					},
					getViewState: function(path, section){
						var returnval = "";
						if (this.hasSessionStorage()){
							var requestString = sessionStorage.getItem("resultviewstate");

							if (requestString && (this.isJsonString(requestString))){
								var viewStateObj = JSON.parse(sessionStorage.getItem("resultviewstate"));

								if (path in viewStateObj && section in viewStateObj[path]) {
									returnval = viewStateObj[path][section];
								}

							}
						}
						return returnval;
					},
					getContentObject: function(page) {
						let sections = this.getContentSections(page);
						let contentObj = {};

						for (let i = 0; i < sections.length; i++) {
							contentObj[sections[i]] = this.displaycontent(page, sections[i]);
						}

						return contentObj;
					},
					getContentSections: function(page) {
						var returnval = [];
						var pagescrubbed = "";

						if (page){
							pagescrubbed = page.replace(/\//g, "\\");			// replace forward slashes with back slashes
						}

						if (searchcontent && page in searchcontent){
							returnval = Object.keys(searchcontent[page]);
						}
						else if (searchcontent && pagescrubbed in searchcontent){
							returnval = Object.keys(searchcontent[pagescrubbed]);
						}

						return returnval;
					},
					displaycontent: function(page, section){
						var pagescrubbed = "";
						if (page){
							pagescrubbed = page.replace(/\//g, "\\");			// replace forward slashes with back slashes
						}

						if (searchcontent && page in searchcontent && section in searchcontent[page]){
							return searchcontent[page][section][0]["TEXT"];
						}
						else if (searchcontent && pagescrubbed in searchcontent && section in searchcontent[pagescrubbed]){
							return searchcontent[pagescrubbed][section][0]["TEXT"];
						}
						else {
							return "";
						}
					},
					customURIEncode: function(text){
						text = encodeURIComponent(text);

						// https://stackoverflow.com/questions/4540753/should-i-use-encodeuri-or-encodeuricomponent-for-encoding-urls
						text = text.replace(/\(/g, '%28').replace(/\)/g, '%29'); 	// parenthesis
						text = text.replace(/\~/g, '%7E');			// ~ character
						text = text.replace(/\!/g, '%21');			// ! character
						text = text.replace(/\*/g, '%2A');			// * character
						text = text.replace(/\'/g, '%27');			// ' character
						text = text.replace(/\+/g, '%2B');			// + character

						return text;
					},
					// from https://codepen.io/gapcode/pen/vEJNZN
					detectIE: function() {
						var ua = window.navigator.userAgent;

						// Test values; Uncomment to check result â€¦

						// IE 10
						// ua = 'Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)';

						// IE 11
						// ua = 'Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko';

						// Edge 12 (Spartan)
						// ua = 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36 Edge/12.0';

						// Edge 13
						// ua = 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Safari/537.36 Edge/13.10586';

						var msie = ua.indexOf('MSIE ');
						if (msie > 0) {
						// IE 10 or older => return version number
						return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
						}

						var trident = ua.indexOf('Trident/');
						if (trident > 0) {
						// IE 11 => return version number
						var rv = ua.indexOf('rv:');
						return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
						}

						var edge = ua.indexOf('Edge/');
						if (edge > 0) {
						// Edge (IE 12+) => return version number
						return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
						}

						// other browser
						return false;
						},
					detectSafari: function(){
							var isSafari = !!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);
							var isChromeForiOS = !!navigator.userAgent.match(/CriOS\/[\d\.]+.*Safari/);
							var iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
							var returnval = false;

							if (iOS || isSafari || isChromeForiOS) {
								returnval = true;
							}

							return returnval;
						},
					detectFirefox: function(){ 
						var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

						return isFirefox
					},
					detectChrome: function(){		
						var isChromium = window.chrome;
						var winNav = window.navigator;
						var vendorName = winNav.vendor;
						var isOpera = typeof window.opr !== "undefined";
						var isIEedge = winNav.userAgent.indexOf("Edge") > -1;
						var isIOSChrome = winNav.userAgent.match("CriOS");

						if (isIOSChrome) {
						   // is Google Chrome on IOS
						} else if(
						  isChromium !== null &&
						  typeof isChromium !== "undefined" &&
						  vendorName === "Google Inc." &&
						  isOpera === false &&
						  isIEedge === false
						) {
						   // is Google Chrome
						   return true;
						} else {
						   // not Google Chrome
						   return false;
						}
					},
					detectMobileDevice: function(){
							return navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i);
						},
					getDataUriFromResponse: function(response, mimetype) {
							var uInt8Array = new Uint8Array(response);
							var i = uInt8Array.length;
							var binaryString = new Array(i);
							while (i--) {
								binaryString[i] = String.fromCharCode(uInt8Array[i]);
							}
							var data = binaryString.join('');

							var base64 = window.btoa(data);

							var dataUrl = 'data:' + mimetype + ';charset=utf-16le;base64,' + base64;
							return dataUrl;
						},
					getBlobUriFromResponse: function(response, mimetype) {
							var blob = new Blob([response], { type: mimetype });
							var downloadUrl = URL.createObjectURL(blob);
							return downloadUrl;
						},
					getExhibitorURL: function(exhid, exhname){
						var returnstring = "";

						if (exhname){
							exhname = (exhname+'').replace(/[^A-z_0-9-]+/g, " ").replace(/\s/g, "-");		// replace no alphanumerics with a space, then replace all spaces with a dash
							if (exhname.lastIndexOf("-") == exhname.length-1){
								exhname = exhname.substring(0, exhname.lastIndexOf("-"));
							}

							if (exhname.charAt(0) == "-"){
								exhname = exhname.substring(1, exhname.length-1);
							}
						}

						if ((!this.usefriendlyexhibitorurl) || (!exhname && exhid)) {
							return this.path2approot + "/exhibitor/exhibitor-details.cfm?exhid=" + exhid;
						}
						else if (exhname && exhid) {
							return this.path2approot + "/exhibitor/" + exhid +  "/" + exhname;
						}
						else {
							return "";
						}
					},
					sendEmailVerfication: function()
					{
						var vObj = this;

						vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=SendEmailVerficationMessage',
						function(response)
						{
							vObj.showMessage("success", "Email successfully sent.  Please check your email and click the verification link provided.");
						},
						function(error)
						{
							vObj.showMessage("error", "Error sending verification email");
						});
					}
				}

			});
		</script>

		<style>
			[v-cloak] {
			  display: none;
			}
		</style>
	
		
		<script type="text/x-template" id="modal-template"> <transition name="modal" v-if="showmodal"><div class="modal-mask" @keyup.esc="onEscape" tabindex="0" ref="modalparent"><div class="modal-wrapper" v-on:click.self="closeModal(true);"><div class="modal-containerrelative" v-bind:class="[small ? 'modal-container_small' : '']"><div class="modal-headerflexjustify-betweenitems-center"><h2 class="mt0">{{title}}</h2><button v-if="allowclose" v-on:click.stop.prevent="closeModal(false);" class="button-close bb-0 btn-reset" aria-label="Close this Window"><svg width="36" height="36" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img"><g transform="translate(-1108 -386)" fill="none" fill-rule="evenodd"><rect class="icon-close__circle" x="1108" y="386" width="36" height="36" rx="18"/><path class="icon-close__x" d="M1126 402.822l8.822-8.822 1.178 1.178-8.822 8.822 8.822 8.822-1.178 1.178-8.822-8.822-8.822 8.822-1.178-1.178 8.822-8.822-8.822-8.822 1.178-1.178z"/></g></svg></button></div><slot></slot></div></div></div></transition></script>
	

	<style>
		.modal-wrapper .button-close {
			position: absolute;
			top: 0.5rem;
			right: 0.5rem;
		}

		.modal-wrapper .icon-close__x {
			fill: #333;
		}

		.modal-wrapper .button-close:hover .icon-close__circle,
		.modal-wrapper .button-close:focus .icon-close__circle {
			fill: rgba(0,0,0,0.1);
		}
	</style>

	<script>
		var ModalDisplay = Vue.component('modal-display', {
	        template:"#modal-template",
	        props: {
	        	showmodal: {
	        		default: false,
	        		type: Boolean
	        	},
	        	title: {
	        		default: "",
	        		type: String
	        	},
				small: {
					default: false,
					type: Boolean
				},
				closeonoutsideclick:
				{
					default: true,
					type: Boolean
				},
				allowcloseonesc:
				{
					default: true,
					type: Boolean
				},
				allowclose:
				{
					default: true,
					type: Boolean
				}
			},
			data: function(){
				return {
					compincludepath: "includes/vue/generic/modal-display.cfm"
				}
			},
			watch: {
				showmodal: function(){
					var vObj = this;
					if (vObj.showmodal == true){
						Vue.nextTick(function(){
							vObj.$refs.modalparent.focus();
						});
					}
				}
			},
			computed:{
				content: function(){
					return  {
						closeText: this.displaycontent(this.compincludepath, 'closeText')
					};
				}
			},
			methods: {
				closeDisplay:function(){
					vObj.hideerror = true;
				},
				openModal: function(){
					this.$emit("open-modal");
				},
				closeModal: function(outsideclicked)
				{
					if(this.allowclose && !outsideclicked || (outsideclicked && this.closeOnOutsideClick))
					{
						this.$emit("close-modal");
					}
				},
				onEscape: function(){
					if (this.allowcloseonesc){
						this.closeModal();
					}
				}
			}

		});
	</script>


		
		<script type="text/x-template" id="toggleFavoriteTemplate"> <span :title="tippyTitle" v-tippy><message-display:messages="messages":type="messagetype":showmessage="showmessage":timeout="5"></message-display><modal-display:title="content.confirmModalTitle":showmodal="showconflict"v-on:close-modal="showconflict = false"><p>{{content.conflictModalText1}}</p><p>{{content.conflictModalText2}}</p><template v-for="session in conflictingsessions"><p>{{session.title}}</p><p>{{formatSessionDate(session.isodate)}} {{session.starttime}} - {{session.endtime}}</p></template><p>{{content.conflictModalText3}}</p><button :aria-label="content.cancelText" :title="content.cancelTitle" v-on:click="showconflict = false" class="btn btn-tertiary">{{content.cancelText}}</button><button :aria-label="content.confirmText" :title="content.confirmTitle" v-on:click.stop.prevent="toggleAddToPlanner" class="btn btn-primary">{{content.confirmText}}</button></modal-display><modal-display:title="content.confirmModalTitle":showmodal="showconfirm"v-on:close-modal="showconfirm = false"><template v-if="currentStatus == 'Reserved' || attendancestatus == 'Reserved'"><p>{{content.reserveModalText1}}</p><p>{{content.reserveModalText2}}</p></template><template v-else-if="currentStatus == 'Waitlist' || attendancestatus == 'Waitlist'"><p>{{content.waitlistModalText1}}</p><p>{{content.waitlistModalText2}}</p></template><button :aria-label="content.cancelText" :title="content.cancelTitle" v-on:click.stop="showconfirm = false" class="btn btn-tertiary">{{content.cancelText}}</button><button :aria-label="content.confirmText" :title="content.confirmTitle" v-on:click.stop.prevent="toggleAddToPlanner" class="btn btn-primary">{{content.confirmText}}</button></modal-display><modal-display:title="content.processingModalTitle":showmodal="seatrestriction && loading && sessionCheck":allowclose="false">{{content.processingModalText}}</modal-display><template v-if="hasmyshow"><template v-if="exhSubVersion < 3"><template v-if="fullbuttondisplay"><a v-on:click.stop.prevent="evaluateAdd()" :title="myshowTitleText" class="btn-primarycenterjs-myShow" v-bind:class="[absolute ? 'absolute' : '', {'is-saved': addedtoplannerfinal, 'is-disabled': !computedEnabled }]"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" v-bind:class="{'is-saved': addedtoplannerfinal, 'icon': true,'rotating': loading}" role="img" aria-hidden="true"><path v-if="!addedtoplannerfinal && !loading" d="M24 10H14V0h-4v10H0v4h10v10h4V14h10z" fill="white"></path><path v-if="addedtoplannerfinal && !loading" d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436L24 5.782z" fill="white"></path><path v-if="loading" v-bind:d="loadingIcon" fill="white"></path></svg><span class="bml2v-mid" v-if="!loading">{{buttonLabel}}</span><span class="bml2v-mid" v-if="loading">{{content.updatingText}}...</span></a></template><template v-else><a v-if="!(seatrestriction && type == 'session') || addedtoplannerfinal"class="flex-Icon center js-myShow pointer"v-on:click.stop.prevent="evaluateAdd()"v-bind:class="[absolute ? 'absolute' : '', {'is-saved': addedtoplannerfinal, 'is-disabled': !computedEnabled || sessionSeatRestriction, 'no-hover': !computedEnabled || sessionSeatRestriction }]":title="myshowTitleText"v-bind:disabled="!computedEnabled || sessionSeatRestriction"><transition name="favorite-icon"><svg v-bind:class="{'is-saved': addedtoplannerfinal, 'icon': true, 'rotating': loading}" width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" role="img" aria-hidden="true"><path v-if="!addedtoplannerfinal && !loading" v-bind:d="notAddedToPlannerIcon"></path><path v-if="addedtoplannerfinal && !loading" v-bind:d="addedToPlannerIcon"></path><path v-if="loading" v-bind:d="loadingIcon"></path></svg></transition></a></template></template><template v-else><template v-if="fullbuttondisplay"><button class="btn-primary btn-addtoplanner" @click="evaluateAdd()" v-bind:class="[absolute ? 'absolute' : '', {'is-saved': addedtoplannerfinal, 'is-disabled': !computedEnabled }]"><span><svg v-show="addedtoplannerfinal" class="addtoplannericon animated fadeIn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="m15.784 8.375-2.16-2.16.914-.936 1.246 1.247L18.87 3.42l.936.935-4.02 4.02ZM5.313 18.22V5.145c0-.442.153-.816.459-1.123.306-.306.68-.46 1.122-.46h5.755a5.169 5.169 0 0 0-.58 1.154 3.843 3.843 0 0 0-.194 1.253c0 1.033.335 1.936 1.004 2.707a4.025 4.025 0 0 0 2.496 1.387c.251.033.47.049.656.049.186 0 .405-.016.656-.049v8.156L11 15.78l-5.687 2.44Z"/></svg><svg v-show="!addedtoplannerfinal" class="addtoplannericon animated fadeIn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path stroke-width=".025" d="M5.512 20.231V5.308c0-.502.173-.927.52-1.274a1.732 1.732 0 0 1 1.275-.521h5.68v1.474h-5.68a.307.307 0 0 0-.22.1.307.307 0 0 0-.1.22V17.97l.017-.008 4.995-2.147 4.995 2.148.018.007v-6.957h1.474v9.219l-6.482-2.781.002-.005-.012.005-6.482 2.781ZM18.486 7v1.987h-1.474v-2h-2V5.513h2v-2h1.474v2h2.001v1.474h-2V7Z"/></svg></span><span v-if="!loading">{{buttonLabel}}</span><span v-if="loading">{{content.updatingText}}...</span></button></template><template v-else><button v-if="!(seatrestriction && type == 'session') || addedtoplannerfinal" class="button-addtoplanner" @click="evaluateAdd()" v-bind:class="[absolute ? 'absolute' : '', {'is-saved': addedtoplannerfinal, 'is-disabled': !computedEnabled || sessionSeatRestriction, 'no-hover': !computedEnabled || sessionSeatRestriction }]" v-bind:disabled="!computedEnabled || sessionSeatRestriction"><svg v-show="addedtoplannerfinal" class="addtoplannericon animated fadeIn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path d="m15.784 8.375-2.16-2.16.914-.936 1.246 1.247L18.87 3.42l.936.935-4.02 4.02ZM5.313 18.22V5.145c0-.442.153-.816.459-1.123.306-.306.68-.46 1.122-.46h5.755a5.169 5.169 0 0 0-.58 1.154 3.843 3.843 0 0 0-.194 1.253c0 1.033.335 1.936 1.004 2.707a4.025 4.025 0 0 0 2.496 1.387c.251.033.47.049.656.049.186 0 .405-.016.656-.049v8.156L11 15.78l-5.687 2.44Z"/></svg><svg v-show="!addedtoplannerfinal && (type == 'exhibitor' || !seatrestriction || type != 'session')" class="addtoplannericon animated fadeIn" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"><path stroke-width=".025" d="M5.512 20.231V5.308c0-.502.173-.927.52-1.274a1.732 1.732 0 0 1 1.275-.521h5.68v1.474h-5.68a.307.307 0 0 0-.22.1.307.307 0 0 0-.1.22V17.97l.017-.008 4.995-2.147 4.995 2.148.018.007v-6.957h1.474v9.219l-6.482-2.781.002-.005-.012.005-6.482 2.781ZM18.486 7v1.987h-1.474v-2h-2V5.513h2v-2h1.474v2h2.001v1.474h-2V7Z"/></svg></button></template></template></template></span></script>
	

	<script>
		var ToggleFavorite = Vue.component("toggle-favorite", {
			props: {
				keys:{
					default: "",
					type: [String, Number]
				},
				exhid:{
					default: "",
					type: [String, Number]
				},
				addedtoplanner: {
					default: false,
					type: [String, Boolean]
				},
				type: {
					default: "exhibitor",
					type: String
				},
				absolute: {
					default: false,
					type: Boolean
				},
				tablename: {
					default: "",
					type: String
				},
				fullbuttondisplay: {
					default: false,
					type: Boolean
				},
				enabled: {
					default: true,
					type: Boolean
				},
				disabledtext: {
					default: "",
					type: String
				},
				appointment: {
					default: false,
					type: Boolean
				},
				fromcalendar: {
					default: false,
					type: Boolean
				},
				seatsqty: {
					default: 0,
					type: Number
				},
				waitlistqty: {
					default: 0,
					type: Number
				},
				attendancestatus: {
					default: "",
					type: String
				},
				conflictingsessions: {
					default: () => [],
					type: Array
				}
			},
			mixins: [messagedisplayMixin],
		  	template:"#toggleFavoriteTemplate",
		  	data: function(){
		  		return {
		  			compincludepath: "includes/vue/generic/toggle-favorite.cfm",
		  			loading: false,
		  			showconflict: false,
		  			showconfirm: false,
		  			addedtoplannerfinal: (String(this.addedtoplanner).toLowerCase() === 'true'),
		  			addedToPlannerIcon: "M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436L24 5.782z",
		  			notAddedToPlannerIcon: "M24 10H14V0h-4v10H0v4h10v10h4V14h10z",
		  			loadingIcon: "M11.501 4.025v-4.025h1v4.025l-.5-.025-.5.025zm-7.079 5.428l-3.884-1.041-.26.966 3.881 1.04c.067-.331.157-.651.263-.965zm5.995-5.295l-1.039-3.878-.967.259 1.041 3.883c.315-.106.635-.197.965-.264zm-6.416 7.842l.025-.499h-4.026v1h4.026l-.025-.501zm2.713-5.993l-2.846-2.845-.707.707 2.846 2.846c.221-.251.457-.487.707-.708zm-1.377 1.569l-3.48-2.009-.5.866 3.484 2.012c.15-.299.312-.591.496-.869zm13.696.607l3.465-2-.207-.36-3.474 2.005.216.355zm.751 1.993l3.873-1.038-.129-.483-3.869 1.037.125.484zm-3.677-5.032l2.005-3.472-.217-.125-2.002 3.467.214.13zm-1.955-.843l1.037-3.871-.16-.043-1.038 3.873.161.041zm3.619 2.168l2.835-2.834-.236-.236-2.834 2.833.235.237zm-9.327-1.627l-2.011-3.484-.865.5 2.009 3.479c.276-.184.568-.346.867-.495zm-4.285 8.743l-3.88 1.04.26.966 3.884-1.041c-.106-.314-.197-.634-.264-.965zm11.435 5.556l2.01 3.481.793-.458-2.008-3.478c-.255.167-.522.316-.795.455zm3.135-2.823l3.477 2.007.375-.649-3.476-2.007c-.116.224-.242.439-.376.649zm-1.38 1.62l2.842 2.842.59-.589-2.843-2.842c-.187.207-.383.403-.589.589zm2.288-3.546l3.869 1.037.172-.644-3.874-1.038c-.049.218-.102.434-.167.645zm.349-2.682l.015.29-.015.293h4.014v-.583h-4.014zm-6.402 8.132l1.039 3.879.967-.259-1.041-3.884c-.315.106-.635.197-.965.264zm-1.583.158l-.5-.025v4.025h1v-4.025l-.5.025zm-5.992-2.712l-2.847 2.846.707.707 2.847-2.847c-.25-.22-.487-.456-.707-.706zm-1.165-1.73l-3.485 2.012.5.866 3.48-2.009c-.185-.278-.347-.57-.495-.869zm2.734 3.106l-2.01 3.481.865.5 2.013-3.486c-.299-.149-.591-.311-.868-.495zm1.876.915l-1.042 3.886.967.259 1.04-3.881c-.33-.067-.65-.158-.965-.264z",
					tippy: null,
					timesran: 0,
					intervalid: '',
					seatrestriction: Vue.MYS.seatrestriction,
					allowedschedules: Vue.MYS.allowedschedules,
					lockdown: Vue.MYS.lockdown,
					exhSubVersion: Vue.MYS.exhSubVersion
		  		}
		  	},
			watch: {
				addedtoplanner: {
					deep: true,
					handler: function(e){
						this.addedtoplannerfinal = e;
					}
				}
			},
			computed:{
				buttonLabel: function() {
					if(this.addedtoplannerfinal) {
						if(this.seatrestriction && this.sessionCheck) {
							switch(this.currentStatus) {
								case 'Waitlist':
									return this.content.waitlistRemoveText;
									break;
								case 'Reserved':
									return this.content.reserveRemoveText;
									break;
							}
						} else {
							return this.content.savedToMyShowPlannerText;
						}
					} else {
						if(!this.computedEnabled && this.enabled) {
							if(this.regemail.length == 0) {
								return this.content.loginText;
							} else {
								return this.content.noAccessText;
							}
						} else if(this.seatrestriction && this.sessionCheck) {
							switch(this.currentStatus) {
								case 'Waitlist':
									return this.content.waitlistAddText;
									break;
								case 'Reserved':
									return this.content.reserveAddText;
									break;
								case 'Filled':
									return this.content.filledText;
									break;
							}
						} else {
							return this.content.addToMyShowPlannerText;
						}
					}
				},
				computedEnabled: function() {
					if(this.sessionCheck) {
						if(!this.lockdown || (this.allowedschedules.includes(''+this.keys) || this.attendancestatus != '')) {
							return this.enabled;
						} else {
							return false;
						}
					} else {
						return this.enabled;
					}
				},
				content: function() {
					var formattedURL = this.thispageurl.toLowerCase().trim();
					var sessionDetailsSuffix = formattedURL.indexOf("/sessions/session-details.cfm") >= 0 ? "-session" : "";

					return {
						addToMyShowPlannerText: this.displaycontent(this.compincludepath, `addToMyShowPlannerText${sessionDetailsSuffix}`),
						savedToMyShowPlannerText: this.displaycontent(this.compincludepath, 'savedToMyShowPlannerText'),
						removeFromPlannerText: this.displaycontent(this.compincludepath, 'removeFromPlannerText'),
						appointmentRemoveFromPlannerText: this.displaycontent(this.compincludepath, 'appointmentRemoveFromPlannerText'),
						updatingText: this.displaycontent(this.compincludepath, 'updatingText'),
						filledText: this.displaycontent(this.compincludepath, 'filledText'),
						filledHintText: this.displaycontent(this.compincludepath, 'filledHintText'),
						loginText: this.displaycontent(this.compincludepath, 'loginText'),
						loginHintText: this.displaycontent(this.compincludepath, 'loginHintText'),
						noAccessText: this.displaycontent(this.compincludepath, 'noAccessText'),
						noAccessHintText: this.displaycontent(this.compincludepath, 'noAccessHintText'),
						waitlistText: this.displaycontent(this.compincludepath, 'waitlistText'),
						waitlistRemovedText: this.displaycontent(this.compincludepath, 'waitlistRemovedText'),
						waitlistAddText: this.displaycontent(this.compincludepath, 'waitlistAddText'),
						waitlistRemoveText: this.displaycontent(this.compincludepath, 'waitlistRemoveText'),
						reservedText: this.displaycontent(this.compincludepath, 'reservedText'),
						reservedRemoveText: this.displaycontent(this.compincludepath, 'reservedRemoveText'),
						reserveAddText: this.displaycontent(this.compincludepath, 'reserveAddText'),
						reserveRemoveText: this.displaycontent(this.compincludepath, 'reserveRemoveText'),
						processingText: this.displaycontent(this.compincludepath, 'processingText'),
						cancelText: this.displaycontent(this.compincludepath, 'cancelText'),
						confirmText: this.displaycontent(this.compincludepath, 'confirmText'),
						reserveModalText1: this.displaycontent(this.compincludepath, 'reserveModalText1'),
						reserveModalText2: this.displaycontent(this.compincludepath, 'reserveModalText2'),
						waitlistModalText1: this.displaycontent(this.compincludepath, 'waitlistModalText1'),
						waitlistModalText2: this.displaycontent(this.compincludepath, 'waitlistModalText2'),
						conflictModalText1: this.displaycontent(this.compincludepath, 'conflictModalText1'),
						conflictModalText2: this.displaycontent(this.compincludepath, 'conflictModalText2'),
						conflictModalText3: this.displaycontent(this.compincludepath, 'conflictModalText3'),
						confirmModalTitle: this.displaycontent(this.compincludepath, 'confirmModalTitle'),
						processingModalTitle: this.displaycontent(this.compincludepath, 'processingModalTitle'),
						processingModalText: this.displaycontent(this.compincludepath, 'processingModalText'),
						cancelTitle: this.displaycontent(this.compincludepath, 'cancelTitle'),
						confirmTitle: this.displaycontent(this.compincludepath, 'confirmTitle')
					};
				},
				currentStatus: function() {
					if(this.sessionCheck) {
						if(this.attendancestatus == 'Reserved' || this.attendancestatus == 'Waitlist') {
							return this.attendancestatus;
						} else if(this.seatsqty > 0) {
							return 'Reserved';
						} else if (this.waitlistqty > 0) {
							return 'Waitlist';
						} else {
							return 'Filled';
						}
					} else {
						return '';
					}
				},
				myshowTitleText: function() {
		  			if (this.computedEnabled){
		  				if (this.addedtoplannerfinal){
		  					if(this.appointment) {
		  						return this.content.appointmentRemoveFromPlannerText;
		  					} else {
								return this.buttonLabel;
		  					}
						} else {
							return this.buttonLabel;
						}
					} else {
						if(this.sessionCheck && this.seatrestriction) {
							if(this.currentStatus == 'Filled') {
								return this.content.filledHintText;
							} else if (this.regemail.length == 0) {
								return this.content.loginHintText;
							} else {
								return this.content.noAccessHintText;
							}
						} else {
							return this.disabledtext;
						}
					}
				},
				tippyTitle: function() {
					if (!this.computedEnabled) {
						return this.myshowTitleText;
					} else {
						return "";
					}
				},
				scheduleConflict: function() {
					if(this.sessionCheck && this.attendancestatus == 'Conflict') {
						return true;
					} else {
						return false;
					}
				},
				sessionCheck: function() {
					if(this.type == 'session' || this.type == 'calendar') {
						return true;
					} else {
						return false;
					}
				},
				sessionSeatRestriction: function() {
					return this.type === 'session' && this.seatrestriction && this.addedtoplannerfinal;
				}
			},
			methods: {
				checkStatus: function() {
					var vObj = this,
						requestObj = {};

					requestObj["scheduleid"] = vObj.keys;
					if (!vObj.addedtoplannerfinal) {
						requestObj["status"] = vObj.currentStatus;
					} else {
						requestObj["status"] = "Remove";
					}
					vObj.timesran += 1;

					if(vObj.timesran >= 5) {
						vObj.intervalid = clearInterval(vObj.intervalid);
						vObj.timesran = 0;
						vObj.loading = false;
						vObj.showMessage("error", vObj.content.processingText);
					} else {
						vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=sessionstatus&' + vObj.objectToURLValues(requestObj),	// ajaxGet() defined in _global-mixin
							function(response) {		// success
								if(response.DATA == 'Reserved') {
									vObj.showMessage("success", vObj.content.reservedText);
								} else if(response.DATA == 'Waitlist') {
									vObj.showMessage("success", vObj.content.waitlistText);
								} else if (requestObj["status"] == 'Remove') {
									if(vObj.currentStatus == 'Reserved') {
										vObj.showMessage("success", vObj.content.reservedRemoveText);
									} else {
										vObj.showMessage("success", vObj.content.waitlistRemovedText);
									}
								}
								vObj.intervalid = clearInterval(vObj.intervalid);
								vObj.timesran = 0;
								vObj.loading = false;
								vObj.addedtoplannerfinal = !vObj.addedtoplannerfinal;
								vObj.$emit('toggle-favorite', {type: vObj.type, keys: vObj.keys, status: response.DATA});
							},
							function(response) { 	// error
							});		// end ajaxGet
					}
				},
				evaluateAdd: function() {
					if(this.computedEnabled) {
						if(this.type == 'session' && this.scheduleConflict) {
							this.showconflict = true;
						} else if (this.seatrestriction && this.addedtoplannerfinal && (this.type == 'session' || (this.type == 'calendar' && this.attendancestatus))) {
							this.showconfirm = true;
						} else {
							this.toggleAddToPlanner();
						}
					}
				},
				toggleAddToPlanner: function() {
					var myshowfunction = ""
						, requestObj = {}
						, vObj = this
						, callback = function(){ }
						, errormessage = "";

					if (vObj.computedEnabled && !vObj.fromcalendar){
						switch(vObj.type){
							case "exhibitor":
								// if not added to planner then add
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddExhibitor";
									requestObj["keys"] = vObj.keys;
									errormessage = "Error adding exhibitor to planner";
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveExhibitor";
									requestObj["keys"] = vObj.keys;
									errormessage = "Error removing exhibitor from planner";
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "session":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddSession";
									requestObj["keys"] = vObj.keys;
									requestObj["status"] = vObj.currentStatus;
									errormessage = "Error adding session to planner";
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveSession";
									requestObj["keys"] = vObj.keys;
									requestObj["status"] = 'Remove';
									errormessage = "Error removing session from planner";
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "showfeature":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ShowFeatures";
									errormessage = "Error adding show feature to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ShowFeatures";
									errormessage = "Error removing show feature from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "collateral":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "PressReleases";
									errormessage = "Error adding collateral to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "PressReleases";
									errormessage = "Error removing collateral from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "special":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ShowSpecials";
									errormessage = "Error adding special to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ShowSpecials";
									errormessage = "Error removing special from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "product":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ExhibitorProducts";
									errormessage = "Error adding product to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ExhibitorProducts";
									errormessage = "Error removing product from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "guestappearances":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "exhibitor_guests";
									errormessage = "Error adding guest appearance to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "exhibitor_guests";
									errormessage = "Error removing guest appearance from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "onlinecontact":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "AdditionalContacts";
									errormessage = "Error adding online contact to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "AdditionalContacts";
									errormessage = "Error removing online contact from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							case "scheduledevent":
								if (!vObj.addedtoplannerfinal){
									myshowfunction = "AddFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ScheduledEvents";
									errormessage = "Error adding event to planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = true;
									};
								} else {
									myshowfunction = "RemoveFavorite";
									requestObj["keys"] = vObj.keys;
									requestObj["tablename"] = "ScheduledEvents";
									errormessage = "Error removing event from planner";
									if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
									callback = function(){
										vObj.addedtoplannerfinal = false;
									};
								}
								break;
							default:
								if (vObj.tablename){
									if (!vObj.addedtoplannerfinal){
										myshowfunction = "AddFavorite";
										requestObj["keys"] = vObj.keys;
										requestObj["tablename"] = vObj.tablename;
										errormessage = "Error adding to planner";
										if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
										callback = function(){
											vObj.addedtoplannerfinal = true;
										};
									} else {
										myshowfunction = "RemoveFavorite";
										requestObj["keys"] = vObj.keys;
										requestObj["tablename"] = vObj.tablename;
										errormessage = "Error removing from planner";
										if (vObj.exhid){ requestObj["exhid"] = vObj.exhid; }
										callback = function(){
											vObj.addedtoplannerfinal = false;
										};
									}
								}
						}

						vObj.showconflict = false;
						vObj.showconfirm = false;
						vObj.loading = true;
						var return_to = encodeURIComponent(vObj.getCurrentURL());
						vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=' + myshowfunction + "&" + vObj.objectToURLValues(requestObj) + "&return_to=" + return_to,	// ajaxGet() defined in _global-mixin
							function(response){		// success
								if(vObj.type == "session" && vObj.seatrestriction) {
									vObj.intervalid = setInterval(function(){vObj.checkStatus()}, 2000);
								} else {
									vObj.loading = false;
									callback();
									vObj.$emit('toggle-favorite', {type: vObj.type, keys: vObj.keys});
								}
							},
							function(response){ 	// error
								vObj.loading = false;
								if ("ERRORCODE" in response && response.ERRORCODE == "12345"){
									location.href = vObj.path2approot + '/login/login.cfm';
								} else {
									vObj.showMessage("error", "Error favoriting item");
								}
							});		// end ajaxGet
					} 	// end if
					else if (vObj.fromcalendar){
						vObj.$emit('toggle-favorite', {type: vObj.type, keys: vObj.keys});
					}
				}	// end toggleAddToPlanner
			}
		});
	</script>

	<style>
		@-webkit-keyframes rotating /* Safari and Chrome */ {
		  from {
		    -webkit-transform: rotate(0deg);
		    -o-transform: rotate(0deg);
		    transform: rotate(0deg);
		  }
		  to {
		    -webkit-transform: rotate(360deg);
		    -o-transform: rotate(360deg);
		    transform: rotate(360deg);
		  }
		}
		@keyframes rotating {
		  from {
		    -ms-transform: rotate(0deg);
		    -moz-transform: rotate(0deg);
		    -webkit-transform: rotate(0deg);
		    -o-transform: rotate(0deg);
		    transform: rotate(0deg);
		  }
		  to {
		    -ms-transform: rotate(360deg);
		    -moz-transform: rotate(360deg);
		    -webkit-transform: rotate(360deg);
		    -o-transform: rotate(360deg);
		    transform: rotate(360deg);
		  }
		}
		.rotating {
		  -webkit-animation: rotating 2s linear infinite;
		  -moz-animation: rotating 2s linear infinite;
		  -ms-animation: rotating 2s linear infinite;
		  -o-animation: rotating 2s linear infinite;
		  animation: rotating 2s linear infinite;
		}
		.no-hover {
    		pointer-events: none;
		}
	
	</style>


		
		<script type="text/x-template" id="exh-additional-info-v2-template">
				<article class="card-v2 shadow collateral">
					<div class="card-outer">
						<div class="card-inner">
							<div>
								<p class="type">{{category}}</p>
								<h4 class="title"><a @click="linkClicked()" :href="url" target="_blank">{{title}}</a></h4>
							</div>
							
							<toggle-favorite
								:type="'collateral'"
								v-bind:keys="id"
								v-bind:addedtoplanner="addedtoplanner"
								v-bind:exhid="exhid"
								v-on:toggle-favorite="$emit('toggle-favorite', $event)"
							></toggle-favorite>
						</div>
					</div>
				</article>
		</script>
	

	<script>
		var AdditionalInfo = Vue.component('exh-additional-info-v2', {
			data: function(){
				return {}
			},
			template:"#exh-additional-info-v2-template",
			props: ["title", "url", "category", "id", "addedtoplanner", "exhid"],
			mounted: function() {},
			methods:
			{
				linkClicked: function()
				{
					this.$emit('link-clicked');
				}
			}
		});
	</script>

		
		<script type="text/x-template" id="exh-onsiteproduct-gallery-v2-template">
			<div class="cards-v2-wrapper grid-gap-50 fill col-3 mt5">
				<article class="card-v2 shadow product">
					<div class="card-outer">
						<div class="card-section_top">
							<img @click="openLightBox($event)"
							:src="thumbnailsource"
							alt="title"
							
							height="324"
							width="324"
							:data-caption="captionvalue"
							v-bind:data-bp="imagesource"
							v-bind:data-alternativeMediaFile="''+directorymediafileurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
							v-bind:data-alternativeThumbnail="''+directorythumbnailurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
							:onError="'imageLoadError(this, this.getAttribute(\'data-alternativeThumbnail\').split(/,/), this.getAttribute(\'data-alternativeMediaFile\').split(/,/))'"/>
						</div>
						<div class="card-section_bottom">
							<div class="title-favorite_wrapper">
								<h4 v-if="title" class="title">{{title}}</h4>
								<toggle-favorite
								:type="'showfeature'"
								v-bind:keys="featureid"
								v-bind:addedtoplanner="addedtoplanner"
								v-bind:exhid="exhid"
								v-on:toggle-favorite="$emit('toggle-favorite', $event)">
								</toggle-favorite>
							</div>
							<div ref="onsitedescription" class="line-clamp__7" :class="[ readMoreOpen ? 'fadeIn' : 'line-clamp']" >
								<p v-html="description"></p>
							</div>
							<button
								v-if="needLineClamp"
								id="js-sectionToggleBtn"
								:title="[ readMoreOpen ? content.readLessText : content.readMoreText]"
								class="flow btn-v2 link mt3 descriptionBtn"
								@click="toggleReadMore">
								{{readMoreOpen ? content.readLessText : content.readMoreText}}
							</button>
						</div>
					</div>
				</article>
			</div>
		</script>
	

	<script>
		var onsiteproductGallery2 = Vue.component('exh-onsiteproduct-gallery-v2', {
			data: function(){
				return {
					compincludepath: "includes/vue/exhibitor/exh-onsiteproduct-gallery-v2.cfm",
					needLineClamp: false,
					readMoreOpen: false,
					onsiteDescriptionObserver: null
				}
			},
			template:"#exh-onsiteproduct-gallery-v2-template",
			props: ["title", "description", "thumbnailsource", "imagesource", "subtitle", "featureid", "addedtoplanner", "exhid", "directorythumbnailurl", "directorymediafileurl" ,"mediatype", "tags"],
			computed: {
				captionvalue: function() {
					var returnString = '';

					returnString = "<h4 class='center  db  f2  ma0  mb2  mw8  tc'>" + this.title + "</h4>";
						+ "</p>";

					return returnString;
				},
				content: function() {
					return this.getContentObject(this.compincludepath);
				}
			},
			mounted: function() {
				this.onsiteDescriptionObserver = new ResizeObserver(() => {
					this.checkNeedLineClamp();
				});
				this.onsiteDescriptionObserver.observe(this.$refs.onsitedescription);
			},
			methods:{
				openLightBox: function(event) {
					var vObj = this;
					event.preventDefault();

					vObj.logShowFeatureStats(vObj.featureid);
					var imgElement = event.target;
					var path = imgElement.getAttribute('data-bp');

					if (vObj.mediatype == 'image') {
						BigPicture({
							el: imgElement,
							imgSrc: path
						});
					} else if (vObj.mediatype == 'video') {
						BigPicture({
							el: imgElement,
							vidSrc: path,
							animationStart: function () {
								var video = document.querySelector('#bp_vid');
								video.setAttribute("controlsList", "nodownload");
								video.setAttribute("oncontextmenu", "return false");
							}
						});
					}

					return false;
				},
				logShowFeatureStats: function(event){
					var featureid = event;
					this.logStats('Show Feature Viewed', "", this.exhid, featureid);
				},
				toggleReadMore: function() {
					this.readMoreOpen = !this.readMoreOpen;
				},
				checkNeedLineClamp: function() {
					if(this.$refs.onsitedescription) {
						if(this.$refs.onsitedescription.scrollHeight > this.$refs.onsitedescription.clientHeight) {
							this.needLineClamp = true
						} else if (!this.readMoreOpen) {
							this.needLineClamp = false;
						}
					}
				}
			}
		});

		function imageLoadError(element, thumbList, mediaList) {
			var image = new Image();
			image.onload = function() {
				element.setAttribute('data-bp', mediaList.shift());
				element.src = this.src;
			}
			image.onerror = function() {
				if (thumbList.length) {
					imageLoadError(element, thumbList, mediaList);
				}
			}
			image.src = thumbList.shift();
		}
	</script>


		
		<script type="text/x-template" id="exh-product-gallery-v2-template">
			<div class="cards-v2-wrapper grid-gap-50 fill col-3 mt5">
			<article class="card-v2 shadow product">
				<div class="card-outer">
					<div class="card-section_top">
						<img class="w-100"
							
							height="324"
							width="324"
							:src="imagesource"
							:alt="title"
							v-bind:data-alternativeMediaFile="''+directorymediafileurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
							v-bind:data-alternativeThumbnail="''+directorythumbnailurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
							:onError="'imageLoadError(this, this.getAttribute(\'data-alternativeThumbnail\').split(/,/), this.getAttribute(\'data-alternativeMediaFile\').split(/,/))'">
					</div>
					<div class="card-section_bottom">
						<div class="title-favorite_wrapper">
							<h4 v-if="title" class="title">{{title}}</h4>
							<toggle-favorite
							:type="'showfeature'"
							v-bind:keys="featureid"
							v-bind:addedtoplanner="addedtoplanner"
							v-bind:exhid="exhid"
							v-on:toggle-favorite="$emit('toggle-favorite', $event)"
							>
							</toggle-favorite>
						</div>
						<p ref="productdescription" class="line-clamp__7" :class="[ readMoreOpen ? 'fadeIn' : 'line-clamp']" v-html="description"></p>
						<button
							v-if="needLineClamp"
							id="js-sectionToggleBtn"
							:title="[ readMoreOpen ? content.readLessText : content.readMoreText]"
							class="flow btn-v2 link mt3 descriptionBtn"
							@click="toggleReadMore">
							{{readMoreOpen ? content.readLessText : content.readMoreText}}
					</button>
					</div>
				</div>
			</article>
			</div>
		</script>
	

	<script>
		var productGallery = Vue.component('exh-product-gallery-v2', {
			data: function(){
				return {
					compincludepath: "includes/vue/exhibitor/exh-product-gallery-v2.cfm",
					needLineClamp: false,
					readMoreOpen: false,
					productDescriptionObserver: null
				}
			},
			template:"#exh-product-gallery-v2-template",
			props: ["title", "description", "imagesource", "imagesourceset", "subtitle", "featureid", "addedtoplanner", "exhid", "directorythumbnailurl", "directorymediafileurl"],
			computed: {
				content: function() {
					return this.getContentObject(this.compincludepath);
				}
			},
			mounted: function() {
				this.productDescriptionObserver = new ResizeObserver(() => {
					this.checkNeedLineClamp();
				});
				this.productDescriptionObserver.observe(this.$refs.productdescription);
			},
			methods: {
				toggleReadMore: function() {
					this.readMoreOpen = !this.readMoreOpen;
				},
				checkNeedLineClamp: function() {
					if(this.$refs.productdescription) {
						if(this.$refs.productdescription.scrollHeight > this.$refs.productdescription.clientHeight) {
							this.needLineClamp = true;
						}
					}
				}
			}
		});

		function imageLoadError(element, thumbList, mediaList) {
			var image = new Image();;
			image.onload = function() {
				element.src = this.src;
			}
			image.onerror = function() {
				if (thumbList.length) {
					imageLoadError(element, thumbList, mediaList);
				}
			}
			image.src = thumbList.shift();
		}
	</script>


		
		<script type="text/x-template" id="exh-product-gallery-condensed-v2-template">
				<article class="card-v2 shadow product-condensed">
					<div class="card-section_bottom">
						<div class="title-favorite_wrapper">
							
							<h4 v-if="title && mediatype !== 'text'" class="title"><a @click="openLightBox($event)">{{title}}</a></h4>
							<h4 v-else class="title">{{title}}</h4>
								<toggle-favorite
									:type="'showfeature'"
									v-bind:keys="featureid"
									v-bind:addedtoplanner="addedtoplanner"
									v-bind:exhid="exhid"
									v-on:toggle-favorite="$emit('toggle-favorite', $event)"
								></toggle-favorite>
						</div>
								<span v-if="tags.length > 0" class="bg-green-1 br1 dark-gray dib f7 normal pa2 pt1 pb1">{{tags}}</span>
								<p class="description" v-if="showdescription" v-html="description"></p>
							<img style="display:none;"
								:src="thumbnailsource"
								alt="title"
								:data-caption="captionvalue"
								v-bind:data-bp="imagesource"
								v-bind:data-alternativeMediaFile="''+directorymediafileurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
								v-bind:data-alternativeThumbnail="''+directorythumbnailurl+','+path2approot + '/assets/imgs/error-broken-image.png'"
								:onError="'imageLoadError(this, this.getAttribute(\'data-alternativeThumbnail\').split(/,/), this.getAttribute(\'data-alternativeMediaFile\').split(/,/))'"
							/>
					</div>
				</article>
		</script>
	

	<style>
	   @media screen and (min-width: 100em) {
	        .o-sort-form_outer {
	            padding-left: 1.5rem;
	        }
	        #bp_caption {
	            display: block;
	        }
	    }
		/* https://mapyourshow.atlassian.net/browse/IDS-347: comment out visually hidden class */
	    
	    /* Fix sidebar filters on larger screens */
	    

		#bp_container img, #bp_sv, #bp_aud, #bp_vid {
	        top: 30px;
	        bottom: initial;
	    }

		/* Fix for transparent PNG product images */
		#bp_container img {
			background: #ccc;
		}

		/* https://mapyourshow.atlassian.net/browse/IDS-347: Add .bp_caption_content to reign in #bp_caption when there's lots of content & reset some BigPicture styles */
		.bp_caption_content {
			max-height: 50vh;
			max-width: 800px;
			overflow: auto;
			margin-inline: auto;
			padding: 1.3em;
		}
		/* Stop background scrolling behind the BigPicture modal, so users don't lose there spot of caption content overflows */
		.l-wrapper:has(.bp_caption_content) {
			overflow: hidden;
		}
		/* BigPicture style resets: */
		#bp_caption {
			text-align: left;
			padding: unset; /* move padding to new wrapper, so the scrollbar doesn't hug the text content */
		}
	</style>

	<script>
		var productGalleryCondensed = Vue.component('exh-product-gallery-condensed-v2', {
			data: function(){
				return {}
			},
			template:"#exh-product-gallery-condensed-v2-template",
			props: ["title", "description", "thumbnailsource", "imagesource", "subtitle", "featureid", "addedtoplanner", "exhid", "directorythumbnailurl", "directorymediafileurl" ,"mediatype", "showdescription", "tags"],
			computed: {
				captionvalue: function() {
					var returnString = '';

				/* https://mapyourshow.atlassian.net/browse/IDS-347: Update returnString to allow markup from Show Features Product Description to come through & add new .bp_caption_content wrapper to target content coming through the modal caption  */
					returnString = `<h4 class="f2 ma0 mb2">${this.title}</h4>`;

					returnString += this.description;

					return `<div class="bp_caption_content">${returnString}</div>`;
				}
			},
			methods:{
				openLightBox: function(event) {
					var vObj = this;
					event.preventDefault();

					vObj.logShowFeatureStats(vObj.featureid);
					var imgElement = event.target.closest('div.card-section_bottom').getElementsByTagName('img')[0];
					var path = imgElement.getAttribute('data-bp');

					if (vObj.mediatype == 'image') {
						BigPicture({
							el: imgElement,
							imgSrc: path
						});
					} else if (vObj.mediatype == 'video') {
						BigPicture({
							el: imgElement,
							vidSrc: path,
							animationStart: function () {
								var video = document.querySelector('#bp_vid');
								video.setAttribute("controlsList", "nodownload");
								video.setAttribute("oncontextmenu", "return false");
							}
						});
					}

					return false;
				},
				logShowFeatureStats: function(event){
					var featureid = event;
					this.logStats('Show Feature Viewed', "", this.exhid, featureid);
				}
			}
		});

		function imageLoadError(element, thumbList, mediaList) {
			var image = new Image();;
			image.onload = function() {
				element.setAttribute('data-bp', mediaList.shift());
				element.src = this.src;
			}
			image.onerror = function() {
				if (thumbList.length) {
					imageLoadError(element, thumbList, mediaList);
				}
			}
  			image.src = thumbList.shift();
		}
	</script>

<script type="text/javascript">
	var graphqlmixin =
	{
		data: function()
		{
			return {
				graphqlstage: 'production',
				graphqllink: '',
				graphqlaccesstoken: '',
				graphqlrefreshtoken: '',
				graphqlshowid: ''
			}
		},
		created: async function()
		{
			// When this mixin is created, we need to connect the user
			this.graphqllink = 'https://graphql.mapyourshow.com/' + this.graphqlstage + '/graphql';
		},
		watch:
		{

		},
		computed:
		{

		},
		methods:
		{
			sendGraphQLPOSTCall: function(query, queryVariables, queryToResend, queryVariablesToResend)
			{
				var vObj = this;
				const controller = new AbortController();
				setTimeout(() => controller.abort(), 60000);

				fetch(this.graphqllink,
					{
					method: "POST",
					body: JSON.stringify({query, variables: queryVariables}),
					headers:
					{
						"showid": this.graphqlshowid,
						"token": this.graphqlaccesstoken,
						"Content-Type": "application/json"
					},
					signal: controller.signal
				}).then(
				function(fetchResponse)
				{
					fetchResponse.json().then(
						function(response)
						{
							// JEFF :: TODO :: Change the response so it's not a general error message. Needs to be more speficif towards expired access tokens
							if(typeof response.errors !== 'undefined' && response.errors[0].message == 'General Error. Contact MYS.' && vObj.graphqlshowid.length > 0)
							{
								vObj.refreshAccessToken(query, JSON.stringify(queryVariables));
							}
							else if(typeof response.data.authorize !== 'undefined' && typeof response.data.authorize[0].accesstoken !== 'undefined' && response.data.authorize[0].accesstoken[0] != 'Invalid Login')
							{
								vObj.graphqlaccesstoken = response.data.authorize[0].accesstoken[0];
								vObj.resetSessionAccessToken(vObj.graphqlaccesstoken);
								vObj.sendGraphQLPOSTCall(queryToResend, queryVariablesToResend);
							}
							else if(typeof response.data.authorize !== 'undefined' && typeof response.data.authorize[0].accesstoken !== 'undefined' && response.data.authorize[0].accesstoken[0] == 'Invalid Login')
							{
								document.getElementById('logoutformmys').submit();
							}
						}
					).catch(
						function(error)
						{
							/* console.log(error); */
						}
					);
				})
				.catch(
					function(error)
					{
						/* console.log(error); */
						errorCallback(error);
					}
				);
			},
			refreshAccessToken: function(queryToResend, queryVariablesToResend)
			{
				var query = `Query.authorize(username: $username, refreshtoken: $refreshtoken, app: $app, showid: $showid)
				{
					accesstoken
					refreshtoken
				}`;

				var query = `query Authorize(
					$username: String!,
					$refreshtoken: String!,
					$app: String!,
					$showid: String!
				)
				{
					authorize(
						username: $username,
						refreshtoken: $refreshtoken,
						app: $app,
						showid: $showid
					)
					{
						accesstoken
						refreshtoken
					}
				}`;

				var queryVariables =
				{
					'username': this.regemail,
					'refreshtoken': this.graphqlrefreshtoken,
					'app': 'directory',
					'showid': this.graphqlshowid
				}
				console.log(queryVariables);
				this.sendGraphQLPOSTCall(query, queryVariables, queryToResend, queryVariablesToResend);
			},
			resetSessionAccessToken: function(newAccessToken)
			{
				var vObj = this,
				formData = new FormData();
				formData.append('newAccessToken', newAccessToken)

				vObj.ajaxPost(vObj.path2approot + '/myshow/myshow-actions.cfm?action=updateAccessToken', formData,	// ajaxPost() defined in _global-mixin
					function(response)
					{
						// success
						console.log('Access Token Updated');
					},
					function(response)
					{
						// error
						console.log('There was an error updating access token');

					}
				);		// end ajaxPost
			}
		}
	}
</script>


<script type="text/javascript">
	var chatmixin =
	{
		mixins: [graphqlmixin],
		data: function()
		{
			return {
				// Socket information
				socket: null,
				apikey: 'mwskxdxctb',
				stage: 'production',
				unnamedvariable: '',

				// My contact information
				username: '',
				userid: '',
				userimage: 'https://image.flaticon.com/icons/svg/145/145867.svg',
				usercompany: '',
				usertitle: '',

				// Who I am talking to's information
				talkingtouserid: '',
				talkingtousername: '',
				talkingtouserimage: '',
				talkingtousercompany: '',
				talkingtousertitle: '',
				talkingtouserstatus: '',
				loadingmessages: false,

				// Array of users I am actively talking to and default view
				activechats:[],

				// Array of my favorited contacts
				// JEFF :: TODO :: Need to get all favorited contacts, right now it is entire list
				allcontacts:
				[

				],

				// Messages in the current conversation, max number of messages loaded in each batch, and the option to load more
				messagelist: [],
				maxmessagesloaded: 20,
				showloadmoremessages: false,
				onlinecontactsdata: [],

				// Messages in blocked converstaion, max number, option to load more blocked messages, and blocked contacts
				blockeduserid: null,
				blockedmessagelist: [],
				showloadmoreblockedmessages: false,
				blockedusers:
				[

				],

				// Determines is there is a new message from another user outside of the current chat
				newnotification: false,
				audio: null,

				//Determines if a user has joined in the group chat or not
				joinedgroupchat: false,
				groupchatid: '',
				groupchathost: 0,
				groupchatmod: 0,
				groupchatadmin: 0,
				isgroupchat: false,
				loadingnewuser: false,
				showdirectmessagemodal: false,
				showReplyModal: false,
				replymessageusername: '',
				replymessage: '',
				replymessagetime: null,
				replymessageid: '',
				// List of roles assigned to the user
				roles:
				[

				],
				rolesthatcanchat:
				[

				],

				// Array of all online users for this show
				onlineusers:
				[

				],
				currenturl: window.location.pathname
			}
		},
		created: async function()
		{
			// When this mixin is created, we need to connect the user
			// if(this.userid.length > 0)
			// {
				await this.connectUser();
				var vObj = this;
				vObj.audio = new Audio(this.path2approot + '/assets/audio/notification.wav');
				window.onbeforeunload = function()
				{
					vObj.removeUserConnection();
				}
			// }
		},
		watch:
		{

		},
		computed:
		{
			rolecansendmessages: function()
			{
				// Returns true if at least one of the roles I have assigned to me is allowed to initiate messages with other users
				return this.roles.filter(item1 => this.rolesthatcanchat.some(item2 => item1 === item2)).length > 0
			}
		},
		methods:
		{
			removeUserConnection: function()
			{
				var removeuserconnectionaction =
				{
					"action": "removeuserconnection",
					"showid": this.showid.toLowerCase(),
					"userid": this.userid
				};

				this.socket.send(JSON.stringify(removeuserconnectionaction));
			},
			closeChatWindow: function()
			{
				this.talkingtouserid = '';
				this.talkingtousername = '';
			},
			/* Connect a user to the websocket */
			connectUser: async function()
			{
				var vObj = this;
				this.socket = await new WebSocket('wss://' + this.apikey + '.execute-api.us-east-1.amazonaws.com/' + this.stage);

				this.socket.onclose = async function(e)
				{
					vObj.connectUser();
				}

				// Method ran once socket is opened
				this.socket.onopen = async function(e)
				{
					if(vObj.userid.length > 0)
					{
						var connectuseraction =
						{
							"action": "connectuser",
							"showid": vObj.showid.toLowerCase(),
							"userid": vObj.userid,
							'groupchatconnection': vObj.groupchatid.length > 0 || vObj.isgroupchat ? 1234 : 1,
							'unnamedvariable': vObj.unnamedvariable,
							'thispageurl': vObj.thispageurl
						}

						await vObj.socket.send(JSON.stringify(connectuseraction));
					}
				}

				// When the socket receives a message, do something
				this.socket.onmessage = function(event, callback)
				{

					var messagedata = JSON.parse(event.data),
					messageclass = '';

					/* Based on what type of message was received, we are going to do different things */

					/* New message received */
					if(messagedata.messagetype == 'newmessage' && vObj.groupchatid == '')
					{
						if(vObj.hasnetworking && typeof messagedata.userstatus !== "undefined" && messagedata.userstatus.toLowerCase() == 'offline')
						{
							var formData = new FormData();

							formData.append("userid", messagedata.to.split('[')[1].split(']')[0]);
							formData.append("message", messagedata.message);
							formData.append("messagetime", vObj.formatSessionTime(new Date(messagedata.messagetime)));
							formData.append("username", messagedata.username);

							vObj.ajaxPost(vObj.path2approot + '/myshow/myshow-actions.cfm?action=sendofflineemail', formData,	// ajaxPost() defined in _global-mixin
								function(response)
								{		// success
									// console.log('Message sent successfully', response);
								},
								function(response)
								{ 	// error
									console.log('Error occurred', response);
								}
							);		// end ajaxPost
						}

						if(messagedata.userid != vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
						{
							vObj.audio.play();
						}

						var showasunread = true;

						if(messagedata.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid) || messagedata.userid == vObj.talkingtouserid.replace('^ShowID^', vObj.graphqlshowid))
						{
							if(messagedata.userid == vObj.talkingtouserid.replace('^ShowID^', vObj.graphqlshowid) || messagedata.to == vObj.talkingtouserid.replace('^ShowID^', vObj.graphqlshowid))
							{
								showasunread = false;
								if(messagedata.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
								{
									var messageclass = 'o-message_sent';
								}
								else
								{
									var messageclass = 'o-message_received';

									vObj.markMessagesAsRead();
								}

								vObj.messagelist.push(
								{
									"msgclass": messageclass,
									"message": messagedata.message,
									"messagetime": vObj.formatSessionTime(new Date(messagedata.messagetime)),
									"username": messagedata.username,
									"userimage": messagedata.userimage,
									"lastread": false
								});
							}

							if(messagedata.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
							{
								vObj.reorderActiveChats(messagedata.to.replace(vObj.graphqlshowid, '^ShowID^'), showasunread, messagedata.messagetime);
							}
							else
							{
								vObj.reorderActiveChats(messagedata.userid.replace(vObj.graphqlshowid, '^ShowID^'), showasunread, messagedata.messagetime);
							}
						}
						else if(vObj.onlinecontactsdata.length == 0)
						{
							vObj.reorderActiveChats(messagedata.userid.replace(vObj.graphqlshowid, '^ShowID^'), showasunread, messagedata.messagetime);
						}
						else
						{
							sessionStorage.setItem("newnotification", true);
							vObj.newnotification = true;
						}
					}
					else if(messagedata.messagetype == 'unnamedvariable' && messagedata.value.length > 0)
					{
						vObj.unnamedvariable = messagedata.value;
						if(vObj.onlinecontactsdata.length == 0 && vObj.currenturl.search('/myshow/chat.cfm') > -1)
						{
							// vObj.loadContacts();
						}
						else
						{
							vObj.getContactStatuses('online');
						}

						vObj.$emit('socket-connected');
					}
					else if(messagedata.messagetype == 'messagedeleted' && messagedata.groupchatid == vObj.groupchatid)
					{
						vObj.messagelist = vObj.messagelist.filter(function( obj )
						{
    						return obj.messageid !== messagedata.messageid;
						});
					}
					else if(messagedata.messagetype == 'userbanned' && messagedata.groupchatid == vObj.groupchatid)
					{
						vObj.messagelist = vObj.messagelist.filter(function( obj )
						{
							return obj.userid.replace('^ShowID^', vObj.graphqlshowid) !== messagedata.userid;
						});

						if(messagedata.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
						{
							vObj.joinedgroupchat = false;
							var url = window.location.href;
							if(url.indexOf('?') > -1)
							{
							   url += '&banned=true'
							}
							else
							{
							   url += '?banned=true'
							}

							window.location.href = url;
						}
					}
					else if(messagedata.messagetype == 'newgroupmessage' && messagedata.groupchatid == vObj.groupchatid)
					{
						if(messagedata.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
						{
							var messageclass = 'o-message_sent';
						}
						else
						{
							var messageclass = 'o-message_received';
						}

						/* Check if the user's roles and the message roles list have intersecting values */
						var intersectingRoles = JSON.parse(messagedata.blockedroles).filter(function(n) { return vObj.roles.indexOf(n) !== -1;});

						vObj.messagelist.push(
						{
							"msgclass": messageclass,
							"message": messagedata.message,
							"messagetime": vObj.formatSessionTime(new Date(messagedata.messagetime)),
							"username": messagedata.username,
							"userimage": messagedata.userimage,
							"lastread": false,
							"messageid": messagedata.messageid,
							"ishost": messagedata.ishost,
							"ismod": messagedata.ismod,
							"isadmin": messagedata.isadmin,
							"isexh": messagedata.isexh,
							"userid": messagedata.userid.replace(vObj.graphqlshowid, '^ShowID^'),
							"isquestion": messagedata.message.search('\\?') > -1 ? true : false,
							"bannedrole": intersectingRoles.length > 0,
							"originalmessageid": messagedata.originalmessageid
						});
					}
					else if(messagedata.messagetype == 'loadedgroupmessages' && messagedata.groupchatid == vObj.groupchatid)
					{
						var currentdate = new Date();

						vObj.showloadmoremessages = false;
						vObj.showloadmoreblockedmessages = false;

						messagedata.messages.forEach(function(message, index)
						{
							if(message.userid == vObj.userid)
							{
								var messageclass = 'o-message_sent';
							}
							else
							{
								var messageclass = 'o-message_received';
							}

							var messagedate = new Date(message.messagetime);

							/* Check if the user's roles and the message roles list have intersecting values */
							var intersectingRoles = JSON.parse(message.blockedroles).filter(function(n) { return vObj.roles.indexOf(n) !== -1;});

							vObj.messagelist.push(
							{
								"msgclass": messageclass,
								"messageid": message.messageid,
								"message": message.message,
								"messagetime": (currentdate.getDate() != messagedate.getDate() ? vObj.formatSessionDate(messagedate) : vObj.formatSessionTime(messagedate)),
								"username": message.username,
								"userimage": message.userimage,
								"lastread": (index > 0 && message.status == 'unread' && messagedata.messages[index -1].status != 'unread' ? true : false),
								"ismod": message.ismod,
								"isadmin": message.isadmin,
								"ishost": message.ishost,
								"userid": message.userid,
								"isexh": message.isexh,
								"isquestion": message.message.search('\\?') > -1 ? true : false,
								"bannedrole": intersectingRoles.length > 0,
								"originalmessageid": message.originalmessageid
							});
						});
					}
					else if(messagedata.messagetype == 'loadedmessages')
					{
						if(messagedata.messages.length > 0)
						{
							vObj.markMessagesAsRead();
						}

						var currentdate = new Date();

						if(this.blockeduserid !== null)
						{
							vObj.showloadmoreblockedmessages = messagedata.moremessages;
							vObj.showloadmoremessages = false;
						}
						else
						{
							vObj.showloadmoremessages = messagedata.moremessages;
							vObj.showloadmoreblockedmessages = false;
						}

						messagedata.messages.forEach(function(message, index)
						{
							if(message.userid == vObj.userid.replace('^ShowID^', vObj.graphqlshowid))
							{
								var messageclass = 'o-message_sent';
							}
							else
							{
								var messageclass = 'o-message_received';
							}

							var messagedate = new Date(message.messagetime);

							if(vObj.blockeduserid !== null)
							{
								vObj.blockedmessagelist.unshift(
								{
									"msgclass": messageclass,
									"message": message.message,
									"messagetime": (currentdate.getDate() != messagedate.getDate() ? vObj.formatSessionDate(messagedate) : vObj.formatSessionTime(messagedate)),
									"username": message.username,
									"userimage": message.userimage,
									"lastread": (index > 0 && message.status == 'unread' && messagedata.messages[index -1].status != 'unread' ? true : false)
								});
							}
							else
							{
								vObj.messagelist.unshift(
								{
									"msgclass": messageclass,
									"message": message.message,
									"messagetime": (currentdate.getDate() != messagedate.getDate() ? vObj.formatSessionDate(messagedate) : vObj.formatSessionTime(messagedate)),
									"username": message.username,
									"userimage": message.userimage,
									"lastread": (index > 0 && message.status == 'unread' && messagedata.messages[index -1].status != 'unread' ? true : false)
								});
							}
						});

						vObj.loadingmessages = false;
					}
					else if(messagedata.messagetype == 'loadedusers')
					{
						messagedata.users.forEach(function(userdata, index)
						{
							vObj.activechats.push(
							{
								"isconnected": userdata.isconnected,
								"contactstatus": userdata.contactstatus,
								"username": userdata.username,
								"userid": userdata.userid,
								"userimage": userdata.avatar,
								"messagesread": false,
								"lastmessagestatus": userdata.lastmessagestatus,
								"lastmessagefrom": userdata.lastmessagefromuserid,
								"title": userdata.title,
								"company": userdata.company,
								"lastmessagetime": userdata.lastmessagetime
							});
						});
					}
					else if(messagedata.messagetype == 'userdata')
					{
						if(Object.keys(messagedata.userdata).length > 0)
						{
							if(vObj.loadingnewuser)
							{
								messagedata.userdata.userid = messagedata.userdata.userid.replace(vObj.graphqlshowid, '^ShowID^');
								messagedata.userdata.lastmessagestatus = 'unread';
								messagedata.userdata.contactstatus = messagedata.userdata.status;

								/* Time formatting functin found here: https://stackoverflow.com/questions/12945003/format-date-as-yyyy-mm-ddthhmmss-sssz */
								messagedata.userdata.lastmessagetime = new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString();
								messagedata.userdata.lastmessagestatus = 'unread';
								vObj.activechats.unshift(messagedata.userdata);
								vObj.loadingnewuser = false;
							}
							else if(vObj.blockedusers.length > 0)
							{
								vObj.blockedusers.forEach(function(contact, index)
								{
									if(messagedata.userdata.isconnected == 'true' && messagedata.userdata.userid == contact.userid.replace('^ShowID^', vObj.graphqlshowid))
									{
										vObj.blockedusers[index].contactstatus = 'Available';
									}
								});
							}
							else
							{
								vObj.onlinecontactsdata.forEach(function(contact, index)
								{
									if(messagedata.userdata.isconnected == 'true' && messagedata.userdata.userid == contact.chatid.replace('^ShowID^', vObj.graphqlshowid))
									{
										vObj.onlinecontactsdata[index].contactstatus = 'Available';
									}
								});
							}
						}
					}
					else if(messagedata.messagetype == 'availableusers')
					{
						// Store all the online users in a single array. This way when a search is done, we don't have to get all users who are online every time
						vObj.onlineusers = messagedata.users;

						// The list of online users may not return before the search runs, so we need to loop over all users in this instance
						vObj.onlineusers.forEach(function(userid, index)
						{
							vObj.allcontacts.forEach(function(contact, index)
							{
								if(contact.userid === userid)
								{
									vObj.allcontacts[index].contactstatus = 'Available';
								}
							});
						});
					}
					else if(messagedata.messagetype == 'userblocked')
					{
						if(vObj.userid == messagedata.removedfrom.replace(vObj.graphqlshowid, '^ShowID^'))
						{
							if(messagedata.blockstatus == 'true')
							{
								/* If the current user we are talking to has been blocked, reset the active user who we are talking to */
								if(vObj.talkingtouserid == messagedata.useridtoremove.replace(vObj.graphqlshowid, '^ShowID^'))
								{
									vObj.talkingtouserid = '';
								}

								/* Remove the blocked user from the contact list */
								vObj.allcontacts = vObj.allcontacts.filter(function(contact)
								{
									return contact.userid !== messagedata.useridtoremove.replace(vObj.graphqlshowid, '^ShowID^');
								});

								/* Remove the user from the list of active chats */
								vObj.activechats = vObj.activechats.filter(function(contact)
								{
									return contact.userid !== messagedata.useridtoremove.replace(vObj.graphqlshowid, '^ShowID^');
								});
							}
							else
							{
								/* Remove the user from the list of active chats */
								vObj.blockedusers = vObj.blockedusers.filter(function(contact)
								{
									return contact.userid !== messagedata.useridtoremove.replace(vObj.graphqlshowid, '^ShowID^');
								});
							}

							vObj.$emit('user-blocked', messagedata.blockstatus);
						}
						else if(vObj.userid == messagedata.useridtoremove.replace(vObj.graphqlshowid, '^ShowID^'))
						{
							if(messagedata.blockstatus == 'true')
							{
								if(vObj.talkingtouserid == messagedata.removedfrom.replace(vObj.graphqlshowid, '^ShowID^'))
								{
									vObj.talkingtouserid = '';
									vObj.talkingtousername = '';
									vObj.talkingtouserimage = '';
									vObj.talkingtousercompany = '';
									vObj.talkingtousertitle = '';
									vObj.talkingtouserstatus = '';
								}

								/* If the current user we are talking to has been blocked, reset the active user who we are talking to */
								if(vObj.talkingtouserid == messagedata.removedfrom.replace(vObj.graphqlshowid, '^ShowID^'))
								{
									vObj.talkingtouserid = '';
								}

								/* Remove the blocked user from the contact list */
								vObj.allcontacts = vObj.allcontacts.filter(function(contact)
								{
									return contact.userid !== messagedata.removedfrom.replace(vObj.graphqlshowid, '^ShowID^');
								});

								/* Remove the user from the list of active chats */
								vObj.activechats = vObj.activechats.filter(function(contact)
								{
									return contact.userid !== messagedata.removedfrom.replace(vObj.graphqlshowid, '^ShowID^');
								});
							}
						}

						location.reload();
					}
					else if(messagedata.messagetype == 'userstatus')
					{
						if(messagedata.status == 'Available')
						{
							// If new online user, add them to the online users array
							vObj.onlineusers.push(messagedata.userid);
						}
						else
						{
							// If user signed off, remove them from the online users array
							vObj.onlineusers.splice(vObj.onlineusers.indexOf(messagedata.userid), 1);
						}

						// Loop over all existing contact search results and update their status
						vObj.allcontacts.forEach(function(contact, index)
						{
							if(contact.userid === messagedata.userid)
							{
								vObj.allcontacts[index].contactstatus = messagedata.status;
							}
						});

						vObj.onlinecontactsdata.forEach(function(contact, index)
						{
							if(contact.chatid === messagedata.userid)
							{
								vObj.onlinecontactsdata[index].contactstatus = messagedata.status;
							}
						});

						// Loop over all existing conversations and update that user's status
						vObj.activechats.forEach(function(contact, index)
						{
							if(contact.userid === messagedata.userid)
							{
								vObj.activechats[index].contactstatus = messagedata.status;
							}
						});
					}
				}
			},
			reorderActiveChats: function(newmessagefromuserid, showasunread, messagetime)
			{
				/*
				This function will move active chats around so that the most recent is moved towards the top
				This prevent us from having to constantly laod up a new contact list every time a message is sent
				*/

				if(this.activechats.length > 0)
				{
					for(var i = 0; i < this.activechats.length; i++)
					{
						if(this.activechats[i].userid == newmessagefromuserid)
						{
							if(showasunread)
							{
								this.activechats[i].lastmessagestatus = 'unread';
							}

							/* Time formatting functin found here: https://stackoverflow.com/questions/12945003/format-date-as-yyyy-mm-ddthhmmss-sssz */
							this.activechats[i].lastmessagetime = new Date(messagetime).toISOString();
							this.array_move(this.activechats, i, 0);
							break;
						}
						else if(i + 1 == this.activechats.length)
						{
							// Made it to the end of the array and didn't find the user. Make a getuser call to get the user's data and populate the array with it
							this.loadingnewuser = true;
							this.getUser(newmessagefromuserid);
						}
					}
				}
				else
				{
					// Made it to the end of the array and didn't find the user. Make a getuser call to get the user's data and populate the array with it
					this.loadingnewuser = true;
					this.getUser(newmessagefromuserid);
				}
			},
			disconnectUser: async function()
			{
				var removeuseraction =
				{
					"action": "disconnectuser",
					"showid": this.showid.toLowerCase(),
					"userid": this.userid
				}

				this.socket.send(JSON.stringify(removeuseraction));
				this.socket.close();
			},
			joinGroupChat: async function(username, message, messagetime)
			{
				if(this.groupchatid.length > 0)
				{
					var query = `query MYSChat(
						$action: String!,
						$groupchatid: String!,
						$ishost: Int!,
						$userid: String!,
					)
					{
						myschat(
							action: $action,
							groupchatid: $groupchatid,
							ishost: $ishost,
							userid: $userid,
						)
						{
							result
						}
					}`;

					var queryvariables =
					{
						'action': "U2FsdGVkX1+BBjI7nN9e6G/8HtHgEst1bXZQkzBSuKpJNMLUgbMbxcRLObzsGNbL",
						'groupchatid': this.groupchatid,
						'ishost': this.groupchathost ? 1 : 0,
						'userid': this.userid
					}

					this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));

					this.joinedgroupchat = true;

					if(message && this.messagelist.length == 0)
					{
						this.messagelist.push(
						{
							"msgclass": 'o-message_received',
							"messageid": new Date().getTime(),
							"message": message,
							"messagetime": messagetime,
							"username": username,
							"userimage": '',
							"lastread": true,
							"ismod": false,
							"isadmin": false,
							"ishost": false,
							"userid": 'show:^ShowID^-p-[' + this.graphqlshowid + ']',
							"isquestion": false,
							"originalmessageid": ''
						});
					}

					// Only try to load the messages if the only existing message is the default group message, or none at all
					if(this.messagelist.length <= 1)
					{
						this.loadGroupMessages(0, 50);
					}
				}
			},
			removeUserFromGroup: async function()
			{
				this.joinedgroupchat = false;
				var removeUserAction =
				{
					"action": "removeuserfromgroup",
					"groupchatid": this.groupchatid,
					"removeduserid": this.userid
				}

				this.socket.send(JSON.stringify(removeUserAction));
			},
			sendGroupMessage: async function(newmessage, originalmessageid)
			{
				const text = newmessage.replace(/</g, '<').replace(/>/g, '>').trim();
				var isanswer = false;

				if(text === '')
				{
					return -1; //empty messages cannot be sent
				}
				else
				{
					if(this.replymessageusername.length > 0 && this.replymessage.length > 0)
					{
						isanswer = true;
						newmessage = '<reply><strong>' + this.replymessageusername + '</strong> - ' + this.replymessage + '</reply>' + newmessage;
						this.closeReplyModal();
					}

					var query = `query MYSChat(
						$action: String!,
						$messagetext: String!,
						$fromuserid: String!,
						$userid: String!,
						$groupchatid: String!,
						$ishost: Int!,
						$ismod: Int!,
						$company: String!,
						$isadmin: Int!,
						$isanswer: Boolean!,
						$messagesetid: String!
					)
					{
						myschat(
							action: $action,
							messagetext: $messagetext,
							fromuserid: $fromuserid,
							userid: $userid,
							groupchatid: $groupchatid,
							ishost: $ishost,
							company: $company,
							ismod: $ismod,
							isadmin: $isadmin,
							isanswer: $isanswer,
							messagesetid: $messagesetid
						)
						{
							result
						}
					}`;

					var queryvariables =
					{
						'action': "U2FsdGVkX19oJPD02S4ulPf6C9gedpY9PVHjoBwEClzLmIz9B9Ip3K7q95y/WED8/VqXUgkEnx9uYtIyqn5rTg==",
						'messagetext': newmessage,
						'fromuserid': this.userid,
						'userid': this.userid,
						'groupchatid': this.groupchatid,
						'ishost': this.groupchathost,
						'company': this.isexhibitor ? 'exhibitor' : 'attendee',
						'ismod': this.groupchatmod,
						'isadmin': this.groupchatadmin,
						'isanswer': isanswer,
						'messagesetid': this.replymessageid
					}

					// Blank out the reply message id once it has been sent
					if(this.replymessageid.length > 0)
					{
						this.replymessageid = '';
					}

					this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
				}
			},
			deleteGroupMessage: async function(messageid)
			{
				var query = `query MYSChat(
					$action: String!,
					$groupchatid: String!,
					$userid: String!,
					$removedmessageid: String!,
				)
				{
					myschat(
						action: $action,
						groupchatid: $groupchatid,
						userid: $userid,
						removedmessageid: $removedmessageid,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX1/EemVitj8A3u0ylvr0mCpdVN56fRwDHVBBllrQxraMmrmf7LYaeP1e+ce4JxjHSwtcukP5c56/Dw==",
					'groupchatid': this.groupchatid,
					'userid': this.userid,
					'removedmessageid': messageid
				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			deleteUser: async function (userid, countasstrike)
			{
				var query = `query MYSChat(
					$action: String!,
					$groupchatid: String!,
					$userid: String!,
					$removeduserid: String!,
					$banned: String!,
					$countasstrike: String!
				)
				{
					myschat(
						action: $action,
						groupchatid: $groupchatid,
						userid: $userid,
						removeduserid: $removeduserid,
						banned: $banned,
						countasstrike: $countasstrike
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX19aFHuca3dk1QqHN+tZ/CiqTqWVdet5PqJ4BB86v96Zh+BDXXJfwmdaP3aouu5CENcnymsvh1dGVw==",
					'groupchatid': this.groupchatid,
					'userid': this.userid,
					'removeduserid': userid,
					'banned': 'true',
					'countasstrike': countasstrike.toString()
				};

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			openDirectMessageModal: function(userid, username)
			{
				this.talkingtouserid = userid;
				this.talkingtousername = username;
				this.showdirectmessagemodal = true;
			},
			closeDirectMessageModal: function()
			{
				this.showdirectmessagemodal = false;
			},
			openReplyModal: function(username, message, messagetime, messageid)
			{
				this.showReplyModal = true;
				this.replymessageid = messageid;
				this.replymessageusername = username;
				this.replymessage = message;
				this.replymessagetime = messagetime;
			},
			closeReplyModal: function()
			{
				this.showReplyModal = false;
				this.replymessage = '';
				this.replymessageusername = '';
				this.replymessagetime = null;
			},
			sendDirectMessage: async function(newmessage)
			{
				this.showdirectmessagemodal = false;
				this.sendMessage(newmessage);
			},
			sendMessage: async function(newmessage)
			{
				const text = newmessage.replace(/</g, '<').replace(/>/g, '>').trim();

				if(text === '')
				{
					return -1; //empty messages cannot be sent
				}
				else
				{
					var query = `query MYSChat(
						$action: String!,
						$messagetext: String!,
						$fromuserid: String!,
						$userid: String!,
						$touserid: String!,
					)
					{
						myschat(
							action: $action,
							messagetext: $messagetext,
							fromuserid: $fromuserid,
							userid: $userid,
							touserid: $touserid,
						)
						{
							result
						}
					}`;

					var queryvariables =
					{
						'action': "U2FsdGVkX1/pLmGw+zUw8vqmxJf8scHewScrGjstafS4a03OoPkZ1E1U+h5ontIGAyEpF903/BkHfuA1fWq7xg==",
						'messagetext': newmessage,
						'fromuserid': this.userid,
						'userid': this.userid,
						'touserid': this.talkingtouserid
					}

					this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
				}
			},
			markMessagesAsRead: async function()
			{
				var query = `query MYSChat(
					$action: String!,
					$fromuserid: String!,
					$userid: String!,
					$touserid: String!,
				)
				{
					myschat(
						action: $action,
						fromuserid: $fromuserid,
						userid: $userid,
						touserid: $touserid,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX1965QOqHjdEpEL2FVIdcP6Gvp6l5/4wxAlyPoAw6B8qmY/X159VQqAErHZxFeRgUCY2ET7ORIQNKw==",
					'fromuserid': this.talkingtouserid,
					'userid': this.userid,
					'touserid': this.userid
				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			loadMessages: async function(startingindex, endingindex, loadingblocked)
			{
				var messagesetid;
				if(loadingblocked !== undefined && loadingblocked)
				{
					var messagesetid = 'messageset:' + [this.userid, this.blockeduserid].sort().join('-')

					if(startingindex == 0)
					{
						this.blockedmessagelist = [];
					}
				}
				else if(this.talkingtouserid !== null)
				{
					var messagesetid = 'messageset:' + [this.userid, this.talkingtouserid].sort().join('-')

					if(startingindex == 0)
					{
						this.messagelist = [];
					}
				}

				var query = `query MYSChat(
					$action: String!,
					$fromuserid: String!,
					$userid: String!,
					$touserid: String!,
					$firstmessageindex: String!,
					$lastmessageindex: String!,
					$unnamedvariable: String!,
				)
				{
					myschat(
						action: $action,
						fromuserid: $fromuserid,
						userid: $userid,
						touserid: $touserid,
						firstmessageindex: $firstmessageindex,
						lastmessageindex: $lastmessageindex,
						unnamedvariable: $unnamedvariable,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX19HuNnApIC9L4LI/wng0/KZoEz0WrY0fj8P0PH8OSEzdGJ69kN0f6WSVCyak63GcITKaKWgyw48KA==",
					'fromuserid': this.userid,
					'userid': this.userid,
					'touserid': loadingblocked !== undefined && loadingblocked ? this.blockeduserid : this.talkingtouserid,
					'firstmessageindex': startingindex.toString(),
					'lastmessageindex': endingindex.toString(),
					'unnamedvariable': this.unnamedvariable

				}

				this.sendGraphQLPOSTCall(query, queryvariables);
				var vObj = this;

				setTimeout(function()
				{
					vObj.loadingmessages = false;
				}, 4000);
			},
			loadGroupMessages: async function(startingindex, endingindex)
			{
				var query = `query MYSChat(
					$action: String!,
					$groupchatid: String!,
					$userid: String!,
					$firstmessageindex: String!,
					$lastmessageindex: String!,
					$unnamedvariable: String!,
				)
				{
					myschat(
						action: $action,
						groupchatid: $groupchatid,
						userid: $userid,
						firstmessageindex: $firstmessageindex,
						lastmessageindex: $lastmessageindex,
						unnamedvariable: $unnamedvariable,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX1/TAYOddO6Wdv7svNYAY+WUwfb6KLoejB7r/6hDifDojz0WQpLDHWR09mygvBbQ+OtciSt+2ZpTTw==",
					'groupchatid': this.groupchatid,
					'userid': this.userid,
					'firstmessageindex': startingindex.toString(),
					'lastmessageindex': endingindex.toString(),
					'unnamedvariable': this.unnamedvariable

				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			loadContacts: async function()
			{
				this.activechats = [];
				var query = `query MYSChat(
					$action: String!,
					$userid: String!,
					$unnamedvariable: String!,
				)
				{
					myschat(
						action: $action,
						userid: $userid,
						unnamedvariable: $unnamedvariable,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX18yyTTAhFDNuObdsUpi2tCFTl9Cpax/Pz72yIvMK84Ey0VBz4PR3Uu5Q9RscmXWLT8fiBJK8K/qPA==",
					'userid': this.userid,
					'unnamedvariable': this.unnamedvariable
				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			addContact: async function(addingtouserid, newuserid)
			{
				var query = `query MYSChat(
					$action: String!,
					$addingtouserid: String!,
					$newuserid: String!,
					$userid: String!
				)
				{
					myschat(
						action: $action,
						addingtouserid: $addingtouserid,
						newuserid: $newuserid,
						userid: $userid
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX18220RL+QNCo1xiiYfL35C1ZftzYtNcH2p+PrhAJsDjx7MmLIcy3lRY4mSmHDn4nrD4wcevS+mYNw==",
					'addingtouserid': addingtouserid,
					'newuserid': newuserid,
					'userid': this.userid

				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			updateConvo: function(selecteduserid, selectedusername, selectedusercompany, selectedusertitle, selecteduserimage, selecteduserstatus)
			{
				this.loadingmessages = true;
				this.blockeduserid = null;
				for(var i = 0; i < this.activechats.length; i++)
				{
					if(this.activechats[i].userid == selecteduserid)
					{
						this.activechats[i].lastmessagestatus = 'read';
						break;
					}
				}

				this.showloadmoremessages = false;
				this.talkingtouserid = selecteduserid;
				this.talkingtouserstatus = selecteduserstatus;
				this.talkingtousername = selectedusername;
				this.talkingtousercompany = selectedusercompany;
				this.talkingtousertitle = selectedusertitle;
				this.talkingtouserimage = selecteduserimage;
				this.loadMessages(0, this.maxmessagesloaded);
			},
			getUser: function(userid)
			{
				var query = `query MYSChat(
					$action: String!,
					$userid: String!,
					$touserid: String!,
					$unnamedvariable: String!,
				)
				{
					myschat(
						action: $action,
						userid: $userid,
						touserid: $touserid,
						unnamedvariable: $unnamedvariable,
					)
					{
						result
					}
				}`;

				var queryvariables =
				{
					'action': "U2FsdGVkX1/1FqiHaZ/OMcU3i44g971ItFp+DPjmiwkYaX6IK8EFmbHYFAi2Lton",
					'userid': this.userid,
					'touserid': userid,
					'unnamedvariable': this.unnamedvariable
				}

				this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
			},
			getContactStatuses: async function(type)
			{
				var vObj = this;
				if(type == 'online')
				{
					this.onlinecontactsdata.forEach(async function(contact, index)
					{
						if(contact.isreguser)
						{
							vObj.getUser(contact.chatid);
						}
					});
				}
				else if(type == 'all')
				{
					var query = `query MYSChat(
						$action: String!,
						$userid: String!,
						$unnamedvariable: String!,
					)
					{
						myschat(
							action: $action,
							userid: $userid,
							unnamedvariable: $unnamedvariable,
						)
						{
							result
						}
					}`;

					var queryvariables =
					{
						'action': "U2FsdGVkX184Bh62aqxxE14S6dvVmacxU4aWmbtv8GiFoGzeyYCzqco6VsEmMVDPB5IUMfcaWhxRiptjVqrZXg==",
						'userid': this.userid,
						'unnamedvariable': this.unnamedvariable,
					}

					this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
				}
				else if(type == 'archived')
				{
					this.blockedusers.forEach(async function(contact, index)
					{
						vObj.getUser(contact.userid);
					});
				}
			},
			blockContact: function(contact)
			{
				if(contact.banned)
				{
					var message = 'Are you sure you want to block ' + contact.username + '? They will not be able to send you messages if you proceed.';
				}
				else
				{
					var message = 'Are you sure you want to unblock ' + contact.username + '? This will allow them to contact you.';
				}

				if(confirm(message))
				{
					var query = `query MYSChat(
						$action: String!,
						$unnamedvariable: String!,
						$removingfromuserid: String!,
						$removeduserid: String!,
						$userid: String!,
						$banned: String!
					)
					{
						myschat(
							action: $action,
							unnamedvariable: $unnamedvariable,
							removingfromuserid: $removingfromuserid,
							removeduserid: $removeduserid,
							userid: $userid,
							banned: $banned
						)
						{
							result
						}
					}`;

					var queryvariables =
					{
						'action': "U2FsdGVkX1+9aJ6YjNbhQa7bdDwSjUY2WI/+Jswg4KdW12xsTZUft9nzQXkoC7m2",
						'unnamedvariable': this.unnamedvariable,
						'removingfromuserid': this.userid,
						'removeduserid': contact.userid,
						'userid': this.userid,
						'banned': contact.banned.toString()
					}

					this.sendGraphQLPOSTCall(query, JSON.stringify(queryvariables));
				}
				else
				{
					alert('Action averted.');
				}

				/*
					Block user lambda function name encrypted:

				*/
			},
			array_move: function(arr, old_index, new_index)
			{
			    if (new_index >= arr.length)
			    {
			        var k = new_index - arr.length + 1;
			        while (k--)
			        {
			            arr.push(undefined);
			        }
			    }
			    arr.splice(new_index, 0, arr.splice(old_index, 1)[0]);
			}
		}
	}
</script> 

	
	<script type="text/x-template" id="messagetemplate">
		<div :class="'o-chat_message_bubble  ' + messageclass">
			
			
			<div class="o-chat_message_bubble_inner">
				<div class="o-chat_text_wrapper">
					<div class="o-chat_name_wrapper">
						<div class="o-chat_name dn">{{username}}</div>
						
						<div class="o-chat_timestamp">{{messagetime}}</div>
					</div>
					<img v-if="isimage" :src="readablemessage" alt="" role="presentation" />
					<div v-else-if="islink" class="o-chat_description" v-html="readablemessage"></div>
					<div v-else class="o-chat_description" v-html="readablemessage"></div>
				</div>
			</div>
		</div>
	</script>


<script type="text/javascript">
	var Message = Vue.component('message',
	{
		data: function()
		{
			return {
				compincludepath: "includes/vue/chat/message.cfm",
				islink: false,
				isimage: false,
				httpregex: /(\b(https?|ftp):\/\/([a-zA-Z0-9.-]+(?:\/[a-zA-Z0-9.%:_()+=-]*)*(?:\?[a-zA-Z0-9.%:_+&/()=-]*)?(?:#[a-zA-Z0-9.%:()_+=-]*)?))/g,
				nonhttpregex: /(\bwww\.([a-zA-Z0-9.-]+(?:\/[a-zA-Z0-9.%:_()+=-]*)*(?:\?[a-zA-Z0-9.%:_+&/()=-]*)?(?:#[a-zA-Z0-9.%:()_+=-]*)?))/g,
				imageregex: /\.jpg|\.gif|.png|.jpeg/g
			}
		},
		props: ["message","messagetime","lastread","username","messageclass"],
		template:"#messagetemplate",
		created: async function()
		{

		},
		watch: {},
		methods:
		{

		},
		computed:
		{
			readabledate: function()
			{
				return new Date(this.messagetime);
			},
			readablemessage: function()
			{
				var newmessage = this.message.toString().trim();

				if(newmessage.search(this.httpregex) == 0 && newmessage.slice(-4).search(this.imageregex) == 0)
				{
					this.isimage = true;
				}
				else if(newmessage.search(this.nonhttpregex) == 0 && newmessage.slice(-4).search(this.imageregex) == 0)
				{
					this.isimage = true;
					newmessage = 'http://' + this.message;
				}
				else if(newmessage.search(this.httpregex) >= 0)
				{
					this.islink = true;
					newmessage = newmessage.replace(this.httpregex, '<a target="_blank" href="$1">$1</a>');
				}
				else if(newmessage.search(this.nonhttpregex) >= 0)
				{
					this.islink = true;
					newmessage = newmessage.replace(this.nonhttpregex, '<a target="_blank" href="http://$1">$1</a>');
				}

				return newmessage;
			}
		}
	});
</script>


		
		<script type="text/x-template" id="loading-results-template"> <div>{{content.loadingText}}.</div></script>
	

	<script>
		var LoadingDisplay = Vue.component('loading-display', {
			data: function(){
				return {
					compincludepath: "includes/vue/generic/loading-display.cfm"
				}
			},
			props: [],
		  	template:"#loading-results-template",
		  	methods: { },
	  	  	computed:{
	  	  		content: function(){
	  	  			return  {
	  					loadingText: this.displaycontent(this.compincludepath, 'loadingText')
	  				};
	  	  		}
	  	  	}
		});
	</script>

		<script>
			
			var dynamicContentMixin = {
				data: function(){
					return {
						templateRender: null
					}
				},
				methods: {
					renderDynamicContent: function(text){
						var returnText = "";

						text = (text) ? text : "";

						if (text != ""){
							
							var test = Vue.compile("<span>" + text + "</span>");
							this.templateRender = test.render;

							if (this.templateRender){
								var vnode = this.templateRender();	

								
								if ("tag" in vnode && vnode.tag == "span" && "children" in vnode && vnode.children && vnode.children.length == 1) {
									if ("text" in vnode.children[0]){
										returnText = vnode.children[0].text;
									}

								}
							}
							this.templateRender = null;
						}
						return returnText;
					}
				}
			};
		</script>
	

	
	<script type="text/x-template" id="chatboxtemplate">
		<div class="l-chat_box_wrapper">
			<div class="l-chat_mymessages_header o-chat_message_bubble" v-if="!sidechat">
				<div class="o-chat_message_bubble_inner">
					<div class="flex items-center mb2">
						<div class="o-chat_status_color"></div>
						<div class="o-chat_avatar_wrapper">
							<contact-image
								:key="talkingtouserid"
								:large="true"
								v-bind:username="talkingtousername"
								v-bind:userimage="talkingtouserimage">
							</contact-image>
						</div>

						<div class="o-chat_text_wrapper">
							<div class="o-chat_name_wrapper">
								<div class="o-chat_name">{{talkingtousername}}</div>
							</div>

							<div class="o-chat_job_wrapper">
								<span class="o-chat_job_title" v-if="talkingtousertitle.length > 0">{{talkingtousertitle}}</span>
								<span v-if="talkingtousertitle.length > 0 && talkingtousercompany.length > 0"> at </span>
								<span class="o-chat_company" v-if="talkingtousercompany.length > 0">
									{{talkingtousercompany}}
								</span>
							</div>
						</div>
					</div>

					<div class="mb2" v-if="talkingtouserid != userid">
						
						<button class="o-chat_action_button btn-tertiary" @click="blockContact()" v-if="!blocked">
							<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm9 12c0 1.94-.624 3.735-1.672 5.207l-12.535-12.535c1.472-1.048 3.267-1.672 5.207-1.672 4.962 0 9 4.038 9 9zm-18 0c0-1.94.624-3.735 1.672-5.207l12.534 12.534c-1.471 1.049-3.266 1.673-5.206 1.673-4.962 0-9-4.038-9-9z"/></svg>
							{{content.blockcontacttext}}
						</button>

						<button class="o-chat_action_button btn-tertiary" @click="blockContact()" v-else>
							{{content.unblockcontacttext}}
						</button>

						
						
					</div>
				</div>
			</div>

			<div v-if="loadingmessages" id="messagecontainer" class="o-chat_conversation_wrapper">
				<loading-display ></loading-display>
			</div>

			<div v-else id="messagecontainer" class="o-chat_conversation_wrapper">
				<div class="o-chat_conversation_empty_text" v-if="messagelist.length == 0">
					<p>{{content.addmessagestext}}</p>
				</div>

				<a v-if="showloadmoremessages" class="btn-primary o-chat_loadmore_button" style="float: right;" @click="loadOlderMessages()">{{content.loadmoremessagestext}}</a>

				<message v-for="(message, index) in messagelist"
					:key="index"
					:message="message.message"
					:messagetime="message.messagetime"
					:username="message.username"
					:userimage="message.userimage"
					:messageclass="message.msgclass"
					:lastread="message.lastread"
				></message>
			</div>

			<div class="o-chat_reply_wrapper" v-if="allownewmessages">
				<div class="o-chat_textarea_wrapper">
					<label for="chat-textrea" class="is-visually-hidden">{{content.yourmessagetext}}</label>
					<textarea id="chat-textrea" class="o-chat_textarea" v-model="newmessage" :style="newmessage.length > 1000 ? 'border: 2px solid #DA2215;' : ''" :placeholder="messagelist.length == 0 ? content.start : content.reply" @keydown.enter.exact.prevent @keyup.enter.exact="sendMessage()" @keydown.enter.shift.exact="newline()"></textarea>
				</div>
				
				
				<div class="o-chat_send_wrapper" v-if="newmessage.length < 1001">
					<button class="o-chat_action_button  btn-primary" @click="sendMessage()" aria-label="Send a Message">{{content.sendmessagetext}}</button>
				</div>
				<div class="o-chat_character_count_error" v-else>
					<span>{{content.characterlimittext}}</span>
				</div>
			</div>
		</div>
	</script>


<script type="text/javascript">
	Vue.component('chat-box',
	{
		data: function()
		{
			return {
				compincludepath: "includes/vue/chat/chat-box.cfm",
				newmessage: '',
				loadingoldermessages: false,
				scrolltobottom: false
			}
		},
		mixins: [dynamicContentMixin],
		props:
		{
			messagelist:
			{
				Type: Array,
				default: function(){ return [] }
			},
			talkingtouserid:
			{
				Type: String,
				default: ""
			},
			userid:
			{
				Type: String,
				default: ""
			},
			talkingtousername:
			{
				Type: String,
				default: ""
			},
			talkingtouserimage:
			{
				Type: String,
				default: ""
			},
			talkingtousercompany:
			{
				Type: String,
				default: ""
			},
			talkingtousertitle:
			{
				Type: String,
				default: ""
			},
			talkingtouserstatus:
			{
				Type: String,
				default: "Offline"
			},
			showloadmoremessages:
			{
				Type: Boolean,
				default: false
			},
			sidechat:
			{
				Type: Boolean,
				default: false
			},
			allownewmessages:
			{
				Type: Boolean,
				default: true
			},
			blocked:
			{
				Type: Boolean,
				default: false
			},
			loadingmessages:
			{
				Type: Boolean,
				default: false
			}
		},
		template:"#chatboxtemplate",
		mounted: async function()
		{
			this.scrollToBottomOfMessages();
		},
		computed:
		{
			charactersleft: function(){
				return 1000 - this.newmessage.length;
			},
	  		content: function()
	  		{
	  			return  {
					addmessagestext: this.renderDynamicContent(this.displaycontent(this.compincludepath, 'addmessagestext')),
					charactercounttext: this.renderDynamicContent(this.displaycontent(this.compincludepath, 'charactercounttext')),
					sendmessagetext: this.displaycontent(this.compincludepath, 'sendmessagetext'),
					characterlimittext: this.displaycontent(this.compincludepath, 'characterlimittext'),
					userofflinetext: this.displaycontent(this.compincludepath, 'userofflinetext'),
					loadmoremessagestext: this.displaycontent(this.compincludepath, 'loadmoremessagestext'),
					blockcontacttext: this.displaycontent(this.compincludepath, 'blockcontacttext'),
					unblockcontacttext: this.displaycontent(this.compincludepath, 'unblockcontacttext'),
					reply: this.displaycontent(this.compincludepath, 'reply'),
					start: this.displaycontent(this.compincludepath, 'start'),
					yourmessagetext: 'Your Message' // this.displaycontent(this.compincludepath, 'yourmessagetext')
				}
	  		}
		},
		updated: function()
		{
			if(this.scrolltobottom && !this.loadingoldermessages)
			{
				this.scrollToBottomOfMessages();
			}
			else if(this.loadingoldermessages)
			{
				this.loadingoldermessages = false;
			}

			this.scrolltobottom = false;
		},
		watch:
		{
			messagelist: function()
			{
				this.scrolltobottom = true;
			}
		},
		methods:
		{
			newline: function()
			{
				this.newmessage = `${this.newmessage}\n`;
			},
			blockContact: function()
			{
				this.$emit('block-contact', {'userid': this.talkingtouserid, 'username': this.talkingtousername, 'banned': !this.blocked});
			},
			loadOlderMessages: function()
			{
				this.$emit('load-messages');
				this.loadingoldermessages = true;
			},
			sendMessage: function()
			{
				if(this.newmessage.length < 1001)
				{
					this.$emit('send-message', this.newmessage);
					this.newmessage = '';
				}
			},
			scrollToBottomOfMessages: function()
			{
				var container = this.$el.querySelector("#messagecontainer");
				container.scrollTop = container.scrollHeight;
			}
		}
	});
</script>


		
		<script type="text/x-template" id="backToTopButtonTemplate"> <a href="#" class="btn-primarybtn-back_to_topcenterfixedbottom-2right-2animated" v-bind:class="[backToTopButtonShowing ? 'slideInRight': 'slideOutRight']" v-scroll-to=scrollto>&uarr; {{content.backToTopText}}</a></script>
	

	<script>
		var BackToTopButton = Vue.component("backtotop-button", {
		  	template:"#backToTopButtonTemplate",
			props: {
				scrollto: {
					default: "#nav",
					type: String
				}
			},
		  	data: function(){
		  		return {
		  			compincludepath: "includes/vue/generic/backtotop-button.cfm",
		  			backToTopButtonShowing: false
		  		}
		  	},
	  	  	computed:{
	  	  		content: function(){
	  	  			return  {
	  					backToTopText: this.displaycontent(this.compincludepath, 'backToTopText'),
	  				};
	  	  		}
	  	  	},
			methods: {
				toggleBackToTopButton: function(){
					var	viewport = window.innerHeight,
						offset = window.pageYOffset;

					if (offset > viewport) {
						this.backToTopButtonShowing = true;
					} else {
						this.backToTopButtonShowing = false;
					}
				}
			}
		});
	</script>


		
		<script type="text/x-template" id="myshow-add-onsitephotos-form-template">
			<section class="" id="myshow-add-onsitephotos-form">
				
					<div class="mb4">
						<label class="mys-optional  db  b  mb2"  v-if="!editMode">
							{{content.selectExhibitorHeader}}:
						</label>
						<span v-if="!editMode">
							
								<select name="sectionkey" id="exhibitor" class="jq-chosen  fm-Select  w-50-l  w-100"
									v-model="selectedexhid">
									<option value="">{{content.selectExhibitorFirstOption}}</option>
									<option v-for="(exhibitor,index) in exhibitordata.exhibitors" v-bind:value="exhibitor.exhid">
										{{exhibitor.exhname}}
									</option>
								</select>
								
							
						</span>
						<span class="b" v-if="editMode">
							{{exhname}}
							<input type="hidden" name="sectionkey" v-model="exhid" />
						</span>
					</div>

					<div class="mb4">
						<label class="mys-required  db  b  mb2" v-if="!editMode">
							{{content.uploadPhotoHeader}}:
						</label>
						<input id="file" type="file" required accept='image/*' @change="processFile($event)" v-if="!editMode" />
						<v-lazy-image
							v-if="editMode"
							v-bind:src="imgurlthumb"
						/>
					</div>

					<div class="mb4">
						<label class="mys-optional  db  b  mb2">
							<span v-if="!editMode">{{content.addNotesHeader}}: </span>
							<span v-if="editMode">{{content.notesHeader}}: </span>
						</label>
						<textarea class="w-100" name="notes" id="notes" rows="10" v-model="editnotes" style="height: 150px" maxlength="255"></textarea>
					</div>
					<div class="o-PageDivider  mt1  mb3"></div>
					
					
					<button type="button" class="btn-primary" value="Submit" v-on:click="submitFile()">
						<span v-if="editMode">{{content.saveMyChangesHeader}}</span>
						<span v-if="!editMode">{{content.uploadMyPhotoHeader}}</span>
					</button>
			</section>
		</script>
	

	<script>
		var MyShowAddOnsitePhotosDisplay = Vue.component('myshow-add-onsitephotos-form', {
			data: function(){
				return {
					compincludepath: "includes/vue/myshow/myshow-add-onsitephotos-form.cfm",
					file: '',
					editnotes: this.notes,
					selectedexhid: this.exhid,
					exhibitordata:{}
				}
			},
			props: {
				exhid: {
					type: String,
					default: ""
				},
				exhname:{
					type:String,
					default: ""
				},
				imagename: {
					type: String,
					default: ""
				},
				imgurl: {
					type: String,
					default: ""
				},
				imgurlthumb: {
					type: String,
					default: ""
				},
				imgurlthumb2x: {
					type: String,
					default: ""
				},
				notes: {
					type:String,
					default:""
				}
			},
			computed: {
				content: function(){
					return {
						selectExhibitorHeader: this.displaycontent(this.compincludepath, 'selectExhibitorHeader'),
						selectExhibitorFirstOption: this.displaycontent(this.compincludepath, 'selectExhibitorFirstOption'),
						uploadPhotoHeader: this.displaycontent(this.compincludepath, 'uploadPhotoHeader'),
						addNotesHeader: this.displaycontent(this.compincludepath, 'addNotesHeader'),
						notesHeader: this.displaycontent(this.compincludepath, 'notesHeader'),
						saveMyChangesHeader: this.displaycontent(this.compincludepath, 'saveMyChangesHeader'),
						uploadMyPhotoHeader: this.displaycontent(this.compincludepath, 'uploadMyPhotoHeader'),
						submitButton: this.displaycontent(this.compincludepath, 'submitButton'),
						cancelButton: this.displaycontent(this.compincludepath, 'cancelButton')
					};
				},
				editMode: function(){
					return !(!this.imagename);
				}
			},
			created: function(){
				var vObj = this;

				vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=GetMyShowExhibitors&startrow=&length=',
					function(response){
						vObj.exhibitordata = response.DATA;
					});
			},
			methods: {
				submitFile: function(){
					this.$emit("add-photo-submit", {
						imagename: this.imagename,
						notes: this.editnotes,
						file: this.file,
						exhid: (this.selectedexhid) ? this.selectedexhid : this.exhid
					});

				},
				processFile: function(e){
				    this.file = e.target.files[0];
				}
			},
			template:"#myshow-add-onsitephotos-form-template"
		});
	</script>


		
		<script type="text/x-template" id="myshow-email-exhibitor-form-template">
			<section id="myshow-email-exhibitor-form">
					<div class="mb4">
						<label class="mys-required  db  b  mb2">
							{{content.emailText}}:
						</label>
						<input class="fm-Input    w-100" v-bind:value="regemail" readonly maxLength="255">
						<input type="hidden" name="email" />
					</div>


					<div class="mb4">
						<label class="mys-optional  db  b  mb2">
							{{content.phoneText}}:
						</label>
						<input class="fm-Input  mw5  w-100" type="phone" name="phone" maxLength="255" v-model="phone">
					</div>

					<div class="mb4">
						<label class="mys-required  db  b  mb2">
							{{content.messageText}}:
						</label>
						<textarea class="w-100" name="message" id="message" maxlength="4000" @focus="showCounter()" @blur="hideCounter()" rows="10" v-model="editmessage" required style="height: 150px"></textarea>
					</div>

					<div class="counter" :class="[isFocused ? '' : 'is-visually-hidden']">
						<p> {{ editmessage.length }}/4000</p>
					</div>

					<div class="o-PageDivider  mt1  mb3"></div>
					<input class="btn-primary" type="button" v-bind:value="content.sendEmailText" v-on:click="submitForm()" />
					<br /><br />
					<label id="MessageAlert" v-if="displayError">
						<font color="red">
							{{content.errorMessage}}
						</font>
					</label>
					<label id="MessageAlertLength" v-if="displayErrorLength">
						<font color="red">
							{{content.errorMessageLength}}
						</font>
					</label>
			</section>
		</script>
	

	<script>
		var MyShowEmailExhibitorFormDisplay = Vue.component('myshow-email-exhibitor-form', {
			data: function(){
				return {
					compincludepath: "includes/vue/myshow/myshow-email-exhibitor-form.cfm",
					file: '',
					editmessage: this.message,
					selectedexhid: this.exhid,
					phone: '',
					displayError: false,
					displayErrorLength: false,
					isFocused: false
				}
			},
			template:"#myshow-email-exhibitor-form-template",
			props: {
				exhid: {
					type: String,
					default: ""
				},
				exhname:{
					type:String,
					default: ""
				},
				message: {
					type:String,
					default:""
				}
			},
			computed: {
				content: function(){
					return {
						emailText: this.displaycontent(this.compincludepath, 'emailText'),
						phoneText: this.displaycontent(this.compincludepath, 'phoneText'),
						messageText: this.displaycontent(this.compincludepath, 'messageText'),
						sendEmailText: this.displaycontent(this.compincludepath, 'sendEmailText'),
						errorMessage: this.displaycontent(this.compincludepath, 'errorMessage'),
						errorMessageLength: this.displaycontent(this.compincludepath, 'errorMessageLength')
					};
				}
			},
			methods: {
				showCounter: function() {
      				this.isFocused = true;
    			},
    			hideCounter: function() {
      				this.isFocused = false;
    			},
				submitForm: function(){

					if (!this.editmessage.trim()) {
						this.displayErrorLength = false;
						this.displayError = true;
					} else if (this.editmessage.length > 4000) {
						this.displayError = false;
						this.displayErrorLength = true;
					} else {
						this.$emit("email-exhibitor-submit", {
							phone: this.phone,
							email: this.regemail,
							message: this.editmessage,
							exhid: (this.selectedexhid) ? this.selectedexhid : this.exhid
						});
					}
				}
			}

		});
	</script>


		
		<script type="text/x-template" id="myshow-email-online-contact-form-template">
			<section id="myshow-email-online-contact-form">
					<div class="mb4">
						<label class="mys-required  db  b  mb2">
							{{content.emailText}}:
						</label>
						<input class="fm-Input    w-100" v-bind:value="regemail" readonly>
						<input type="hidden" name="email" />
					</div>


					<div class="mb4">
						<label class="mys-optional  db  b  mb2">
							{{content.phoneText}}:
						</label>
						<input class="fm-Input  mw5  w-100" type="phone" name="phone" maxLength="255" v-model="phone">
					</div>

					<div class="mb4">
						<label class="mys-required  db  b  mb2">
							{{content.messageText}}:
						</label>
						<textarea class="w-100" name="message" id="message" rows="10" v-model="editmessage" maxlength="4000" @focus="showCounter()" @blur="hideCounter()" required style="height: 150px"></textarea>
					</div>

					<div class="counter" :class="[isFocused ? '' : 'is-visually-hidden']">
						<p> {{ editmessage.length }}/4000</p>
					</div>

					<div class="o-PageDivider  mt1  mb3"></div>
					<input class="btn-primary" type="button" v-bind:value="content.sendEmailText" v-on:click="submitForm()" />
					<br /><br />
					<label id="MessageAlert" v-if="displayError">
						<font color="red">
							{{content.errorMessage}}
						</font>
					</label>
					<label id="MessageAlertLength" v-if="displayErrorLength">
						<font color="red">
							{{content.errorMessageLength}}
						</font>
					</label>
			</section>
		</script>
	

	<script>
		var MyShowEmailOnlineContactFormDisplay = Vue.component('myshow-email-online-contact-form', {
			data: function()
			{
				return {
					compincludepath: "includes/vue/myshow/myshow-email-online-contact-form.cfm",
					file: '',
					editmessage: this.message,
					phone: '',
					displayError: false,
					displayErrorLength: false,
					submitted: false,
					isFocused: false
				}
			},
			template:"#myshow-email-online-contact-form-template",
			props: {
				contactid:
				{
					type: Number,
					default: ""
				},
				fullname:
				{
					type:String,
					default: ""
				},
				email:
				{
					type:String,
					default: ""
				},
				message:
				{
					type:String,
					default:""
				}
			},
			computed: {
				content: function()
				{
					return {
						emailText: this.displaycontent(this.compincludepath, 'emailText'),
						phoneText: this.displaycontent(this.compincludepath, 'phoneText'),
						messageText: this.displaycontent(this.compincludepath, 'messageText'),
						sendEmailText: this.displaycontent(this.compincludepath, 'sendEmailText'),
						errorMessage: this.displaycontent(this.compincludepath, 'errorMessage'),
						errorMessageLength: this.displaycontent(this.compincludepath, 'errorMessageLength')
					};
				}
			},
			methods: {
				showCounter: function() {
      				this.isFocused = true;
    			},
    			hideCounter: function() {
      				this.isFocused = false;
    			},
				submitForm: function()
				{
					if (!this.editmessage.trim()) {
						this.displayErrorLength = false;
						this.displayError = true;
					} else if (this.editmessage.length > 4000) {
						this.displayError = false;
						this.displayErrorLength = true;
					} else if(!this.submitted) {
						this.submitted = true;
						this.$emit("email-online-contact-submit",
						{
							phone: this.phone,
							email: this.regemail,
							message: this.editmessage,
							contactid: this.contactid
						});
					}
				}
			}

		});
	</script>


		
		<script type="text/x-template" id="myshow-add-appointments-form_v2-template">
			<section class="" id="myshow-add-appointments-form_v2">
				<div class="mb3">
					<span class="mys-required  i">
						<span class="o-Highlight"> *</span> {{content.requiredText}}
					</span>
				</div>
				<message-display
					v-bind:messages="messages"
					v-bind:type="messagetype"
					v-bind:showmessage="showmessage"
					:timeout="20">
				</message-display>
				<div class="mb4">
					<div class="b  mb2">
						{{content.locationHeader}} <span class="o-Highlight">*</span>
					</div>
					<div v-if="availableLocations.length == 1">{{getLocationDisplay(availableLocations[0].location, availableLocations[0].locationtype)}}</div>
					<template v-if="availableLocations.length > 1" v-for="location in availableLocations">
						<label :for="location.location" class="fm-Control  fm-Radio  ml3  mb2">{{getLocationDisplay(location.location, location.locationtype)}}
							<input type="radio" :id="location.location" name="location" :value="location.location" v-model="selectedLocation" @change="clearSelection('location')">
							<div class="fm-Control_Indicator"></div>
						</label>
					</template>
				</div>

				<div v-if="(selectedLocation+'').length > 0" class="mb4">
					<div class="b  mb2">
						{{content.dateHeaderText}} <span class="o-Highlight">*</span>
					</div>
					<div v-if="availableDates.length == 1">{{availableDates[0].datedisplay}}</div>
					<template v-if="availableDates.length > 1" v-for="date in availableDates">
						<label :for="date.date" class="fm-Control  fm-Radio  ml3  mb2">{{date.datedisplay}}
							<input type="radio" :id="date.date" name="date.date" :value="date.date" v-model="selectedDate" @change="clearSelection('date')">
							<div class="fm-Control_Indicator"></div>
						</label>
					</template>
				</div>

				<div v-if="selectedDate.length > 0 && (selectedLocation+'').length > 0" class="mb4">
					<div class="b  mb1">
						{{content.timeHeaderText}} <span class="o-Highlight">*</span>
					</div>
					<span v-if="showtimezone" class="i muted f6 db mb2">{{dynamiccontent.timeZoneInfo}}</span>
					<div v-if="availableTimes.length == 1">{{availableTimes[0].starttimedisplay}} - {{availableTimes[0].endtimedisplay}}</div>
					<select v-if="availableTimes.length > 1" v-model="selectedTime" class="fm-Select  w-50-l  w-100">
						<option value="" disabled selected>{{content.timeHeaderText}}</option>
						<option v-for="time in availableTimes" :value="time.starttime+'|'+time.endtime">{{time.starttimedisplay}} - {{time.endtimedisplay}}</option>
					</select>
				</div>

				<div v-if="selectedDate.length > 0 && (selectedLocation+'').length > 0 && selectedTime.length > 0" class="mb4">
					<label class="db  b  mb1">
						{{content.noteHeader}}
					</label>
					<span class="i muted f6 db mb2">{{content.noteInfoText}}</span>
					<textarea class="w-100 fm-Textarea" name="meetingDetails" id="meetingDetails" v-model="meetingDetails" :placeholder="dynamiccontent.textPlaceholder" rows="10" maxlength="2000"></textarea>
					<span class="i muted f6 db mb2">{{meetingDetailscount}} / 2000</span>
				</div>

				<div class="o-PageDivider  mt1  mb3"></div>
				<input type="button" class="btn-primary" v-bind:value="content.submitButton" v-on:click="submitAppointment()" />
			</section>
		</script>
	

	<script>
		var MyShowAddappointmentsDisplay = Vue.component('myshow-add-appointments-form_v2', {
			data: function() {
				return {
					compincludepath: "includes/vue/myshow/myshow-add-appointments-form_v2.cfm"
					, availableDates: []
					, availableTimes: []
					, selectedLocation : ''
					, selectedDate: ''
					, selectedTime: ''
					, meetingDetails: ''
					, showtimezone: Vue.MYS.settingsConfig.timesettings.showtimezone
					, timezonelabel: Vue.MYS.settingsConfig.timesettings.timezonelabel
					, appointmentdata: []
				}
			},
			mixins: [messagedisplayMixin, dynamicContentMixin],		// messagedisplayMixin is declared in  \includes\vue\generic\message-display.cfm
			props: {
				exhid: {
					type: String,
					default: ""
				},
				exhname: {
					type: String,
					default: ""
				}
			},
			created: function() {
				if (this.appointmentdata.length == 0) {
					this.getAppointmentData();
				} else {
					this.getAvailableDates();
					this.getAvailableTimes();
				}
			},
			computed: {
		  		content: function() {
		  			return this.getContentObject(this.compincludepath);
		  		},
				dynamiccontent: function() {
					return {
						timeZoneInfo: this.renderDynamicContent(this.displaycontent(this.compincludepath, 'timeZoneInfo')),
						textPlaceholder: this.renderDynamicContent(this.displaycontent(this.compincludepath, 'textPlaceholder'))
					};
				},
				meetingDetailscount: function(){
					var text = this.meetingDetails;

					return text.length;
				},
				availableLocations: function() {
					var distinctLocations = [];
					if (this.appointmentdata.length > 0) {
						for (date of this.appointmentdata) {
							var match = distinctLocations.filter(function(e) {
								return (date.location == e.location);
							});
							if (match.length == 0) {
								distinctLocations.push({location: date.location, locationtype: date.locationtype});
							}
						}
						if (distinctLocations.length == 1) {
							this.selectedLocation = distinctLocations[0].location;
							this.getAvailableDates();
						}
					}
					return distinctLocations;
				}
			},
			methods: {
				getAppointmentData: function(){
					var vObj = this;

					vObj.loading = true;
					vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=GetAppointmentData&ExhID='+vObj.exhid,	// ajaxGet() defined in _global-mixin
						function(response){		// success
							vObj.searching = false;
							vObj.loading = false;
							vObj.appointmentdata = [];
							for (var i = 0; i < response["DATA"]["appointmentdata"].length; i++) {
								if (vObj.isFutureDate(response["DATA"]["appointmentdata"][i].endtime)) {
									vObj.appointmentdata.push(response["DATA"]["appointmentdata"][i]);
								}
							}
							vObj.getAvailableDates();
							vObj.getAvailableTimes();
						},
						function(response){ 	// error
							vObj.searching = false;
							vObj.loading = false;
							vObj.showMessage("error", "Error getting scheduled appointment time slots");
						});		// end ajaxGet
				},
				getLocationDisplay: function(location, locationType) {
					if (location == "virtual") {
						return this.content.virtualLocationText;
					} else if (locationType == 'booth') {
						return this.content.booth_label + ' ' + location;
					} else {
						return location;
					}
				},
				getAvailableDates: function() {
					var distinctDates = [];
					for (date of this.appointmentdata) {
						if (this.selectedLocation == date.location && distinctDates.filter(function(e) { return (e.date == date.appdate); }).length == 0) {
							distinctDates.push({'date': date.appdate, 'datedisplay': date.datedisplay});
						}
					}
					if (distinctDates.length == 1) {
						this.selectedDate = distinctDates[0].date;
						this.getAvailableTimes();
					}
					this.availableDates = distinctDates;
				},
				getAvailableTimes: function() {
					var distinctTimes = [];
					for (date of this.appointmentdata) {
						if (this.selectedLocation == date.location && this.selectedDate == date.appdate && distinctTimes.filter(function(e) { return (e.starttime == date.starttime && e.endtime == date.endtime); }).length == 0) {
							// formatSessionTime located in global-mixin
							var formattedStartTime = this.formatSessionTime(new Date(date.starttime));
							var formattedEndTime = this.formatSessionTime(new Date(date.endtime));
							distinctTimes.push({
								starttime: date.starttime,
								starttimedisplay: formattedStartTime,
								endtime: date.endtime,
								endtimedisplay: formattedEndTime
							});
						}
					}
					if (distinctTimes.length == 1) {
						this.selectedTime = distinctTimes[0].starttime+'|'+distinctTimes[0].endtime;
					}
					this.availableTimes = distinctTimes;
				},
				clearSelection: function(question) {
					if (question == 'location') {
						this.selectedDate = "";
						this.selectedTime = "";
						this.getAvailableDates();
						this.getAvailableTimes();
					} else if (question == 'date') {
						this.selectedTime = "";
						this.getAvailableTimes();
					}
				},
				submitAppointment: function() {
					if ((this.selectedLocation+'').length == 0 || this.selectedDate.length == 0 || this.selectedTime.length == 0) {
						this.showMessage("error", "You must answer the required questions");
					} else {
						this.$emit("add-appointment-submit", {
							date: this.selectedDate,
							time: this.selectedTime,
							location: this.selectedLocation,
							meetingdetails: this.meetingDetails,
							exhid: this.exhid
						});
					}
				},
				isFutureDate: function(apptTime) {
					var apptTime = new Date(apptTime);
					var timediff = Vue.MYS.compareToShowDate(apptTime);
					return (timediff <= 0 ? true : false);
				}
			},
			template:"#myshow-add-appointments-form_v2-template"
		});
	</script>

		
		<link rel="stylesheet" type="text/css" href="/8_0/assets/css/exh-details-v3.css?myscache=20250515A">
	
<script>
	var exhdetailsemailexhibitormixin = {
		data: function() {
			return {
				shouldshowsendemail: true,
				showemailexhibitor: false,
				loggedin: false
			}
		},
		methods: {
	        openEmailExhibitorModal: function()
			{
				if(!this.loggedin)
				{
					var vObj = this,
					return_to = encodeURIComponent(vObj.getCurrentURL());

					vObj.loading = true;
					vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=AddExhibitor&keys=321755&return_to=' + return_to,	// ajaxGet() defined in _global-mixin
						function(response)
						{
							// success
							vObj.addedtoplanner = true;
						},
						function(response)
						{
							// error
							vObj.loading = false;
							if ("ERRORCODE" in response && response.ERRORCODE == "12345")
							{
								location.href = vObj.path2approot + '/login/login.cfm';
							}
							else
							{
								vObj.showMessage("error", "Error favoriting item");
							}
						}
					);		// end ajaxGet
				}
				else
				{
					this.showemailexhibitor = true;
				}
	        },
	        closeEmailExhibitor: function(sObj) {
	        	this.showemailexhibitor = false;
	        	this.emailexhibitorexhid = "";
	        },
	        emailExhibitor: function(sObj) {
	        	var formData = new FormData();
	        	var vObj = this;

	        	formData.append("message", sObj.message);
	        	formData.append("exhid", sObj.exhid);
	        	formData.append("phone", sObj.phone);
	        	formData.append("email", sObj.email);

	        	vObj.loading = true;
	        	var return_to = encodeURIComponent(vObj.getCurrentURL());
	        	vObj.ajaxPost(vObj.path2approot + '/myshow/myshow-actions.cfm?action=EmailExhibitor', formData, 	// ajaxPost() defined in _global-mixin
	        		function(response){		// success
	        			vObj.loading = false;
	        			vObj.showMessage("success", "Email successfully sent");
	        			vObj.closeEmailExhibitor();
	        		},
	        		function(response){ 	// error
	        			vObj.loading = false;
	        			vObj.showMessage("error", "Error emailing exhbiitor");
	        			vObj.closeEmailExhibitor();
	        		});		// end ajaxPost

					vObj.ajaxGet(vObj.path2approot + '/myshow/myshow-actions.cfm?action=AddExhibitor&keys=321755&return_to=' + return_to,	// ajaxGet() defined in _global-mixin
						function(response)
						{
							// success
							vObj.addedtoplanner = true;
						},
						function(response)
						{
							// error
							vObj.loading = false;
							if ("ERRORCODE" in response && response.ERRORCODE == "12345")
							{
								location.href = vObj.path2approot + '/login/login.cfm';
							}
							else
							{
								vObj.showMessage("error", "Error favoriting item");
							}
						}
					);		// end ajaxGet
	        }
		}
	};
</script>


	<main id="exhdetails" class="exh-details-v3">
		<a id="showroomMobileCloseBtn" class="mys-nav-close mys-ico-close mys-ico-large" href="#"></a>

		
		
	<modal-display
		title="Email Wizzie&#x27;s Tea, LLC"
		v-bind:showmodal="showemailexhibitor"
		v-on:close-modal="closeEmailExhibitor()"
		small>
		<myshow-email-exhibitor-form
			v-if="!loading"
			v-bind:exhid="exhid"
			v-bind:exhname="exhname"
			v-on:close-email-modal="closeEmailExhibitor()"
			v-on:email-exhibitor-submit="emailExhibitor($event)">
		</myshow-email-exhibitor-form>

		<div v-if="loading" v-cloak> Saving...</div>
	</modal-display>



		<div class="exhibitor-info_header">
			<div class="exhibitor-info-container">
				<div class="exhibitor-name-logo">
					
					<img id="jq-exh-logo" class="showroom-logo  mr5" alt="Wizzie&#x27;s&#x20;Tea,&#x20;LLC logo"
						src="/mys_shared/SFF2025/logos/321755.png"
						srcset="/mys_shared/SFF2025/logos/321755.png, /mys_shared/SFF2025/logos/321755@2x.png 2x"
						
						height="100"
						width="100"
						>
				
					<h1 class="exhibitor-name">Wizzie&#x27;s Tea, LLC</h1>
				</div>

				<div>
					<toggle-favorite
						:fullbuttondisplay="true"
						:type="'exhibitor'"
						:keys="exhid"
						:addedtoplanner="addedtoplanner"
						v-on:toggle-favorite="$emit('toggle-favorite', $event); handleAdd();"
						class="mr2">
					</toggle-favorite>
				</div>
			</div>
		</div>

		
		
		

		<div>
    		<a id="showroomMobilePreviewLink" class="mys-vert-align-middle mys-grey jq-Keyword-title mys-bold" href="#" data-hide-text='<span id="showroomMobilePreviewLinkIcon" class="mys-ico-expanded mys-vert-align-middle mys-link-color"></span> Hide Details' data-show-text='<span id="showroomMobilePreviewLinkIcon" class="mys-ico-actions mys-vert-align-middle mys-link-color"></span> More Details'><span id="showroomMobilePreviewLinkIcon" class="mys-ico-actions mys-vert-align-middle mys-link-color"></span> More Details</a>
		</div>

		<div class="mys-is-shown-md" id="showroomContentDiv">
			
			
			
			
				<section>
					

	
	<exh-showcase-modal
		:showmodal="exhibitorgalleryshown"
		:showcaseimages="thumbnails"
		:providedselectedindex="-1"
		v-on:close-modal-showcase="closeShowcaseModal()">
	</exh-showcase-modal>
	<article class="showcase--wrapper center">
		<showcase-gallery-v2
			:showcaseimages="thumbnails"
			v-bind:defaultselectedindex="-1"
			v-on:toggle-favorite="showFavoritedExhibitor()">
		</showcase-gallery-v2>
	</article>

				</section>
			

			<section class="section-wrapper-main_exhibitor center flow">
				
	<article class="section-wrapper-1_exhibitor section--boothlinks" id="js-vue-boothlinks">
		<h2 class="section-heading">Booths</h2>
		
						<div class="flex flex-column gap-4">
							

							<ul class="list__icons">
								<li class="f3">
									<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none">
										<title>Booth Locations</title>
										<path d="M13.934 13.8295C14.5447 13.8295 15.0669 13.612 15.5004 13.1771C15.9339 12.7422 16.1507 12.2194 16.1507 11.6086C16.1507 10.9978 15.9332 10.4757 15.4983 10.0421C15.0634 9.60861 14.5405 9.39184 13.9298 9.39184C13.319 9.39184 12.7969 9.6093 12.3633 10.0442C11.9298 10.4792 11.713 11.002 11.713 11.6128C11.713 12.2235 11.9305 12.7457 12.3654 13.1792C12.8004 13.6127 13.3232 13.8295 13.934 13.8295ZM13.9319 23.2172C16.3333 21.0676 18.1709 19.0057 19.4448 17.0315C20.7187 15.0574 21.3556 13.3283 21.3556 11.8444C21.3556 9.60662 20.6447 7.76702 19.2229 6.32554C17.8011 4.88406 16.0374 4.16332 13.9319 4.16332C11.8263 4.16332 10.0626 4.88406 8.64084 6.32554C7.21904 7.76702 6.50814 9.60662 6.50814 11.8444C6.50814 13.3283 7.14508 15.0574 8.41895 17.0315C9.69284 19.0057 11.5305 21.0676 13.9319 23.2172ZM13.9319 25.6673C10.8428 22.9905 8.52638 20.4994 6.98261 18.1941C5.43887 15.8887 4.66699 13.7721 4.66699 11.8444C4.66699 9.0118 5.58326 6.7186 7.41578 4.96475C9.24829 3.21091 11.4203 2.33398 13.9319 2.33398C16.4434 2.33398 18.6155 3.21091 20.448 4.96475C22.2805 6.7186 23.1967 9.0118 23.1967 11.8444C23.1967 13.7721 22.4249 15.8887 20.8811 18.1941C19.3374 20.4994 17.0209 22.9905 13.9319 25.6673Z" />
									</svg>
									
									<ul class="ma0">
										

											<li>
												
													<a data-booth="4301" data-exhid="321755" data-hallid="A" href="#" class="js-exhShowroomLink f4">
														<strong>Level 1 &mdash; 4301</strong>
													</a>
												
											</li>
										
									</ul>
								</li>
							</ul>
						</div>
					
	</article>

	<article class="section-wrapper-1_exhibitor section--description" id="js-vue-description">
		<h2 class="section-heading">About Wizzie&#x27;s Tea, LLC</h2>
		
				<company-description></company-description>
			
	</article>

	<article class="section-wrapper-1_exhibitor section--products" id="js-vue-products">
		<h2 class="section-heading">Product Categories</h2>
		
							<div class="section--list__columns-wrapper">
								<div class="section--list__columns">
									<ul class="o-List_Columns--grid">
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|264">Lifestyle Attributes > Dairy-Free</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|280">Lifestyle Attributes > Ethical</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|265">Lifestyle Attributes > Fair Trade</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|267">Lifestyle Attributes > Gluten-Free</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|270">Lifestyle Attributes > Lactose-Free</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|271">Lifestyle Attributes > Natural</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|281">Lifestyle Attributes > Non-GMO</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|272">Lifestyle Attributes > Nut-Free</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/263/show/cat-category|277">Lifestyle Attributes > Vegan</a>
											</li>
										
											<li class="o-List_Columns_Item">
												
												
												<a href="/8_0/#/searchtype/category/search/45/show/cat-category|258">Tea & Coffee RTD > Tea & Coffee RTD</a>
											</li>
										
									</ul>
								</div>
							</div>
						
	</article>

	<article class="section-wrapper-1_exhibitor section--contactinfo" id="js-vue-contactinfo">
		<h2 class="section-heading">Additional Information</h2>
		
				<contactinfov3
					v-on:open-email-modal="openEmailExhibitorModal()">
				</contactinfov3>
			
	</article>

				<article id="exhibitoricons" class="exhibitor-icon-wrapper section-wrapper-1_exhibitor">
					
							<div class="exhibitor-icon">
								<img
									src="https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjU2fX0sImJ1Y2tldCI6Im15cy1zaG93ZmlsZXMiLCJidXN0Y2FjaGUiOiJ0ZXN0Iiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L2V4aGljb25zL215cy1pY29uczI1X2ZpcnN0LXRpbWVyLTE2MDRmNWJjLWQzZWEtMTAxNi1mMTg2YzZhOGY2MDI2NTU1LnBuZyJ9"
									srcset="https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjU2fX0sImJ1Y2tldCI6Im15cy1zaG93ZmlsZXMiLCJidXN0Y2FjaGUiOiJ0ZXN0Iiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L2V4aGljb25zL215cy1pY29uczI1X2ZpcnN0LXRpbWVyLTE2MDRmNWJjLWQzZWEtMTAxNi1mMTg2YzZhOGY2MDI2NTU1LnBuZyJ9, https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjExMn19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwiYnVzdGNhY2hlIjoidGVzdCIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9leGhpY29ucy9teXMtaWNvbnMyNV9maXJzdC10aW1lci0xNjA0ZjViYy1kM2VhLTEwMTYtZjE4NmM2YThmNjAyNjU1NS5wbmcifQ== 2x"
									height="56"
									
									width="56"
									alt="First Time Exhibitor"
									title="First Time Exhibitor"
									onerror="this.onerror=null;this.src='/8_0/assets/imgs/1x1.gif';" />
								
									<p class="label">First Time Exhibitor</p>
								
							</div>

							
							<div class="exhibitor-icon">
								<img
									src="https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjU2fX0sImJ1Y2tldCI6Im15cy1zaG93ZmlsZXMiLCJidXN0Y2FjaGUiOiJ0ZXN0Iiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L2V4aGljb25zL215cy1pY29uczI1X25ldy1wcm9kdWN0LTE2MDZiYTUwLWJhOTUtNDUyYS0yZjE3MmY0ZTJmMGZhMGMxLnBuZyJ9"
									srcset="https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjU2fX0sImJ1Y2tldCI6Im15cy1zaG93ZmlsZXMiLCJidXN0Y2FjaGUiOiJ0ZXN0Iiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L2V4aGljb25zL215cy1pY29uczI1X25ldy1wcm9kdWN0LTE2MDZiYTUwLWJhOTUtNDUyYS0yZjE3MmY0ZTJmMGZhMGMxLnBuZyJ9, https://d3fv3oe83qat1b.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJoZWlnaHQiOjExMn19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwiYnVzdGNhY2hlIjoidGVzdCIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9leGhpY29ucy9teXMtaWNvbnMyNV9uZXctcHJvZHVjdC0xNjA2YmE1MC1iYTk1LTQ1MmEtMmYxNzJmNGUyZjBmYTBjMS5wbmcifQ== 2x"
									height="56"
									
									width="56"
									alt="New Product"
									title="New Product"
									onerror="this.onerror=null;this.src='/8_0/assets/imgs/1x1.gif';" />
								
									<p class="label">New Product</p>
								
							</div>

							
				</article>
			

				<article class="section-wrapper-1_exhibitor section--learnMore">
					<a class="mys-btn  mys-primary" :href="exhURL()">Learn More</a>
				</article>
			</section>
		</div>
	</main>

	
	
					<script type="text/x-template" id="company-description">
						
						<div id="section-description" class="section-description">
							<div ref="companydescription" class="line-clamp__10 animated" :class="[ readMoreOpen ? 'fadeIn' : 'line-clamp']">
								<p v-html="description"></p>
							</div>

							<button
								v-if="needLineClamp"
								id="js-sectionToggleBtn"
								:title="[ readMoreOpen ? readLessText : readMoreText]"
								class="flow btn-v2 link mt3 descriptionBtn"
								@click="toggleReadMore">
								{{readMoreOpen ? readLessText : readMoreText}} {{aboutExhibitorText}} {{exhname}}
							</button>
							<hr class="o-PageDivider mt5 mb0">
						</div>
					</script>
				

				<script>
					var sectionDescription = Vue.component('company-description', {
						name:'sectiondescription',
						template:"#company-description",
						data: function() {
							return {
								needLineClamp: false,
								readMoreOpen: false,
								description: "Welcome to the wonderful world of Wizzie\'s Tea! \r\n\r\nWe are a three generation women owned family business with a passion for tea and gratitude for community. It all began almost 50 years ago when Wizzie, our beloved matriarch, stumbled upon some fresh mint growing wild by a spring on our farm in Chester County, Pennsylvania. With a stroke of inspiration and just four simple ingredients, she brewed the first batch of what would quickly become our treasured family recipe: Wizzie’s Lemon Mint Tea. Over the years, we’ve shared this unique blend with friends and neighbors alike. As our story grows, we developed four additional irresistible flavors to join our family of teas - Peach Ginger, Blueberry Hibiscus, Passion Fruit Lime, and Lemon Mint Green Tea! Enjoy all five of our teas and find out why Wizzie’s is truly Tea to Talk About!™",
								exhname: "Wizzie\'s Tea, LLC",
								readMoreText: "",
								readLessText: "",
								aboutExhibitorText: "About"
							}
						},
						mounted: function() {
							const descriptionObserver = new ResizeObserver((entry) => {
								this.checkNeedLineClamp()
							})
							descriptionObserver.observe(this.$refs.companydescription);
						},
						methods: {
							toggleReadMore: function() {
								this.readMoreOpen = !this.readMoreOpen
							},
							checkNeedLineClamp: function() {
								if(this.$refs.companydescription) {
									if(this.$refs.companydescription.scrollHeight > this.$refs.companydescription.clientHeight) {
										this.needLineClamp = true
									} else if (!this.readMoreOpen) {
										this.needLineClamp = false;
									}
								}
							}
						}
					});
				</script>
			
				<script type="text/x-template" id="contactinfo_v3-template">
					<div class="column-wrapper">
						<address class="column address" v-if="hasAddressData">
							<p v-if="addressValues.ADDRESS1">{{addressValues.ADDRESS1}}</p>
							<p v-if="addressValues.ADDRESS2">{{addressValues.ADDRESS2}}</p>
							<p v-if="addressValues.ADDRESS3">{{addressValues.ADDRESS3}}</p>

							<p v-if="addressValues.CITY || addressValues.STATE || addressValues.ZIP">
								<template v-if="addressValues.CITY">{{addressValues.CITY}}</template><template v-if="addressValues.city && addressValues.STATE">, </template>
								<template v-if="addressValues.STATE">{{addressValues.STATE}}</template>
								<template v-if="addressValues.ZIP">{{addressValues.ZIP}}</template>
							</p>
							<p v-if="addressValues.COUNTRY">{{addressValues.COUNTRY}}</p>
						</address>

						
						<div class="column contact-info" v-if="hasWebsiteData || hasPhone || hasFax">
							<ul class="list__icons f4">
								<li v-if="hasWebsiteData">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
										<path d="M12.5026 21.7558C11.1887 21.7558 9.95366 21.5065 8.79753 21.0078C7.64138 20.5091 6.63569 19.8324 5.78048 18.9776C4.92524 18.1227 4.24819 17.1175 3.7493 15.9618C3.25042 14.8062 3.00098 13.5714 3.00098 12.2575C3.00098 10.9436 3.25031 9.70854 3.74898 8.55241C4.24764 7.39626 4.92439 6.39058 5.77923 5.53536C6.63408 4.68013 7.63932 4.00307 8.79495 3.50419C9.95057 3.0053 11.1853 2.75586 12.4993 2.75586C13.8132 2.75586 15.0482 3.00519 16.2044 3.50386C17.3605 4.00253 18.3662 4.67928 19.2214 5.53411C20.0767 6.38896 20.7537 7.3942 21.2526 8.54984C21.7515 9.70545 22.0009 10.9402 22.0009 12.2542C22.0009 13.5681 21.7516 14.8031 21.2529 15.9593C20.7543 17.1154 20.0775 18.1211 19.2227 18.9763C18.3678 19.8315 17.3626 20.5086 16.207 21.0075C15.0513 21.5064 13.8166 21.7558 12.5026 21.7558ZM11.501 20.2058V18.2558C10.951 18.2558 10.4801 18.06 10.0885 17.6683C9.69678 17.2767 9.50095 16.8058 9.50095 16.2558V15.2558L4.70095 10.4558C4.65095 10.7558 4.60512 11.0558 4.56345 11.3558C4.52179 11.6558 4.50095 11.9558 4.50095 12.2558C4.50095 14.2725 5.16345 16.0392 6.48845 17.5558C7.81345 19.0725 9.48428 19.9558 11.501 20.2058ZM18.401 17.6558C18.7343 17.2892 19.0343 16.8933 19.301 16.4683C19.5676 16.0433 19.7885 15.6017 19.9635 15.1433C20.1385 14.685 20.2718 14.2142 20.3635 13.7308C20.4551 13.2475 20.501 12.7558 20.501 12.2558C20.501 10.6177 20.0484 9.12158 19.1433 7.76758C18.2381 6.4136 17.024 5.43661 15.501 4.83661V5.25584C15.501 5.80584 15.3051 6.27667 14.9135 6.66834C14.5218 7.06 14.051 7.25584 13.501 7.25584H11.501V9.25584C11.501 9.53917 11.4051 9.77667 11.2135 9.96834C11.0218 10.16 10.7843 10.2558 10.501 10.2558H8.50095V12.2558H14.501C14.7843 12.2558 15.0218 12.3517 15.2135 12.5433C15.4051 12.735 15.501 12.9725 15.501 13.2558V16.2558H16.501C16.9343 16.2558 17.326 16.385 17.676 16.6433C18.026 16.9017 18.2676 17.2392 18.401 17.6558Z"/>
									</svg>
									<a :href="websiteValue"
										target="_blank"
										@click="logStats('URL Link', '', exhid, websiteValue)"
										:title="'Visit ' + exhname + ' on the web'">
										{{websiteValue.replace(/^(https?|ftp):\/\//, "")}}
									</a>
								</li>
								<li v-if="hasPhone">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
										<path d="M19.9394 20.7558C18.0548 20.7558 16.1615 20.3177 14.2596 19.4414C12.3577 18.5651 10.6086 17.3289 9.01247 15.7327C7.42274 14.1366 6.18973 12.3892 5.31345 10.4905C4.43716 8.59174 3.99902 6.70009 3.99902 4.81548C3.99902 4.51548 4.09902 4.26388 4.29902 4.06068C4.49902 3.85747 4.74902 3.75586 5.04902 3.75586H8.31052C8.56309 3.75586 8.78585 3.83823 8.9788 4.00298C9.17175 4.16773 9.2945 4.37126 9.34705 4.61356L9.92012 7.55584C9.95987 7.82892 9.95154 8.06354 9.89512 8.25969C9.83872 8.45583 9.73744 8.62058 9.59127 8.75391L7.28167 11.002C7.65347 11.6828 8.07816 12.3267 8.55572 12.9337C9.03329 13.5408 9.55027 14.1206 10.1067 14.6732C10.6554 15.2219 11.2387 15.7315 11.8567 16.202C12.4746 16.6725 13.142 17.1103 13.8586 17.5155L16.1028 15.252C16.2593 15.0892 16.4487 14.9751 16.6711 14.9097C16.8936 14.8443 17.1246 14.8283 17.3644 14.8616L20.1413 15.427C20.3938 15.4937 20.5999 15.6225 20.7596 15.8135C20.9192 16.0046 20.999 16.2212 20.999 16.4636V19.7058C20.999 20.0058 20.8974 20.2558 20.6942 20.4558C20.491 20.6558 20.2394 20.7558 19.9394 20.7558Z"/>
									</svg>
									{{phoneValue}}
								</li>
								<li v-if="hasFax">
									<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
										<path d="M8.24387 19.7507V9.25075H8.91699V4.42383H18.4169V9.25075H19.667C20.4309 9.25075 21.0802 9.51811 21.6149 10.0528C22.1496 10.5875 22.4169 11.2368 22.4169 12.0007V19.7507H8.24387ZM5.13934 20.7507C5.76159 20.7507 6.28714 20.536 6.71599 20.1066C7.14483 19.6772 7.35924 19.1515 7.35924 18.5296V10.4719C7.35924 9.84996 7.14442 9.32429 6.71477 8.89488C6.28512 8.46546 5.75916 8.25075 5.13689 8.25075C4.51464 8.25075 3.98909 8.46546 3.56024 8.89488C3.13141 9.32429 2.91699 9.84996 2.91699 10.4719V18.5296C2.91699 19.1515 3.13182 19.6772 3.56147 20.1066C3.99112 20.536 4.51708 20.7507 5.13934 20.7507ZM10.4169 9.25075H16.917V5.9238H10.4169V9.25075ZM16.3785 14.0007C16.6618 14.0007 16.8993 13.9049 17.091 13.7132C17.2827 13.5216 17.3785 13.2841 17.3785 13.0007C17.3785 12.7174 17.2827 12.4799 17.091 12.2882C16.8993 12.0966 16.6618 12.0007 16.3785 12.0007C16.0952 12.0007 15.8577 12.0966 15.666 12.2882C15.4743 12.4799 15.3785 12.7174 15.3785 13.0007C15.3785 13.2841 15.4743 13.5216 15.666 13.7132C15.8577 13.9049 16.0952 14.0007 16.3785 14.0007ZM19.3785 14.0007C19.6618 14.0007 19.8993 13.9049 20.091 13.7132C20.2827 13.5216 20.3785 13.2841 20.3785 13.0007C20.3785 12.7174 20.2827 12.4799 20.091 12.2882C19.8993 12.0966 19.6618 12.0007 19.3785 12.0007C19.0952 12.0007 18.8577 12.0966 18.666 12.2882C18.4743 12.4799 18.3785 12.7174 18.3785 13.0007C18.3785 13.2841 18.4743 13.5216 18.666 13.7132C18.8577 13.9049 19.0952 14.0007 19.3785 14.0007ZM16.3785 17.0007C16.6618 17.0007 16.8993 16.9049 17.091 16.7132C17.2827 16.5216 17.3785 16.2841 17.3785 16.0007C17.3785 15.7174 17.2827 15.4799 17.091 15.2882C16.8993 15.0966 16.6618 15.0007 16.3785 15.0007C16.0952 15.0007 15.8577 15.0966 15.666 15.2882C15.4743 15.4799 15.3785 15.7174 15.3785 16.0007C15.3785 16.2841 15.4743 16.5216 15.666 16.7132C15.8577 16.9049 16.0952 17.0007 16.3785 17.0007ZM19.3785 17.0007C19.6618 17.0007 19.8993 16.9049 20.091 16.7132C20.2827 16.5216 20.3785 16.2841 20.3785 16.0007C20.3785 15.7174 20.2827 15.4799 20.091 15.2882C19.8993 15.0966 19.6618 15.0007 19.3785 15.0007C19.0952 15.0007 18.8577 15.0966 18.666 15.2882C18.4743 15.4799 18.3785 15.7174 18.3785 16.0007C18.3785 16.2841 18.4743 16.5216 18.666 16.7132C18.8577 16.9049 19.0952 17.0007 19.3785 17.0007ZM10.3785 17.0007H14.3785V12.0007H10.3785V17.0007Z" />
									</svg>
									{{faxValue}}
								</li>
							</ul>
						</div>
							<div class="column social-media_container" v-if="hasEmail || hasTwitter || hasLinkedIn || hasFacebook || hasInstagram">
								<template v-if="hasEmail && hasmyshow">
									<button
										:title="loggedin ? 'Email ' + exhname : 'Login to email ' + exhname"
										@click="sendEmailModalEvent()"
										v-if="shouldshowsendemail"
										class="btn_Icon_Square emailbtn">

										<svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
											<path d="M3.92243 16.25C3.50149 16.25 3.14518 16.1041 2.85352 15.8125C2.56185 15.5208 2.41602 15.1645 2.41602 14.7435V5.25642C2.41602 4.83547 2.56185 4.47917 2.85352 4.1875C3.14518 3.89583 3.50149 3.75 3.92243 3.75H16.7429C17.1638 3.75 17.5201 3.89583 17.8118 4.1875C18.1035 4.47917 18.2493 4.83547 18.2493 5.25642V14.7435C18.2493 15.1645 18.1035 15.5208 17.8118 15.8125C17.5201 16.1041 17.1638 16.25 16.7429 16.25H3.92243ZM10.3327 10.4647L3.666 6.20188V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H16.7429C16.8177 15 16.8791 14.9759 16.9272 14.9279C16.9753 14.8798 16.9993 14.8183 16.9993 14.7435V6.20188L10.3327 10.4647ZM10.3327 9.16665L16.8711 4.99998H3.7942L10.3327 9.16665ZM3.666 6.20188V4.99998V14.7435C3.666 14.8183 3.69004 14.8798 3.73812 14.9279C3.7862 14.9759 3.84764 15 3.92243 15H3.666V6.20188Z" />
										</svg>
									</button>
								</template>
									<a v-if="hasFacebook"
										class="btn_Icon_Square xbtn"
										:href="facebookValue"
										target="_blank"
										:title="'Like ' + exhname + ' on Facebook'"
										@click="logStats('Facebook Click', '', exhid, facebookValue);">
										<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
											<path d="M16.2267 9.25003H13.583V7.75003C13.583 6.97604 13.646 6.48854 14.7552 6.48854H16.1562V4.10355C15.4745 4.03305 14.789 3.99855 14.1027 4.00005C12.068 4.00005 10.583 5.24279 10.583 7.52429V9.25003H8.33301V12.25L10.583 12.2493V19H13.583V12.2478L15.8825 12.247L16.2267 9.25003Z"/>
										</svg>
									</a>
									<a v-if="hasTwitter"
										class="btn_Icon_Square xbtn"
										:href="twitterValue"
										target="_blank"
										:title="'Follow ' + exhname + ' on X'"
										@click="logStats('Twitter Click', '', exhid, twitterValue);">
										<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
											<path d="M14.0681 10.3515L19.5321 4H18.2373L13.4929 9.5149L9.70356 4H5.33301L11.0632 12.3395L5.33301 19H6.62788L11.6381 13.1761L15.6399 19H20.0105L14.0678 10.3515H14.0681ZM12.2946 12.413L11.714 11.5825L7.09444 4.97476H9.08328L12.8113 10.3075L13.3919 11.1379L18.2379 18.0696H16.2491L12.2946 12.4133V12.413Z" />
										</svg>
									</a>
									<a v-if="hasLinkedIn"
										class="btn_Icon_Square xbtn"
										:href="linkedInValue"
										target="_blank"
										:title="'Connect With ' + exhname + ' on LinkedIn'"
										@click="logStats('LinkedIn Click', '', exhid, linkedInValue);">
										<svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
											<path d="M7.10723 5C5.99825 5 5.33301 5.66664 5.33301 6.55434C5.33301 7.44204 5.99834 8.10615 6.99602 8.10615C8.105 8.10615 8.77024 7.44204 8.77024 6.55434C8.77024 5.66664 8.10492 5 7.10723 5ZM5.42147 9.76664V18.8248H8.68684V9.76664H5.42147ZM11.381 9.76664V18.8248H14.6464V13.8736C14.6464 12.3997 15.698 12.1879 16.0137 12.1879C16.3295 12.1879 17.1738 12.5046 17.1738 13.8736V18.8248H20.333V13.8736C20.333 11.0307 19.0697 9.76664 17.4897 9.76664C15.9097 9.76664 15.067 10.2927 14.6464 11.0303V9.76664H11.381Z"/>
										</svg>
									</a>
									<a v-if="hasInstagram"
										class="btn_Icon_Square xbtn"
										:href="instagramValue"
										target="_blank"
										:title="'Follow ' + exhname + ' on Instagram'"
										@click="logStats('Instagram Click', '', exhid, instagramValue);">
										<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none">
											<path fill="#333" d="M8.273 3.319c-.958.045-1.612.198-2.184.422-.591.231-1.093.54-1.592 1.041a4.409 4.409 0 0 0-1.035 1.595c-.222.573-.372 1.228-.414 2.186-.042.958-.052 1.266-.047 3.71.005 2.444.016 2.75.062 3.71.046.958.198 1.612.423 2.184.23.591.54 1.093 1.04 1.592.502.499 1.003.805 1.597 1.035.572.221 1.227.372 2.185.414.958.042 1.266.052 3.71.047 2.443-.005 2.75-.016 3.71-.061.96-.046 1.61-.2 2.183-.423a4.411 4.411 0 0 0 1.592-1.04 4.41 4.41 0 0 0 1.035-1.597c.221-.573.372-1.227.414-2.184.042-.961.051-1.268.047-3.711-.005-2.444-.016-2.75-.061-3.71-.046-.96-.198-1.612-.423-2.184a4.418 4.418 0 0 0-1.04-1.592c-.501-.5-1.004-.807-1.597-1.035-.572-.221-1.227-.372-2.185-.414-.958-.041-1.266-.052-3.71-.047-2.444.005-2.75.015-3.71.062Zm.105 16.27c-.878-.038-1.354-.184-1.672-.306a2.802 2.802 0 0 1-1.036-.672 2.772 2.772 0 0 1-.675-1.033c-.124-.318-.272-.793-.313-1.671-.045-.948-.054-1.233-.06-3.636-.005-2.403.005-2.687.046-3.636.038-.877.184-1.354.306-1.671.162-.421.357-.72.671-1.036a2.778 2.778 0 0 1 1.034-.676c.317-.123.793-.27 1.67-.312.95-.045 1.234-.054 3.636-.06 2.403-.005 2.688.004 3.638.046.876.038 1.354.183 1.67.306.421.162.72.356 1.037.671.316.315.511.613.675 1.034.124.316.271.792.313 1.67.045.949.055 1.234.06 3.636.004 2.402-.005 2.688-.046 3.636-.038.877-.184 1.354-.306 1.672a2.79 2.79 0 0 1-.672 1.036 2.78 2.78 0 0 1-1.034.675c-.316.124-.793.271-1.67.313-.948.045-1.233.054-3.636.06-2.403.005-2.687-.005-3.636-.046m7.337-12.143a1.08 1.08 0 1 0 2.16-.004 1.08 1.08 0 0 0-2.16.004Zm-8.336 4.819a4.62 4.62 0 1 0 9.242-.018 4.62 4.62 0 0 0-9.242.018ZM9 12.262a3 3 0 1 1 6-.012 3 3 0 0 1-6 .012Z"/>
										</svg>
									</a>
							</div>
					</div>
				</script>

				<script>
					var contactinfov3 = Vue.component('contactinfov3', {
						template: '#contactinfo_v3-template',
						data: function(){
							return {
								exhid: "321755",
								exhname: "Wizzie's Tea, LLC",
								loggedin: false,
								columnWrapper: null,
								observer: null,
								columns: null ,
								shouldshowsendemail: true,
								addressValues: {"ZIP":"22663","CITY":"White Post","COUNTRY":"United States","STATE":"Virginia","ADDRESS1":"199 Sugar Hill Rd.","ADDRESS3":"","ADDRESS2":""},
								websiteValue: "https:\/\/wizziestea.com\/",
								instagramValue: "",
								facebookValue: "",
								twitterValue: "",
								linkedInValue: "",
								phoneValue: "",
								faxValue: "",
								hasAddressData: true,
								hasWebsiteData: true,
								hasTwitter: false,
								hasLinkedIn: false,
								hasFacebook: false,
								hasInstagram: false,
								hasEmail: false,
								hasPhone: false,
								hasFax: false
							}
						},
						mounted: function() {
							var vObj = this;
							/* RESIZE OBSERVER FOR CONTACT SECTION TO HIDE/SHOW VERTICAL BORDERS ON WRAP */
							vObj.columnWrapper = document.querySelector('.section--contactinfo');
							vObj.columns = document.querySelectorAll('.section--contactinfo .column');

							vObj.observer = new ResizeObserver((entry) => {
								/* Idea for checking element top for wrap detection from here:
								https://stackoverflow.com/questions/40012428/how-to-detect-css-flex-wrap-event */

								let wrappedCols = [];
								let previousWrappedCols = wrappedCols[wrappedCols.length - 1]
								let previousCol = {};
								let currentCol = {};

								vObj.columns.forEach((column, index) => {
									currentCol = column.getBoundingClientRect();

									/* Remove column border if contact info element wraps */
									if (previousCol && previousCol.top < currentCol.top) {
										column.previousElementSibling.classList.remove('dynamicColumnBorder');
                                        /* Add top border to second column when it wraps */
                                        if(index == 1) {
                                            column.classList.add('dynamicRowBorder');
                                        }
										wrappedCols.push(column)
									}
									/* Re-add border if contact info element returns to initial unwrapped position */
									if (previousCol && previousCol.top >= currentCol.top) {
										column.previousElementSibling.classList.add('dynamicColumnBorder');
                                        /* Remove top border from second column when it wraps */
                                        if(index == 1) {
                                            column.classList.remove('dynamicRowBorder');
                                        }
										wrappedCols.pop(column);
									}

									previousCol = currentCol;
								})

								return wrappedCols;
							})

							vObj.observer.observe(vObj.columnWrapper);
						},
						methods: {
							sendEmailModalEvent: function(){
								this.$emit('open-email-modal');
							}
						}
					});
				</script>
			

	<script>
		var exhDetailsApp = new Vue({
			el: '#exhdetails',
			mixins: [messagedisplayMixin, exhdetailsemailexhibitormixin],
			name: 'ExhDetails',
			data: {
				exhname:"Wizzie\'s Tea, LLC",
				exhid: "321755",
				addedtoplanner: false,
				loading: false,
				exhibitorgalleryshown: false,
				thumbnails: [
				
							{
								'thumbnailSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6OTAwLCJoZWlnaHQiOjY3NSwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImIiOjI1NSwiZyI6MjU1LCJhbHBoYSI6MX19fSwiYnVja2V0IjoibXlzLXNob3dmaWxlcyIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9zaG93X2ZlYXR1cmVzLzMyMTc1NS9jcm9wcGVkaW1hZ2VfSVRCS0VYREouanBlZyJ9',
								'thumbnailSrc2': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6MTgwMCwiaGVpZ2h0IjoxMzUwLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiYiI6MjU1LCJnIjoyNTUsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9JVEJLRVhESi5qcGVnIn0=',
								'previewSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY29udGFpbiIsIndpZHRoIjoxMjAwLCJiYWNrZ3JvdW5kIjp7InIiOjAsImIiOjAsImciOjAsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9JVEJLRVhESi5qcGVnIn0=',
								'directorythumbnailSrc': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorythumbnailSrc2': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorypreviewSrc': '/mys_shared/SFF2025/showfeatures/321755/croppedimage_ITBKEXDJ.jpeg',
								'exhibitorName': 'Wizzie\'s Tea, LLC',
								'featureTitleText': 'Wizzie\'s Fresh Brewed Teas',
								'mediatype': 'image',
								'description': '<p>Wizzie’s Tea has been enjoyed by our family and friends for generations and we’re thrilled to bring it to you. We take great care to ensure that our curated blends are crafted using quality, organic, and Fair Trade ingredients. With bold, juicy, and refreshing flavors, our fresh brewed iced teas can be enjoyed straight from the bottle or used as a cocktail mixer. Either way, they are sure to tantalize your taste buds and leave no doubt that Wizzie’s is truly Tea to Talk About!™</p>',
								'toggletype': 'showfeature',
								'togglekeys': '18',
								'exhid': '321755',
								'addedtoplanner': false,
								'tags' : ''
							}
						,
							{
								'thumbnailSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6OTAwLCJoZWlnaHQiOjY3NSwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImIiOjI1NSwiZyI6MjU1LCJhbHBoYSI6MX19fSwiYnVja2V0IjoibXlzLXNob3dmaWxlcyIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9zaG93X2ZlYXR1cmVzLzMyMTc1NS9jcm9wcGVkaW1hZ2VfT0ZZUlZYVVguanBlZyJ9',
								'thumbnailSrc2': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6MTgwMCwiaGVpZ2h0IjoxMzUwLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiYiI6MjU1LCJnIjoyNTUsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9PRllSVlhVWC5qcGVnIn0=',
								'previewSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY29udGFpbiIsIndpZHRoIjoxMjAwLCJiYWNrZ3JvdW5kIjp7InIiOjAsImIiOjAsImciOjAsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9PRllSVlhVWC5qcGVnIn0=',
								'directorythumbnailSrc': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorythumbnailSrc2': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorypreviewSrc': '/mys_shared/SFF2025/showfeatures/321755/croppedimage_OFYRVXUX.jpeg',
								'exhibitorName': 'Wizzie\'s Tea, LLC',
								'featureTitleText': 'Wizzie\'s Fresh Brewed Teas - Flavor Profiles',
								'mediatype': 'image',
								'description': '<p>We have 5 delicious flavors!&nbsp;</p><p><strong><u>Lemon Mint</u></strong></p><p>Brewed with Ceylon black tea, fresh spearmint leaves, cane sugar, and a generous squeeze of lemon, this classic flavor is uniquely bold and refreshing. Enjoy as your go-to thirst quencher, time and time again.</p><p><strong><u>Peach Ginger</u></strong></p><p>Blending premium Ceylon black tea with sweet juicy flavors of peach and a subtle kick of ginger this brew is a true taste sensation. Satisfy your thirst for summertime nostalgia all year long.&nbsp;</p><p><strong><u>Blueberry Hibiscus</u></strong></p><p>Unlock the natural health benefits of blueberries and hibiscus, known for their antioxidant properties. We’ve sweetened this blend with a touch of blue agave, and because it’s caffeine-free it’s the perfect choice for any time of day!</p><p><strong><u>Passion Fruit Lime</u></strong></p><p>Crafted with premium Ceylon black tea and a touch of cane sugar, this recipe reflects our original bold and refreshing flavor profile, while adding a tropical twist. Our Passion Fruit Lime tea delivers a paradise-infused delight in every sip.</p><p><strong><u>Lemon Mint Green Tea</u></strong></p><p>Made with gunpowder green tea, fresh spearmint, a bright squeeze of lemon, and a hint of lemongrass, this brew is crisp and balanced. Lightly sweetened with organic honey and blue agave, Wizzie’s antioxidant rich Lemon Mint Green Tea is the go to for a gentle lift, or a thirst quenching moment to unwind.</p>',
								'toggletype': 'showfeature',
								'togglekeys': '51',
								'exhid': '321755',
								'addedtoplanner': false,
								'tags' : ''
							}
						,
							{
								'thumbnailSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6OTAwLCJoZWlnaHQiOjY3NSwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImIiOjI1NSwiZyI6MjU1LCJhbHBoYSI6MX19fSwiYnVja2V0IjoibXlzLXNob3dmaWxlcyIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9zaG93X2ZlYXR1cmVzLzMyMTc1NS9jcm9wcGVkaW1hZ2VfUE9FSUNCTUsuanBlZyJ9',
								'thumbnailSrc2': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6MTgwMCwiaGVpZ2h0IjoxMzUwLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiYiI6MjU1LCJnIjoyNTUsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9QT0VJQ0JNSy5qcGVnIn0=',
								'previewSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY29udGFpbiIsIndpZHRoIjoxMjAwLCJiYWNrZ3JvdW5kIjp7InIiOjAsImIiOjAsImciOjAsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9QT0VJQ0JNSy5qcGVnIn0=',
								'directorythumbnailSrc': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorythumbnailSrc2': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorypreviewSrc': '/mys_shared/SFF2025/showfeatures/321755/croppedimage_POEICBMK.jpeg',
								'exhibitorName': 'Wizzie\'s Tea, LLC',
								'featureTitleText': 'Wizzie\'s Lemon Mint Fresh Brewed Tea - Our Original Flavor!',
								'mediatype': 'image',
								'description': '<p>Recharge and unwind with our original recipe, Wizzie’s Lemon Mint Tea. This crisp and energizing brew was first crafted in 1975 using mint that grew wild by the spring on our farm. Today, we’re proud to continue our family tradition and share this delicious tea with you.</p><p>Brewed with Ceylon black tea, fresh spearmint leaves, cane sugar, and a generous squeeze of lemon, this classic flavor is uniquely bold and refreshing.</p><p>&nbsp;We infuse all of our fresh brewed teas with pure fruit juices and botanicals, creating iced teas that are bold, thirst quenching and full of flavor. Enjoy Wizzie\'s Tea as your go-to thirst quencher, time and time again!</p>',
								'toggletype': 'showfeature',
								'togglekeys': '52',
								'exhid': '321755',
								'addedtoplanner': false,
								'tags' : ''
							}
						,
							{
								'thumbnailSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6OTAwLCJoZWlnaHQiOjY3NSwiYmFja2dyb3VuZCI6eyJyIjoyNTUsImIiOjI1NSwiZyI6MjU1LCJhbHBoYSI6MX19fSwiYnVja2V0IjoibXlzLXNob3dmaWxlcyIsImtleSI6InByb2R1Y3Rpb24vc2ZmMjAyNS9zaG93X2ZlYXR1cmVzLzMyMTc1NS9jcm9wcGVkaW1hZ2VfQkFYSFlQRlouanBlZyJ9',
								'thumbnailSrc2': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY292ZXIiLCJ3aWR0aCI6MTgwMCwiaGVpZ2h0IjoxMzUwLCJiYWNrZ3JvdW5kIjp7InIiOjI1NSwiYiI6MjU1LCJnIjoyNTUsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9CQVhIWVBGWi5qcGVnIn0=',
								'previewSrc': 'https://d3v3dteq7gyu45.cloudfront.net/eyJlZGl0cyI6eyJyZXNpemUiOnsiZml0IjoiY29udGFpbiIsIndpZHRoIjoxMjAwLCJiYWNrZ3JvdW5kIjp7InIiOjAsImIiOjAsImciOjAsImFscGhhIjoxfX19LCJidWNrZXQiOiJteXMtc2hvd2ZpbGVzIiwia2V5IjoicHJvZHVjdGlvbi9zZmYyMDI1L3Nob3dfZmVhdHVyZXMvMzIxNzU1L2Nyb3BwZWRpbWFnZV9CQVhIWVBGWi5qcGVnIn0=',
								'directorythumbnailSrc': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorythumbnailSrc2': '/mys_shared/SFF2025/showfeatures/321755/null',
								'directorypreviewSrc': '/mys_shared/SFF2025/showfeatures/321755/croppedimage_BAXHYPFZ.jpeg',
								'exhibitorName': 'Wizzie\'s Tea, LLC',
								'featureTitleText': 'Wizzie\'s Tea makes a great cocktail/mocktail mixer!',
								'mediatype': 'image',
								'description': '<p>Wizzie\'s Tea makes a delicious cocktail and mocktail mixer!</p><p>No matter the flavor, we always use simple, quality ingredients to create our delicious brewed teas. The balance of bold flavors and lightly sweetened tea makes Wizzie’s the ultimate drink to pair with a variety of foods or use as a <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wizziestea.com/recipes\"><strong>cocktail mixer</strong></a>. It’s the ideal choice for your next cookout, party, or special occasion.</p><p>While the refreshing nature of Wizzie’s Tea is reminiscent of summertime and happy moments with loved ones, it’s a thirst-quenching beverage that you can enjoy anytime, anywhere! We’re proud to be a women-owned business that’s committed to sharing our family’s fresh brews with you.</p><p>Recipes can be found at <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://wizziestea.com/recipes/\">wizziestea.com/recipes/</a>.</p>',
								'toggletype': 'showfeature',
								'togglekeys': '53',
								'exhid': '321755',
								'addedtoplanner': false,
								'tags' : ''
							}
						
				]
			},
			mounted: function() {
				this.$root.$on('showcase-gallery-open', function(data) {
					this.toggleExhibitorGallery();
				});
				this.$root.$on('showcase-gallery-open-selected', function(data) {
					this.toggleExhibitorGallery();
				});
				this.$root.$on('item-selected', function(data){
					this.logShowFeatureStats(data);
				});
			},
			methods: {
				toggleExhibitorGallery: function() {
					this.exhibitorgalleryshown = true;
				},
				closeShowcaseModal: function() {
					this.exhibitorgalleryshown = false;
				},
				logShowFeatureStats: function(event){
					var featureid = event.togglekeys;
					this.logStats('Show Feature Viewed', "", this.exhid, event.togglekeys);
				},
				exhURL: function(){
		  			return this.getExhibitorURL(this.exhid, this.exhname);
		  		}
			}
		});
	</script>
